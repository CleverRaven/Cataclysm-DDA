[
  {
    "type": "npc",
    "id": "NPC_cabin_chemist",
    "class": "NC_CHEM_MERCHANT",
    "name_suffix": "chemist",
    "attitude": 0,
    "mission": 3,
    "chat": "TALK_NPC_CABIN_CHEMIST",
    "faction": "wasteland_scavengers",
    "mission_offered": "MISSION_CABIN_CHEMIST_GET_analytical_set_basic"
  },
  {
    "type": "npc_class",
    "id": "NC_CHEM_MERCHANT",
    "name": { "str": "Chemist" },
    "job_description": "I make and sell chemicals",
    "common": false,
    "traits": [
      { "group": "BG_survival_story_RURAL" },
      { "group": "NPC_starting_traits" },
      { "group": "Appearance_demographics" },
      { "trait": "NO_BASH" },
      { "trait": "RETURN_TO_START_POS" }
    ],
    "bonus_int": { "rng": [ 1, 2 ] },
    "shopkeeper_item_group": [ 
      { "group": "cabin_chemist_sell_base", "rigid": true },
      { "group": "cabin_chemist_sell_trusted", "rigid": true, "strict": true, "condition": { "npc_has_var": "mass_chem_tradeable", "type": "dialogue", "context": "trade", "value": "yes"  } }
     ],
    "skills": [
      { "skill": "ALL", "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "rng": [ 0, -4 ] } ] } ] } },
      { "skill": "speech", "bonus": { "rng": [ 0, 2 ] } },
      { "skill": "firstaid", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "chemistry", "bonus": { "rng": [ 3, 5 ] } }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST",
    "dynamic_line": "Hello, <name_g>.",
    "responses": [
      { "text": "Hello.", "topic": "TALK_NPC_CABIN_CHEMIST_INTRO" },
      {
        "text": "Hands up!",
        "trial": { "type": "INTIMIDATE", "difficulty": 30 },
        "success": { "topic": "TALK_WEAPON_DROPPED", "effect": "drop_weapon", "opinion": { "trust": -4, "fear": 3 } },
        "failure": { "topic": "TALK_DONE", "effect": "hostile" },
        "condition": { "not": { "npc_has_var": "talked_to_merchant", "type": "dialogue", "context": "first_meeting", "value": "yes" } }
      },
      { "text": "Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_INTRO",
    "dynamic_line": "So, what's up?",
    "responses": [
      { "text": "Who are you?", "topic": "TALK_NPC_CABIN_CHEMIST_STORY" },
      { "text": "What is this place?", "topic": "TALK_NPC_CABIN_CHEMIST_HOME" },
      {
        "text": "Can you make chemicals for me?",
        "topic": "TALK_CABIN_CHEMIST_CAN_I_BUY"
      },
      { "text": "Care to trade?", "topic": "TALK_NPC_CABIN_CHEMIST_INTRO", "effect": "start_trade" },
      {
        "text": "Any jobs you need done?",
        "condition": { "and": [ { "not": "has_assigned_mission" }, { "not": "has_many_assigned_missions" } ] },
        "topic": "TALK_MISSION_LIST"
      },
      { "text": "I gotta go.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_STORY",
    "dynamic_line": "I used to be a chemist.  Well, I am a chemist.  I've been living out here in the wilderness for a little while now since <the_cataclysm>.  Even brought some of my equipment, though unfortunately missing some of the more sensitive and expensive stuff.  I found a couple useful things here in the cupboards, but other than that, entirely empty.  So, I moved in.",
    "responses": [ { "text": "Hmm.", "topic": "TALK_NONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_HOME",
    "dynamic_line": "Not my place, just somewhere I ended up.  Some old shack, maybe a hunting cabin or something moreâ€¦ criminal, at least judging by some of what I found on the shelves.  You certainly wouldn't attract much attention synthesizing illegal substances all the way out here, that's all I'm saying.  I found it while I was trying to escape all the <zombies> in the city, and I decided to stay.",
    "responses": [ { "text": "Hmm.", "topic": "TALK_NONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CABIN_CHEMIST_CAN_I_BUY",
    "dynamic_line": {
      "u_has_var": "mass_chem_tradeable",
      "type": "dialogue",
      "context": "trade",
      "value": "yes",
      "no": "I have to scavenge for most of what you see here, but if I had some more supplies I could easily cook up some antifungal powder and adjust the dosage for medicine.  I also know how to make some other stuff which would be useful.  Used to make napalm in my dad's garage, haha!",
      "yes": "Now that you've brought me some basic supplies, it's much easier to make what I need.  On top of the supplies I typically scavenge for, I can now cook up some explosives and stuff like antifungal powder."
    },
    "responses": [ { "text": "Sounds good to me.", "topic": "TALK_NONE" } ]
  }
]
