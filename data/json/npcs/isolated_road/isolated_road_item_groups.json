[
  {
    "type": "item_group",
    "id": "CODY_MILLER_trade",
    "subtype": "collection",
    "entries": [
      { "group": "sca_smith_manuals", "count": [ 0, 1 ], "prob": 100 },
      { "group": "sca_smith_armor", "count": [ 1, 2 ], "prob": 100 },
      { "group": "sca_smith_ranged", "count": [ 0, 1 ], "prob": 100 },
      { "group": "sca_smith_weapons", "count": [ 0, 1 ], "prob": 100 },
      { "group": "sca_smith_accessories", "count": [ 0, 1 ], "prob": 100 },
      { "group": "sca_smith_ammo", "count": [ 0, 2 ], "prob": 100 }
    ]
  },
  {
    "type": "item_group",
    "id": "JAY_RUCKERS_trade",
    "subtype": "collection",
    "entries": [
      { "group": "gunsmith_basic_ammo", "count": [ 1, 4 ], "prob": 100 },
      { "group": "gunsmith_repack_ammo", "count": [ 1, 4 ], "prob": 100 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_armor",
    "subtype": "distribution",
    "entries": [
      { "item": "gambeson", "prob": 2 },
      { "item": "armor_lamellar", "prob": 2 },
      { "item": "cuirass_lightplate", "prob": 2 },
      { "item": "armguard_lightplate", "prob": 2 },
      { "item": "legguard_lightplate", "prob": 2 },
      { "item": "armor_samurai", "prob": 2 },
      { "item": "helmet_kabuto", "prob": 2 },
      { "item": "gloves_plate", "prob": 2 },
      { "item": "boots_plate", "prob": 2 },
      { "item": "helmet_barbute", "prob": 2 },
      { "item": "helmet_conical", "prob": 2 },
      { "item": "helmet_galea", "prob": 2 },
      { "item": "helmet_nasal", "prob": 2 },
      { "item": "helmet_kettle", "prob": 2 },
      { "item": "helmet_sallet", "prob": 2 },
      { "item": "helmet_armet", "prob": 2 },
      { "item": "chainmail_suit", "prob": 2 },
      { "item": "chainmail_hood", "prob": 2 },
      { "item": "chainmail_vest", "prob": 2 },
      { "item": "chainmail_arms", "prob": 2 },
      { "item": "chainmail_legs", "prob": 2 },
      { "item": "chainmail_feet", "prob": 2 },
      { "item": "chainmail_hands", "prob": 2 },
      { "item": "legguard_metal", "prob": 2 },
      { "item": "helmet_plate", "prob": 2 },
      { "item": "helmet_larmor", "prob": 2 },
      { "item": "boots_larmor", "prob": 2 },
      { "item": "armor_larmor", "prob": 2 },
      { "item": "armguard_larmor", "prob": 2 },
      { "item": "vambrace_larmor", "prob": 2 },
      { "item": "helmet_corinthian", "prob": 2 },
      { "item": "armor_cuirass", "prob": 2 },
      { "item": "legguard_bronze", "prob": 2 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_manuals",
    "subtype": "distribution",
    "entries": [
      { "item": "textbook_weapwest", "prob": 5 },
      { "item": "textbook_weapeast", "prob": 5 },
      { "item": "textbook_armwest", "prob": 5 },
      { "item": "textbook_armeast", "prob": 5 },
      { "item": "textbook_armschina", "prob": 5 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_weapons",
    "subtype": "distribution",
    "entries": [
      { "item": "katana", "prob": 1 },
      { "item": "cestus", "prob": 1 },
      { "item": "mace", "prob": 3 },
      { "item": "morningstar", "prob": 3 },
      { "item": "glaive", "prob": 2 },
      { "item": "rapier", "prob": 2 },
      { "item": "cavalry_sabre", "prob": 2 },
      { "item": "estoc", "prob": 2 },
      { "item": "cutlass", "prob": 2 },
      { "item": "scimitar", "prob": 2 },
      { "item": "arming_sword", "prob": 4 },
      { "item": "broadsword", "prob": 4 },
      { "item": "longsword", "prob": 3 },
      { "item": "zweihander", "prob": 2 },
      { "item": "battleaxe", "prob": 2 },
      { "item": "warhammer", "prob": 2 },
      { "item": "halberd", "prob": 4 },
      { "item": "lucern_hammer", "prob": 2 },
      { "item": "pike", "prob": 2 },
      { "item": "spear_steel", "prob": 2 },
      { "item": "shillelagh_weighted", "prob": 1 },
      { "item": "nodachi", "prob": 1 },
      { "item": "knife_baselard", "prob": 2 },
      { "item": "q_staff", "prob": 1 },
      { "item": "i_staff", "prob": 2 },
      { "item": "bagh_nakha", "prob": 1 },
      { "item": "kris", "prob": 1 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_ranged",
    "subtype": "distribution",
    "entries": [
      { "item": "huge_crossbow", "prob": 2 },
      { "item": "rep_crossbow", "prob": 1 },
      { "item": "compcrossbow", "prob": 2 },
      { "item": "compositecrossbow", "prob": 2 },
      { "item": "shortbow", "prob": 1 },
      { "item": "compbow", "prob": 2 },
      { "item": "compositebow", "prob": 2 },
      { "item": "reflexbow", "prob": 2 },
      { "item": "recurbow", "prob": 2 },
      { "item": "longbow", "prob": 2 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_ammo",
    "subtype": "distribution",
    "entries": [
      { "item": "bolt_steel", "prob": 2 },
      { "item": "bolt_wood_bodkin", "prob": 2 },
      { "item": "arrow_field_point_fletched", "prob": 2 },
      { "item": "arrow_metal_bodkin", "prob": 2 }
    ]
  },
  {
    "type": "item_group",
    "id": "sca_smith_accessories",
    "subtype": "distribution",
    "entries": [
      { "item": "tunic", "prob": 1 },
      { "item": "quiver", "prob": 2 },
      { "item": "quiver_large", "prob": 1 },
      { "item": "baldric", "prob": 2 },
      { "item": "scabbard", "prob": 2 },
      { "item": "bscabbard", "prob": 2 }
    ]
  },
  {
    "type": "item_group",
    "id": "gunsmith_basic_ammo",
    "//": "basic ammo that the gunsmith will trade to start",
    "subtype": "distribution",
    "entries": [
      { "item": "9mm", "prob": 1 },
      { "item": "44magnum", "prob": 1 },
      { "item": "45_acp", "prob": 1 },
      { "item": "57mm", "prob": 1 },
      { "item": "shot_00", "prob": 2 },
      { "item": "shot_slug", "prob": 1 },
      { "item": "3006", "prob": 1 },
      { "item": "762_m87", "prob": 3 },
      { "item": "556", "prob": 3 },
      { "item": "545", "prob": 3 },
      { "item": "762_51", "prob": 1 }
    ]
  },
  {
    "type": "item_group",
    "id": "gunsmith_repack_ammo",
    "//": "repacked ammo that the gunsmith will trade to start",
    "subtype": "distribution",
    "entries": [
      { "item": "reloaded_9mm", "prob": 1 },
      { "item": "reloaded_44magnum", "prob": 1 },
      { "item": "reloaded_45_acp", "prob": 1 },
      { "item": "reloaded_57mm", "prob": 1 },
      { "item": "reloaded_shot_00", "prob": 2 },
      { "item": "reloaded_3006", "prob": 1 },
      { "item": "reloaded_762_m87", "prob": 3 },
      { "item": "reloaded_556", "prob": 3 },
      { "item": "reloaded_545", "prob": 3 },
      { "item": "reloaded_762_51", "prob": 1 }
    ]
  },
  {
    "type": "item_group",
    "id": "kitted_kord",
    "subtype": "collection",
    "items": [
      {
        "item": "kord",
        "ammo-item": "545",
        "charges": 30,
        "contents-item": [ "shoulder_strap", "holo_sight", "muzzle_brake", "rail_laser_sight" ]
      }
    ]
  },
  {
    "type": "GENERIC",
    "id": "blacksmith_prototypes",
    "category": "books",
    "symbol": ",",
    "color": "white",
    "looks_like": "paper",
    "name": { "str_sp": "engineering notes" },
    "snippet_category": "artisan_docs",
    "description": "A collection of sketches and CAD designs marked up with pencil.  There are two peoples handwriting.",
    "price": 0,
    "price_postapoc": 0,
    "material": [ "paper" ],
    "weight": "3 g",
    "volume": "1 ml",
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "type": "mapgen",
    "method": "json",
    "update_mapgen_id": "jay_shop_update",
    "//": "Put a bit of extra stuff in the shop every week if you're checking back. Replacing what was there.",
    "object": {
      "place_nested": [
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_repack_clear", 30 ], [ "jay_shop_update_repack_add", 30 ] ],
          "x": 3,
          "y": 12
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_repack_clear", 30 ], [ "jay_shop_update_repack_add", 30 ] ],
          "x": 9,
          "y": 12
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_repack_clear", 30 ], [ "jay_shop_update_repack_add", 30 ] ],
          "x": 9,
          "y": 11
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_clear", 30 ], [ "jay_shop_update_add", 30 ] ],
          "x": 3,
          "y": 10
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_clear", 30 ], [ "jay_shop_update_add", 30 ] ],
          "x": 5,
          "y": 10
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_clear", 30 ], [ "jay_shop_update_add", 30 ] ],
          "x": 6,
          "y": 10
        },
        {
          "chunks": [ [ "null", 30 ], [ "jay_shop_update_clear", 30 ], [ "jay_shop_update_add", 30 ] ],
          "x": 7,
          "y": 10
        }
      ],
      "faction_owner": [
        { "id": "isolated_artisans", "x": [ 5, 7 ], "y": 10 },
        { "id": "isolated_artisans", "x": 9, "y": [ 11, 12 ] },
        { "id": "isolated_artisans", "x": 3, "y": 10 },
        { "id": "isolated_artisans", "x": 3, "y": 12 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "jay_shop_update_repack_clear",
    "//": "restock a shelf clearing it",
    "object": {
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_floor" },
      "mapping": {
        "X": {
          "terrain": "t_floor",
          "furniture": "f_utility_shelf",
          "items": [ { "item": "gunsmith_repack_ammo", "chance": 100, "repeat": [ 3, 6 ] } ]
        }
      }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "jay_shop_update_repack_add",
    "//": "restock a shelf adding to it",
    "object": {
      "flags": [ "ALLOW_TERRAIN_UNDER_OTHER_DATA" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_null" },
      "mapping": { "X": { "terrain": "t_null", "items": [ { "item": "gunsmith_repack_ammo", "chance": 100, "repeat": [ 1, 3 ] } ] } }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "jay_shop_update_clear",
    "//": "restock a shelf clearing it",
    "object": {
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_floor" },
      "mapping": {
        "X": {
          "terrain": "t_floor",
          "furniture": "f_utility_shelf",
          "items": [ { "item": "gunsmith_basic_ammo", "chance": 100, "repeat": [ 1, 4 ] } ]
        }
      }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "jay_shop_update_add",
    "//": "restock a shelf adding to it",
    "object": {
      "flags": [ "ALLOW_TERRAIN_UNDER_OTHER_DATA" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_null" },
      "mapping": { "X": { "terrain": "t_null", "items": [ { "item": "gunsmith_basic_ammo", "chance": 100, "repeat": [ 0, 2 ] } ] } }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "update_mapgen_id": "cody_shop_update",
    "//": "Put a bit of extra stuff in the shop every week if you're checking back. Replacing what was there.",
    "object": {
      "place_nested": [
        { "chunks": [ [ "null", 30 ], [ "cody_shop_update_clear", 30 ], [ "cody_shop_update_add", 30 ] ], "x": 12, "y": 8 },
        {
          "chunks": [ [ "null", 30 ], [ "cody_shop_update_clear", 30 ], [ "cody_shop_update_add", 30 ] ],
          "x": 12,
          "y": 9
        },
        {
          "chunks": [ [ "null", 30 ], [ "cody_shop_update_clear", 30 ], [ "cody_shop_update_add", 30 ] ],
          "x": 12,
          "y": 10
        },
        {
          "chunks": [ [ "null", 30 ], [ "cody_shop_update_clear", 30 ], [ "cody_shop_update_add", 30 ] ],
          "x": 12,
          "y": 11
        }
      ],
      "faction_owner": [ { "id": "isolated_artisans", "x": 12, "y": [ 8, 11 ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "cody_shop_update_clear",
    "//": "restock a shelf clearing it",
    "object": {
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_floor" },
      "mapping": {
        "X": { "terrain": "t_floor", "furniture": "f_utility_shelf", "items": [ { "item": "CODY_MILLER_trade", "chance": 100 } ] }
      }
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "cody_shop_update_add",
    "//": "restock a shelf adding to it",
    "object": {
      "flags": [ "ALLOW_TERRAIN_UNDER_OTHER_DATA" ],
      "mapgensize": [ 1, 1 ],
      "rows": [ "X" ],
      "terrain": { "X": "t_null" },
      "mapping": { "X": { "terrain": "t_null", "items": [ { "item": "CODY_MILLER_trade", "chance": 100 } ] } }
    }
  }
]
