[
  {
    "id": "TALK_BLACKSMITH_NOT_INTERESTED_FABRICATE",
    "//": "If you haven't completed the opening quest yet Cody will blow you off",
    "type": "talk_topic",
    "dynamic_line": [
      "Sorry, I don't really have the time to work on something like that.  I've got lots of pieces for sale."
    ],
    "responses": [
      { "text": "Alright.", "topic": "TALK_BLACKSMITH_SERVICES" }
    ]
  },
  {
    "id": "TALK_BLACKSMITH_FABRICATE",
    "//": "this is all the dialogue related to working on armor with Cody",
    "type": "talk_topic",
    "dynamic_line": [
      "Sure after what you did for me I'll equip an army for you.  I'll need some money to negotiate with the caravans and scavengers that come by.  What level of protection are you thinking?  I can do 2mm, 4mm, and 6mm suits depending on how much you want to resemble a tank.  Materials costs are 100 merch per 2mm.  whatever I save in non-scaling bits like the chain and leather I get gouged in looking for so much bulk steel."
    ],
    "responses": [
      { "text": "Forget it.", "topic": "TALK_BLACKSMITH_SERVICES" },
      {
        "text": "[100 merch 2 mm] I like to stay light.",
        "condition": {
             "u_has_items": { "item": "merch", "count": 100 }
        },
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "2" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      },
      {
        "text": "[200 merch 4 mm] A middle ground would be good.",
        "condition": {
             "u_has_items": { "item": "merch", "count": 200 }
        },
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "4" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      },
      {
        "text": "[300 merch 6 mm] Never skimp on protection.",
        "condition": {
             "u_has_items": { "item": "merch", "count": 300 }
        },
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "6" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      }
    ]
  },
  {
    "id": "TALK_BLACKSMITH_FABRICATE",
    "type": "talk_topic",
    "dynamic_line": {
      "u_compare_var": "blacksmith_thickness",
      "type": "number",
      "context": "artisans",
      "op": "==",
      "value": 2,
      "yes": "Alright 200 rounds, what are you looking to give me?",
      "no": "Alright 800 rounds, what are you looking to give me?"
    },
    "responses": [
      { "text": "Forget it.", "topic": "TALK_BLACKSMITH_SERVICES" },
      {
        "text": "[100 merch 2 mm] I like to stay light.",
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "2" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      },
      {
        "text": "[200 merch 4 mm] A middle ground would be good.",
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "4" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      },
      {
        "text": "[300 merch 6 mm] Never skimp on protection.",
        "effect": [ { "u_add_var": "blacksmith_thickness", "type": "number", "context": "artisans", "value": "6" } ],
        "topic": "TALK_GUNSMITH_CONVERT_FROM_TYPE"
      }
    ]
  }
]
