[
  {
    "type": "npc",
    "id": "exodii_merchant",
    "name_suffix": "Cyborg",
    "class": "NC_EXODII_TYPE_1_Merchant",
    "name_unique": "Rubik",
    "attitude": 0,
    "mission": 3,
    "chat": "TALK_EXODII_MERCHANT",
    "faction": "exodii"
  },
  {
    "type": "npc_class",
    "id": "NC_EXODII_TYPE_1_Merchant",
    "name": { "str": "Cyborg, type 1" },
    "job_description": "I'm a cyborg.",
    "traits": [
      { "trait": "EXODII_BODY_1" },
      { "//": "This needs to give the exodii a unique sprite and hide any worn or wielded overlays" }
    ],
    "common": false,
    "bonus_str": { "rng": [ 0, 6 ] },
    "bonus_dex": { "rng": [ 0, 6 ] },
    "bonus_int": { "rng": [ 0, 2 ] },
    "bonus_per": { "rng": [ 0, 4 ] },
    "shopkeeper_item_group": "EXODII_SHOP_Tier0",
    "carry_override": "NC_EXODII_TYPE_1_carried",
    "worn_override": "EMPTY_GROUP",
    "skills": [
      {
        "skill": "ALL",
        "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "constant": 0 }, { "one_in": 4 } ] } ] }
      },
      { "skill": "mechanics", "bonus": { "one_in": 2 } },
      { "skill": "electronics", "bonus": { "rng": [ 0, 2 ] } },
      { "skill": "speech", "bonus": { "rng": [ 5, 8 ] } }
    ]
  },
  {
    "type": "mutation",
    "id": "EXODII_BODY_1",
    "flags": [ "Exodii_Body" ],
    "name": { "str": "Exodii cyborg framework - style 1a" },
    "points": 0,
    "visibility": 4,
    "ugliness": 4,
    "mixed_effect": true,
    "description": "Your brain and some of your organs are shielded in a nice tough bipedal walker frame.",
    "valid": false,
    "purifiable": false,
    "types": [ "Cyberframe" ],
    "passive_mods": { "str_mod": 4, "dex_mod": 4 },
    "hp_adjustment": 20,
    "restricts_gear": [ "torso", "leg_l", "leg_r", "arm_l", "arm_r", "hand_l", "hand_r", "head", "foot_l", "foot_r" ],
    "weight_capacity_modifier": 3
  },
  {
    "type": "mutation_type",
    "id": "Cyberframe"
  },
  {
    "//": "table of contents: common response strings appearing in this list of topics",
    "id": [
      "TALK_EXODII_MERCHANT_Base",
      "TALK_EXODII_MERCHANT_Dialect_Anglic",
      "TALK_EXODII_MERCHANT_DoneTrade",
      "TALK_EXODII_MERCHANT_Exodii"
    ],
    "type": "talk_topic",
    "responses": [
      { "text": "What've you got for trade?", "effect": "start_trade", "topic": "TALK_EXODII_MERCHANT_DoneTrade" },
      { "text": "I don't understand a word you're saying.", "topic": "TALK_EXODII_MERCHANT_Dialect" },
      {
        "text": "[int 9] You're called exodii?  Does that mean you were driven out of your home?",
        "topic": "TALK_EXODII_MERCHANT_Exodii",
        "condition": { "u_has_intelligence": 9 }
      },
      { "text": "What kind of base is this?", "topic": "TALK_EXODII_MERCHANT_Base" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT",
    "type": "talk_topic",
    "dynamic_line": {
      "u_has_effect": "u_exodii_interaction_timer_short",
      "yes": [ "Back in a blink and a whiff, eh?", "Forgot sommat?", "Ah, a returnin', an I'm ken." ],
      "no": {
        "u_has_var": "u_met_Rubik",
        "type": "general",
        "context": "meeting",
        "value": "yes",
        "yes": [
          "And a fine return, matey.",
          "Fine and you still ain't dead.  What brings ye roun' Rubik's neckawoods?",
          "Bright and sunny, you're back!  I got goods for ye, if you got goods for me."
        ],
        "no": "Oy, you ain't dead.  Lookin' t'trade?"
      }
    },
    "speaker_effect": [
      {
        "sentinel": "interaction_timer_short",
        "condition": { "not": { "u_has_effect": "u_exodii_interaction_timer_short" } },
        "//": "Just coming and saying hi to Rubik regularly will give you a small boost to trust.",
        "effect": [
          { "u_add_effect": "u_exodii_interaction_timer_short", "duration": "30 hours" },
          { "u_adjust_var": "exodii_trust", "type": "counter", "context": "exodii", "adjustment": 1 }
        ]
      },
      {
        "sentinel": "interaction_timer_long",
        "condition": { "not": { "u_has_effect": "u_exodii_interaction_timer_long" } },
        "//": "Gives you a less frequent boost to trust for regular interactions with the exodii.",
        "effect": [
          { "u_add_effect": "u_exodii_interaction_timer_long", "duration": "7 days" },
          { "u_adjust_var": "exodii_trust", "type": "counter", "context": "exodii", "adjustment": 1 }
        ]
      }
    ],
    "responses": [
      {
        "text": "Who are you?  What is this place?",
        "topic": "TALK_EXODII_MERCHANT_New",
        "condition": { "not": { "u_has_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" } },
        "effect": { "u_add_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" }
      },
      {
        "text": "What've you got for trade?",
        "effect": "start_trade",
        "topic": "TALK_EXODII_MERCHANT_DoneTrade",
        "condition": { "u_has_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" }
      },
      {
        "text": "Actually, I wanted to talk.",
        "topic": "TALK_EXODII_MERCHANT_Talk",
        "condition": { "u_has_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" }
      },
      { "text": "Hell no, I'm out of here.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "effect_type",
    "id": "u_exodii_interaction_timer_short",
    "//": "This prevents you from building trust with the exodii too quickly by just talking to them constantly, and tells Rubik to use a different greeting because he saw you very recently."
  },
  {
    "type": "effect_type",
    "id": "u_exodii_interaction_timer_long",
    "//": "This prevents you from building trust with the exodii too quickly by just talking to them constantly."
  },
  {
    "id": "TALK_EXODII_MERCHANT_New",
    "type": "talk_topic",
    "dynamic_line": "Us call us the exodii, eh?  An' other things, but that'n's good.  This're our home, such as it.  This'n's monicked as Rubik, and tassed with a trade an'.  You lookin' to trade?  Us'n's alay for the scrap, metal an' more as it be.",
    "//~": "We call ourselves the exodii, eh?  And other things, but that's good.  This is our home, such as it is.  I'm called Rubik, and I've been assigned to trade with you.  Are you looking to trade?  We're always looking for scrap, metal and more.",
    "responses": [ { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_DoneTrade",
    "type": "talk_topic",
    "dynamic_line": [ "Good an' fine, then.", "Have it as ye'll see.", "For a card an' a wink, eh?" ],
    "responses": [
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Talk",
    "type": "talk_topic",
    "dynamic_line": "Sure as you c'n try.  Us're not the greatest yarker, nor do it all for gratis, kennit.",
    "//~": "You can surely try.  I'm not the greatest speaker, and I won't just chat forever for free, you know.",
    "responses": [
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Dialect",
    "type": "talk_topic",
    "dynamic_line": "Sure as ye can, at least sommat.  Us'n'll try as we might to parley your Anglic, but so ye kennit as us be from otherlands and all, it ain't that simple.",
    "responses": [
      {
        "text": "[int or per 7] How come you speak English, or uh, 'anglic' like that?",
        "condition": { "or": [ { "u_has_intelligence": 7 }, { "u_has_perception": 7 } ] },
        "topic": "TALK_EXODII_MERCHANT_Dialect_Anglic"
      },
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Exodus",
    "type": "talk_topic",
    "dynamic_line": "Oh yeah, right and so.  Each and every.  We wander, we make do.  It's a livin'.",
    "responses": [
      { "text": "What drove you out?", "topic": "TALK_EXODII_MERCHANT_Exodus2" },
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Exodus2",
    "type": "talk_topic",
    "dynamic_line": "Same as you will be, an I'm ken.  The enemy.  The dead.",
    "responses": [
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Dialect_Anglic",
    "type": "talk_topic",
    "dynamic_line": "Be an' as us're a gutter climber from ol' Upper Landin', this'll be our way o' yarkin'.  All an' all from our green an' brown yark like this'n.",
    "//~": "I'm a lowlife from old Upper Landing, this is my way of talking.  Everyone from where I come from talks like this.",
    "responses": [
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Base",
    "type": "talk_topic",
    "dynamic_line": "A junker base, innit?  Pile o' gamp.  Us'll pack it up and sing along soon enough.",
    "responses": [
      { "text": "Pack it up?  How can you pack up something like this?", "topic": "TALK_EXODII_MERCHANT_Base2" },
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Base2",
    "type": "talk_topic",
    "dynamic_line": "For an' how, ye be needin' to think wi' them elevens o' directions, kennit?  Us'll open a gate an' wibble-an-wobble.  Same as us came.",
    "responses": [
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  }
]
