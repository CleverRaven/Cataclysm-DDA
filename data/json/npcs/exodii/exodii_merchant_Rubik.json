[
  {
    "type": "npc",
    "id": "exodii_merchant",
    "name_suffix": "Cyborg",
    "class": "NC_EXODII_TYPE_1",
    "name_unique": "Rubik",
    "attitude": 0,
    "mission": 3,
    "chat": "TALK_EXODII_MERCHANT",
    "mission_offered": "MISSION_EXODII_MERCHANT_1",
    "faction": "exodii"
  },
  {
    "type": "npc_class",
    "id": "NC_EXODII_TYPE_1_Merchant",
    "name": { "str": "Cyborg, type 1" },
    "job_description": "I'm a cyborg.",
    "traits": [
      { "trait": "EXODII_BODY_1" },
      { "//": "This needs to give the exodii a unique sprite and hide any worn or wielded overlays" }
    ],
    "common": false,
    "bonus_str": { "rng": [ 0, 6 ] },
    "bonus_dex": { "rng": [ 0, 6 ] },
    "bonus_int": { "rng": [ 0, 2 ] },
    "bonus_per": { "rng": [ 0, 4 ] },
    "shopkeeper_item_group": "EXODII_SHOP_Tier0",
    "carry_override": "NC_EXODII_TYPE_1_carried",
    "skills": [
      {
        "skill": "ALL",
        "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "constant": 0 }, { "one_in": 4 } ] } ] }
      },
      { "skill": "mechanics", "bonus": { "one_in": 2 } },
      { "skill": "electronics", "bonus": { "rng": [ 0, 2 ] } },
      { "skill": "speech", "bonus": { "rng": [ 3, 5 ] } }
    ]
  },
  {
    "type": "mutation",
    "id": "EXODII_BODY_1",
    "flags": [ "Exodii_Body" ],
    "name": { "str": "Exodii cyborg framework - style 1a" },
    "points": 0,
    "visibility": 4,
    "ugliness": 4,
    "mixed_effect": true,
    "description": "Your brain and some of your organs are shielded in a nice tough bipedal walker frame.",
    "valid": false,
    "purifiable": false,
    "types": [ "Cyberframe" ],
    "passive_mods": { "str_mod": 4, "dex_mod": 4 },
    "hp_adjustment": 20,
    "restricts_gear": [ "torso", "leg_l", "leg_r", "arm_l", "arm_r", "hand_l", "hand_r", "head", "foot_l", "foot_r" ],
    "weight_capacity_modifier": 3
  },
  {
    "type": "mutation_type",
    "id": "Cyberframe"
  },
  {
    "//": "table of contents: common response strings appearing in this list of topics",
    "id": [
      "TALK_EXODII_MERCHANT_New",
      "TALK_EXODII_MERCHANT_Base",
      "TALK_EXODII_MERCHANT_Dialect",
      "TALK_EXODII_MERCHANT_DoneTrade",
      "TALK_EXODII_MERCHANT_Exodus",
      "TALK_EXODII_MERCHANT_Purpose",
      "TALK_EXODII_MERCHANT_Talk",
      "TALK_EXODII_MERCHANT_Tech"
    ],
    "type": "talk_topic",
    "responses": [
      { "text": "I don't understand a word you're saying.", "topic": "TALK_EXODII_MERCHANT_Dialect" },
      { "//": "--- the following require you to have done merchant_new first ---" },
      { "text": "What've you got for trade?", "effect": "start_trade", "topic": "TALK_EXODII_MERCHANT_DoneTrade" },
      {
        "text": "[int 9] You're called exodii?  Does that mean you were driven out of your home?",
        "topic": "TALK_EXODII_MERCHANT_Exodus"
      },
      { "text": "What kind of base is this?", "topic": "TALK_EXODII_MERCHANT_Base" },
      { "text": "What are you doing here?", "topic": "TALK_EXODII_MERCHANT_Purpose" },
      { "text": "[per 6] Some of this tech looks… weird.", "topic": "TALK_EXODII_MERCHANT_Tech" },
      { "text": "What was it you were saying before?", "topic": "TALK_NONE" },
      { "text": "Well, I'd better be going.  Bye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT",
    "type": "talk_topic",
    "dynamic_line": {
      "u_has_effect": "u_exodii_interaction_timer_short",
      "yes": [ "Back in a blink and a whiff, eh?", "Forgot sommat?", "Ah, a returnin', an I'm ken." ],
      "no": {
        "u_has_var": "u_met_Rubik",
        "type": "general",
        "context": "meeting",
        "value": "yes",
        "yes": [
          "And a fine return, matey.",
          "Fine and you still ain't dead.  Lookin' t'trade?",
          "Bright and sunny, you're back!  I got goods for ye, if you got goods for me."
        ],
        "no": "Oy, you ain't dead.  Lookin' t'trade?"
      }
    },
    "speaker_effect": [
      {
        "sentinel": "interaction_timer_short",
        "condition": { "not": { "u_has_effect": "u_exodii_interaction_timer_short" } },
        "//": "Just coming and saying hi to Rubik regularly will give you a small boost to trust.",
        "effect": [
          { "u_add_effect": "u_exodii_interaction_timer_short", "duration": "30 hours" },
          { "u_adjust_var": "exodii_trust", "type": "counter", "context": "exodii", "adjustment": 1 }
        ]
      },
      {
        "sentinel": "interaction_timer_long",
        "condition": { "not": { "u_has_effect": "u_exodii_interaction_timer_long" } },
        "//": "Gives you a less frequent boost to trust for regular interactions with the exodii.",
        "effect": [
          { "u_add_effect": "u_exodii_interaction_timer_long", "duration": "1 week" },
          { "u_adjust_var": "exodii_trust", "type": "counter", "context": "exodii", "adjustment": 1 }
        ]
      }
    ],
    "responses": [
      {
        "text": "What is this place?",
        "topic": "TALK_EXODII_MERCHANT_New",
        "effect": { "u_add_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" },
        "condition": { "not": { "u_has_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" } }
      },
      {
        "text": "Actually, I wanted to talk.",
        "topic": "TALK_EXODII_MERCHANT_Talk",
        "condition": { "u_has_var": "u_met_Rubik", "type": "general", "context": "meeting", "value": "yes" }
      },
      { "text": "Hell no, I'm out of here.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "effect_type",
    "id": "u_exodii_interaction_timer_short",
    "//": "This prevents you from building trust with the exodii too quickly by just talking to them constantly, and tells Rubik to use a different greeting because he saw you very recently."
  },
  {
    "type": "effect_type",
    "id": "u_exodii_interaction_timer_long",
    "//": "This prevents you from building trust with the exodii too quickly by just talking to them constantly."
  },
  {
    "id": "TALK_EXODII_MERCHANT_New",
    "type": "talk_topic",
    "dynamic_line": "Us call us the exodii, eh?  An' other things, but that'n's good."
  },
  {
    "id": "TALK_EXODII_MERCHANT_DoneTrade",
    "type": "talk_topic",
    "dynamic_line": [ "Good an' fine, then.", "Have it as ye'll see.", "For a card an' a wink, eh?" ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Talk",
    "type": "talk_topic",
    "dynamic_line": "Sure as you c'n try.  Us're not the greatest yapper, nor do it all for gratis, kennit."
  },
  {
    "id": "TALK_EXODII_MERCHANT_Exodus",
    "type": "talk_topic",
    "dynamic_line": "Oh yeah, right and so.  Each and every.  We wander, we make do.  It's a livin'.",
    "responses": [ { "text": "What drove you out?", "topic": "TALK_EXODII_MERCHANT_Exodus2" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Exodus2",
    "type": "talk_topic",
    "dynamic_line": "Same as you will be, an I'm ken.  The enemy.  The dead."
  },
  {
    "id": "TALK_EXODII_MERCHANT_Base",
    "type": "talk_topic",
    "dynamic_line": "A junker base, innit?  Pile o' gamp.  Us'll pack it up and sing along soon enough."
  },
  {
    "id": "TALK_EXODII_MERCHANT_Purpose",
    "type": "talk_topic",
    "dynamic_line": "Makin' do, makin' do, same as you, an I'm ken.  Last home got a bit too dead 'n putrid roun' the edges, like.  Happens to the best of 'em.  Caught a jibber that made us ken 'bout your place here, fired up the ol' wibble-wammles and boom!  Now it's all tick-tock on a zimmer, here we be.  Got a good timing this time, I razz you only been dead a few days when we wobbled in.  Freshest corpse this'n's seen in a kitchen sink.",
    "responses": [
      { "text": "… what?", "topic": "TALK_EXODII_MERCHANT_Purpose_Dialect" },
      {
        "text": "[int or per 9] Where did you come from then?  Are you aliens or something?",
        "topic": "TALK_EXODII_MERCHANT_Aliens"
      },
      { "text": "Is there anything else you want from this place?", "topic": "TALK_EXODII_MERCHANT_Purpose2" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Purpose_Dialect",
    "type": "talk_topic",
    "dynamic_line": "Us're here to live and breathe, kennit?  After our last otherland got a li'l too dead an' all.  So, us'n came to a new place.  This'n.  An I'm ken, it's not so long dead round here jus' yet.",
    "//~": "English: We're just here to survive, you understand?  Our last world got too overrun with undead.  So, we came to a new world.  This one.  If I'm not mistaken, it's not so long dead around here just yet.",
    "responses": [
      { "text": "[int or per 7] Otherland?  Are you aliens or something?", "topic": "TALK_EXODII_MERCHANT_Aliens" },
      { "text": "Is there anything else you want from this place?", "topic": "TALK_EXODII_MERCHANT_Purpose2" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Purpose2",
    "type": "talk_topic",
    "dynamic_line": "Aside from jus' livin' in such a cozy nook?  Us be minin', ye kennit.  Pickin' the scraps, seein' if for your otherland has any tech worth an upside-down.  No sense lettin' good scraps go to waste.  If we’re lucky, pickin' a few new exodii afore we wobble out.  Pickin' up the pieces of our sweet, shattered dreams, suchlike.",
    "//~": "English: Aside from just having a safe place to live?  We're here to mine, you understand.  Picking the scraps, seeing if this world has any tech worth reverse engineering.  No sense letting good scraps go to waste.  If we're lucky, maybe we'll get some new Exodii before we teleport out.  Pickin' up the pieces of our sweet, shattered dreams, such as they are.",
    "responses": [
      {
        "text": "What do you mean 'go to waste'?  The zombies aren't using the scrap, and there's plenty to go around.",
        "topic": "TALK_EXODII_MERCHANT_Purpose3"
      }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Purpose3",
    "type": "talk_topic",
    "dynamic_line": "This'n be a deadland, an I'm ken.  You gots you a case o' the willies ain't gonna sing along.  No cure for these rats and fleas.",
    "//~": "English: This is a deadland, don't you see?  You've already got an infestation and it's not going away.  There's no cure for the zombies.",
    "responses": [
      { "text": "What the hell does that mean?", "topic": "TALK_EXODII_MERCHANT_Purpose4" },
      {
        "text": "[int 8] Are you saying you think we're doomed?  Why would you have come here if there wasn’t some way to survive?",
        "topic": "TALK_EXODII_MERCHANT_Survival"
      }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Purpose4",
    "type": "talk_topic",
    "dynamic_line": "Means what it means.  Your land's a deadun', still kickin' is all.",
    "//~": "English: It means what it means.  Your land's dead already, it's just still kicking is all.",
    "responses": [
      {
        "text": "Are you saying you think we're doomed?  Why would you have come here if there wasn’t some way to survive?",
        "topic": "TALK_EXODII_MERCHANT_Survival"
      }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Survival",
    "type": "talk_topic",
    "dynamic_line": "Oh, us can wobble along as needs.  Sends the scrap back, brings in the foods, and shakes off a willie or three, kennit.  No good for you, won’t take too much flesh an' bone.",
    "//~": "English: Oh, we can teleport along as we need to.  We send the scrap along, then the food, and shake off some baddies, you understand.  It's no good for you though, it won't take too much flesh and bone.",
    "responses": [ { "text": "Well… could you help me fix that?", "topic": "TALK_EXODII_MERCHANT_Exodize" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Exodize",
    "type": "talk_topic",
    "dynamic_line": "Oh HO!  Well, well.  Now you're yarkin' the King's Anglic.  Aye, us'n can fix ye good, if'n ye're tassed to repay it in kind.  Us'll speak it as clear-like as this Rubik can.  If ye'n use it to put the dead back in the ground, us'n can fix ye with some goods like this, aye.  Stuck in the flesh and to the bone, wired into the brain.  Ye kennit?  If no, us'll speak to the Great Grey for a pint o' the ol' clarity-draught.",
    "//~": "English: Oh, well.  Now you're speaking my language.  We can fix you up good, if you're willing to pay us back.  I'll say it as clearly as I can.  If you help us kill the undead, we can help you get fixed up like us, yeah.  Stuck right into your flesh and bone and wired into your brain.  You understand?  If not, we'll ask the Great Grey to help clear it up.",
    "responses": [ { "text": "Maybe try that clarity-draught?", "topic": "TALK_EXODII_MERCHANT_ExodizeTranslate" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_ExodizeTranslate",
    "type": "talk_topic",
    "dynamic_line": "Hmm.\n\n*Rubik's voice becomes mechanical and distant for a moment, as if a computer takes over speaking.*  \n\nIn exchange for the guarantee that you will use these gifts to combat the Great Enemy, this Exodii Node is willing to provide you with a bionic module command plexus, a power supply, and all the necessary infrastructure to obtain further upgrades with standardized CBMs - compact cybernetic modules.  We will require only a token fee for this service.  We will provide further upgrades as purchased.  Your personal improvement serves our mutual benefit.\n\n*Rubik's voice takes over again.*\n\nClear as a draught?",
    "responses": [ { "text": "Why can't you talk that clearly all the time?", "topic": "TALK_EXODII_MERCHANT_ExodizeDialect" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_ExodizeDialect",
    "type": "talk_topic",
    "dynamic_line": "Great Grey has a bit o' work on it, kennit?  This'n has to keep usselves useful, an' keep Great Grey doin' what it's tassed.  Asides, yarkin' to the local brights keeps us young an' shines our chrome, an I'm ken.",
    "//~": "English: Great Grey has more important work to do, get it?  I have to keep myself useful and keep Gret Grey doing what it's supposed to.  Besides, talking to the locals keeps me young and shines my chrome, as I see it.",
    "responses": [ { "text": "Why can't you talk that clearly all the time?", "topic": "TALK_EXODII_MERCHANT_ExodizeDialect" } ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Tech",
    "type": "talk_topic",
    "dynamic_line": "Not to me it don't.  We ain't tassed from around here though.  Looks fine an' fine to you I'd razz.",
    "responses": [
      { "text": "[int or per 7] Not from around here?  Are you aliens or something?", "topic": "TALK_EXODII_MERCHANT_Aliens" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Aliens",
    "type": "talk_topic",
    "dynamic_line": "Yeah, you could call us as it.  Us're from otherlands mostlike.  Not otherworlds though.  Too risky bringin' them squelchies into the fold.",
    "responses": [
      { "text": "I don’t know the difference between otherlands and otherworlds.", "topic": "TALK_EXODII_MERCHANT_Aliens2" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Aliens2",
    "type": "talk_topic",
    "dynamic_line": "Sure an that's a biggun'.  Otherworlds be the wherefore o' them uggo buggers you got round and here, eh?  Walkin' plants and talkin' mushrooms and whatlike.  Otherlands be tassed more of a kinship.  I be from Earth, but my Earth be differed.  So you's shouldno be asked what the exodii is doin' on Earth, because some is feelin' of us fine an' fine at home, an I'm ken.  You's should be askin' what the exodii is doin' razzin up your green and brown.",
    "responses": [
      { "text": "OK then, what are you doing 'razzing up our green and brown'.", "topic": "TALK_EXODII_MERCHANT_Purpose2" }
    ]
  },
  {
    "id": "TALK_EXODII_MERCHANT_Dialect",
    "type": "talk_topic",
    "dynamic_line": "Sure as ye can, at least sommat.  Us'n'll try as we might to parley your Anglic, but so ye kennit as us be from otherlands and all, it ain't that simple.",
    "responses": [
      {
        "text": "[int or per 7] How come you speak English, or uh, 'anglic' like that?",
        "topic": "TALK_EXODII_MERCHANT_Dialect_Anglic"
      }
    ]
  }
]
