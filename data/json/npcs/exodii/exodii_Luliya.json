[
  {
    "type": "npc",
    "id": "exodii_cleaner",
    "//": "Cleaning lady and music fan from another Ethiopia.",
    "name_suffix": "Cyborg",
    "class": "NC_EXODII_TYPE_1_Cleaner",
    "name_unique": "Luliya",
    "attitude": 0,
    "mission": 3,
    "chat": "TALK_EXODII_CLEANER",
    "faction": "exodii",
    "traits": [ { "trait": "IGNORE_SOUND" }, { "trait": "NO_BASH" }, { "trait": "RETURN_TO_START_POS" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA",
    "dynamic_line": {
      "u_has_var": "u_met_luliya",
      "type": "general",
      "context": "meeting",
      "value": "yes",
      "yes": [ "Inikwani dehina metahi tegwazhi." ],
      "no": "<You see a tall golden figure in the closet with female features.  Strapped to the back of the head with copper wire is a glass cylinder containing long frizzy black hair.  The body stands still and emits an unpleasant beeping sound.  On the back there is a large red button with strange markings.>"
    },
    "responses": [
      {
        "text": "<PUSH THE BIG RED BUTTON>",
        "condition": { "not": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
        "topic": "TALK_LULIYA_BUTTON"
      },
      {
        "text": "[HAS STETHOSCOPE] Is this alive?  <CHECK FOR A PULSE>",
        "condition": {
          "and": [
            { "not": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
            { "u_has_item": "stethoscope" }
          ]
        },
        "topic": "TALK_LULIYA_PULSE"
      },
      {
        "text": "Stupid piece of junk!  <KICK THAT PIECE OF JUNK>",
        "condition": { "not": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
        "topic": "TALK_LULIYA_KICK"
      },
      {
        "text": "<DO NOTHING>",
        "condition": { "not": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
        "topic": "TALK_DONE"
      },
      {
        "text": "Do you speak English?  <slowly and loudly> ENGLISH?",
        "topic": "TALK_LULIYA_ENGLISH",
        "condition": {
          "and": [
            { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" },
            {
              "not": { "u_has_var": "u_asked_luliya_english", "type": "general", "context": "meeting", "value": "yes" }
            }
          ]
        }
      },
      {
        "text": "<You point to your chest>  <u_name>.  <You point at the golden figure>  What is your name?",
        "topic": "TALK_LULIYA_NAME",
        "condition": {
          "and": [
            { "condition": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
            {
              "not": { "condition": { "u_has_var": "u_luliya_name", "type": "general", "context": "meeting", "value": "yes" } }
            }
          ]
        }
      },
      {
        "text": "I heard you singing.  <You gesture at your mouth>  La la la.  Do you like music Luliya?",
        "condition": {
          "and": [
            { "condition": { "u_has_var": "u_luliya_name", "type": "general", "context": "meeting", "value": "yes" } },
            {
              "u_compare_time_since_var": "u_met_luliya",
              "type": "test",
              "context": "var_time_test",
              "op": ">",
              "time": "3 days"
            }
          ]
        },
        "topic": "TALK_LULIYA_MUSIC"
      },
      {
        "text": "I saw you sweeping the floor.  <You point at Luliya and the broom and make a motion with your arms like sweeping.>  Do you clean?  Can you clean things?",
        "condition": {
          "and": [
            { "condition": { "u_has_var": "u_luliya_name", "type": "general", "context": "meeting", "value": "yes" } },
            {
              "u_compare_time_since_var": "u_met_luliya",
              "type": "test",
              "context": "var_time_test",
              "op": ">",
              "time": "14 days"
            }
          ]
        },
        "topic": "TALK_LULIYA_CLEAN"
      },
      {
        "text": "I can't understand you.",
        "condition": { "u_has_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" },
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_BUTTON",
    "dynamic_line": "<You hear a loud static discharge, a rough mechanical chugging sound, and then high-pitched shrieking with strange distortions and modulations in the sound.  The golden figure shudders, arms flailing> ቆዳዬ! ቆዳዬ በእሳት ላይ ነው! እየሞትኩ ነው!",
    "speaker_effect": { "effect": { "u_add_var": "u_met_luliya", "type": "general", "context": "meeting", "value": "yes" } },
    "responses": [
      { "text": "Hello.  Are you all right?  I just hit the button on your back.", "topic": "TALK_LULIYA" },
      { "text": "I'm not understanding that.  Can you try again?", "topic": "TALK_LULIYA" },
      {
        "text": "Speak English ya <swear> robot.  We don't take kindly to that kind of thing here.  <You frown menacingly>",
        "topic": "TALK_LULIYA"
      },
      { "text": "State your name and function machine.", "topic": "TALK_LULIYA" },
      {
        "text": "[INT 18]  Huh.  That sounds a little familiar, a little like Arabic.  Earabiun? <slowly and clearly>  EARABIUN?",
        "topic": "TALK_LULIYA_ARABIC",
        "condition": { "u_has_intelligence": 18 }
      },
      { "text": "No, I'm done with this.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_PULSE",
    "dynamic_line": "<You press your stethoscope to the chest of the figure and hear a clear strong heartbeat and a strange whirring sound like clockwork>  She's alive.",
    "responses": [
      { "text": "So she's alive then.", "topic": "TALK_LULIYA" },
      { "text": "Probably fine then.  Anyway, I need to move along.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_KICK",
    "dynamic_line": "<With all your might you give the golden figure a swift kick in the shins.  Nothing happens.>",
    "responses": [
      { "text": "That's right.", "topic": "TALK_LULIYA" },
      { "text": "Oh, we're not done yet.", "topic": "TALK_LULIYA_KICK" },
      { "text": "Showed you.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_ENGLISH",
    "dynamic_line": "<A long pause, then she shakes her head>  Inigilizinya yelemi.  No.",
    "speaker_effect": { "effect": { "u_add_var": "u_not_english_luliya", "type": "general", "context": "language", "value": "yes" } },
    "responses": [
      { "text": "All right then.  You seem to understand what I mean.  And the word no.", "topic": "TALK_LULIYA" },
      { "text": "Fine.  Anyway, I need to move along.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_NAME",
    "dynamic_line": "<A long pause.  You can't see her eyes but it seems like she is studying your face.>  Sime Luliya ibalalehu.  <She points to her own chest.>  Luliya.  <She points to your chest.>  <u_name>.  Siletewawekini desi bilonyali, <u_name>.  <A grainy image of a smile flashes on the screen strapped to her face.>",
    "speaker_effect": { "effect": { "u_add_var": "u_not_english_luliya", "type": "general", "context": "language", "value": "yes" } },
    "responses": [ { "text": "We're getting somewhere.  Pleased to meet you Luliya.", "topic": "TALK_DONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_ARABIC",
    "dynamic_line": "<A long pause, then she shakes her head>  Ayi arebinya alinagerimi.",
    "speaker_effect": { "effect": { "u_add_var": "u_not_arabic_luliya", "type": "general", "context": "language", "value": "yes" } },
    "responses": [
      { "text": "All right then.  It seems like you do kind of understand it though.", "topic": "TALK_LULIYA" },
      { "text": "Fine.  Anyway, I need to move along.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_MUSIC",
    "dynamic_line": "<She nods enthusiastically and a grainy image of a smile flashes on the screen strapped to her face> Awo muzika iwedalehu.",
    "responses": [
      {
        "text": "[HAS GUITAR] I happen to have a nice guitar, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC2",
        "condition": { "u_has_item": "guitar" }
      },
      {
        "text": "[HAS TRUMPET] I happen to have a nice trumpet, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC2",
        "condition": { "u_has_item": "trumpet" }
      },
      {
        "text": "[HAS SAXOPHONE] I happen to have a nice trumpet, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC2",
        "condition": { "u_has_item": "saxophone" }
      },
      {
        "text": "[HAS VIOLIN] I happen to have a nice violin, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC2",
        "condition": { "u_has_item": "violin" }
      },
      {
        "text": "[HAS HARMONICA] I happen to have a nice harmonica, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC2",
        "condition": { "u_has_item": "harmonica" }
      },
      {
        "text": "[HAS COWBELL] I happen to have a nice cowbell, want to hear something?",
        "topic": "TALK_LULIYA_MUSIC_NO",
        "condition": { "u_has_item": "cowbell" }
      },
      {
        "text": "Huh, you know music, good to know.  I'll try and find something to play and come back.",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_MUSIC2",
    "dynamic_line": "<You perform on your musical instrument with everything you have, giving a strong performance.  Luliya sways and begins to sing along.  Her voice is beautiful, she sounds like she has had some formal voice training.>",
    "speaker_effect": { "effect": { "u_add_var": "u_jammed_luliya", "type": "general", "context": "music", "value": "yes" } },
    "responses": [
      { "text": "Fun, thank you for singing with me Luliya.", "effect": { "u_add_morale": 5 }, "topic": "TALK_LULIYA" },
      { "text": "Fun, thank you.  Anyway I have to go.", "effect": { "u_add_morale": 5 }, "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_MUSIC_NO",
    "dynamic_line": "<You perform on your musical instrument with everything you have, giving a strong performance.  Luliya stands stock still and stares at you with her head cocked to the side.  When you finally stop she shakes her head.>",
    "responses": [
      { "text": "That was my best yet.  Not a big music fan I guess?", "topic": "TALK_LULIYA" },
      { "text": "That was so good.  Anyway I have to go.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_CLEAN",
    "dynamic_line": "<She is quiet for a moment and looks at the broom, then back at you, then makes the same sweeping movement.>  Caleen.  Awo.  <She nods.>  Yehone negeri inidatseda tifeligalehi?  Luliya caleen?  <She holds out her hands.>",
    "responses": [
      { "text": "You can clean something for me?", "topic": "TALK_LULIYA_CLEAN2" },
      { "text": "OK.  Luliya caleen.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_LULIYA_CLEAN2",
    "dynamic_line": "<She nods and shakes her open hands gently, looking at you.>  Caleen.  Awo.  Mini inidatseda tifeligalehi?  Caleen?",
    "responses": [
      {
        "//": "This is where CBM cleaning service would be implemented, starting with a power CBM",
        "text": "Nothing right now but thank you Luliya.  <You raise your empty hands.>",
        "topic": "TALK_LULIYA"
      }
    ]
  }
]
