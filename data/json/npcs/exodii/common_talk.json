[
  {
    "type": "talk_topic",
	"//": "Common topic responses for anyone who can give directions.  Also serves as a list of what NPCs can give these directions.",
    "id": [
      "TALK_EVAC_MERCHANT_EXODII_MISSION_WAREHOUSE",
      "TALK_FREE_MERCHANT_TEAMSTER_EXODII_MISSION_WAREHOUSE",
      "TALK_NPC_SCRAP_TRADER_EXODII_MISSION_WAREHOUSE"
    ],
    "responses": [
      {
        "text": "Can you give me directions?",
        "topic": "TALK_Directions_exodii_true",
        "condition": { "npc_has_var": "exodii_mission_wh_correct", "value": "yes" }
      },
      {
        "text": "Can you give me directions?",
        "topic": "TALK_Directions_exodii_false",
        "condition": { "npc_has_var": "exodii_mission_wh_correct", "value": "alternate" },
        "effect": [
          { "math": [ "exodii_mission_wh_chance", "-=", "1" ] },
          { "math": [ "exodii_mission_wh_chance", "=", "max( exodii_mission_wh_chance, 1 )" ] }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Directions_exodii_true",
    "//": "For exodii 'find warehouse' mission, used by NPCs giving directions.",
    "dynamic_line": "&You listen to the directions, and jot them down in your map.",
    "speaker_effect": { "effect": { "assign_mission": "mission_exodii_wh_directions" } },
    "responses": [ { "text": "Thanks.", "topic": "TALK_DONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Directions_exodii_false",
    "//": "For exodii 'find warehouse' mission, used by NPCs giving directions.",
    "dynamic_line": "&You listen to the directions, and jot them down in your map.",
    "speaker_effect": {
      "effect": {
        "switch": { "math": [ "rng(1, 3)" ] },
        "cases": [
          { "case": 1, "effect": { "assign_mission": "mission_exodii_wh_bad_directions1" } },
          { "case": 2, "effect": { "assign_mission": "mission_exodii_wh_bad_directions2" } },
          { "case": 3, "effect": { "assign_mission": "mission_exodii_wh_bad_directions3" } }
        ]
      }
    },
    "responses": [ { "text": "Thanks.", "topic": "TALK_DONE" } ]
  },
  {
    "id": "mission_exodii_wh_directions",
    "type": "mission_definition",
    "name": { "str": "Possible directions to exodii warehouse" },
    "description": "You've gotten directions to what might be the warehouse Rubik asked you to find.",
    "goal": "MGOAL_GO_TO",
    "difficulty": 2,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_special": "exo_warehouse",
        "om_terrain": "exo_warehouse_1",
        "reveal_radius": 2,
        "search_range": 1000,
        "offset_x": { "math": [ "rng(-5, 5)" ] },
        "offset_y": { "math": [ "rng(-5, 5)" ] }
      }
    },
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": ".",
      "offer": ".",
      "accepted": ".",
      "rejected": ".",
      "advice": ".",
      "inquire": ".",
      "success": ".",
      "success_lie": ".",
      "failure": "."
    }
  },
  {
    "id": "mission_exodii_wh_bad_directions1",
    "type": "mission_definition",
    "name": { "str": "Possible directions to exodii warehouse" },
    "description": "You've gotten directions to what might be the warehouse Rubik asked you to find.",
    "goal": "MGOAL_GO_TO",
    "difficulty": 2,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_special": "Out-of-place Stone Barn",
        "om_terrain": "exo_safehouse_stone_0",
        "reveal_radius": 2,
        "search_range": 1000,
        "offset_x": { "math": [ "rng(-5, 5)" ] },
        "offset_y": { "math": [ "rng(-5, 5)" ] }
      }
    },
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": ".",
      "offer": ".",
      "accepted": ".",
      "rejected": ".",
      "advice": ".",
      "inquire": ".",
      "success": ".",
      "success_lie": ".",
      "failure": "."
    }
  },
  {
    "id": "mission_exodii_wh_bad_directions2",
    "type": "mission_definition",
    "name": { "str": "Possible directions to exodii warehouse" },
    "description": "You've gotten directions to what might be the warehouse Rubik asked you to find.",
    "goal": "MGOAL_GO_TO",
    "difficulty": 2,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_special": "Mi-Go Scout Tower",
        "om_terrain": "mi-go_scout_tower_3",
        "reveal_radius": 2,
        "search_range": 1000,
        "offset_x": { "math": [ "rng(-5, 5)" ] },
        "offset_y": { "math": [ "rng(-5, 5)" ] }
      }
    },
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": ".",
      "offer": ".",
      "accepted": ".",
      "rejected": ".",
      "advice": ".",
      "inquire": ".",
      "success": ".",
      "success_lie": ".",
      "failure": "."
    }
  },
  {
    "id": "mission_exodii_wh_bad_directions3",
    "type": "mission_definition",
    "name": { "str": "Possible directions to exodii warehouse" },
    "description": "You've gotten directions to what might be the warehouse Rubik asked you to find.",
    "goal": "MGOAL_GO_TO",
    "difficulty": 2,
    "value": 0,
    "start": {
      "assign_mission_target": {
        "om_special": "desolate barn",
        "om_terrain": "desolatebarn",
        "reveal_radius": 2,
        "search_range": 1000,
        "offset_x": { "math": [ "rng(-5, 5)" ] },
        "offset_y": { "math": [ "rng(-5, 5)" ] }
      }
    },
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": ".",
      "offer": ".",
      "accepted": ".",
      "rejected": ".",
      "advice": ".",
      "inquire": ".",
      "success": ".",
      "success_lie": ".",
      "failure": "."
    }
  }
]
