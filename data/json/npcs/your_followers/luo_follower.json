[
  {
    "id": "TALK_FRIEND_Luo",
    "type": "talk_topic",
    "dynamic_line": {
      "is_by_radio": " *pshhhttt* Hey stinkyface.  It's your favorite mushroom girl.  Over.",
      "no": { "has_reason": { "use_reason": true }, "no": "So, here we are.  What's up?" }
    },
    "responses": [
      { "text": "I want to give you some commands for combat.", "topic": "TALK_COMBAT_COMMANDS" },
      { "text": "I want to set some miscellaneous rules.", "topic": "TALK_MISC_RULES" },
      {
        "text": "I'd like to know a bit more about your abilities.",
        "topic": "TALK_FRIEND_Luo",
        "effect": "reveal_stats"
      },
      { "text": "There's something I want you to do.", "topic": "TALK_ALLY_ORDERS" },
      { "text": "I just wanted to talk for a bit.", "topic": "TALK_LUO_SOCIAL" },
      { "text": "Can you help me understand something?  (HELP/TUTORIAL)", "topic": "TALK_ALLY_TUTORIAL" },
      { "text": "I'm going to go my own way for a while.", "topic": "TALK_LEAVE" },
      { "text": "Let's go.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": [ "TALK_LUO_SOCIAL" ],
    "type": "talk_topic",
    "dynamic_line": {
      "is_by_radio": " *tshk* Sure, let's just have a conversation over this awkward, crackly radio.  Why not.  Uh, over.",
      "no": "Sure, what did you want to say?"
    },
    "responses": [
      {
        "text": "Mind if we just chat for a bit about your history?",
        "topic": "TALK_FRIEND_CONVERSATION",
        "condition": {
          "and": [ "at_safe_space", { "or": [ { "npc_has_flag": "BG_SURVIVAL_STORY" }, { "npc_has_trait": "NPC_STATIC_NPC" } ] } ]
        },
        "//": "If the NPC already has a BG story, or started out as a static NPC (and so probably doesn't need a random bg story), then go on.",
        "switch": true
      },
      {
        "text": "Mind if we just chat for a bit about your history?",
        "topic": "TALK_FRIEND_CONVERSATION",
        "condition": "at_safe_space",
        "switch": true,
        "effect": { "npc_add_trait": "BGSS_Confused_1" },
        "//": "If the NPC doesn't have a BG survival story flagged trait, and didn't start the game as a static NPC, give them a BG story.",
        "//2": "This is a stand-in for some kind of better system to add a random trait."
      },
      {
        "text": "Mind if we just chat for a bit about your history?",
        "topic": "TALK_CONVERSATION_DANGER",
        "condition": { "not": "at_safe_space" },
        "switch": true
      },
      {
        "text": "Mind if we just chat for a bit about your history?",
        "topic": "TALK_CONVERSATION_RADIO",
        "condition": { "not": "is_by_radio" },
        "switch": true
      },
      {
        "text": "Let's just chitchat for a while, I could use some relaxation.",
        "topic": "TALK_FRIEND_CHAT",
        "condition": { "not": { "npc_has_effect": "asked_to_socialize" } }
      },
      { "text": "Can I do anything for you?", "topic": "TALK_MISSION_LIST" },
      { "text": "I changed my mind, wanted to ask you something else.", "topic": "TALK_NONE" },
      { "text": "Let's go.", "topic": "TALK_DONE" }
    ]
  },
]