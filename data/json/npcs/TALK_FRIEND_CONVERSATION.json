[
  {
    "id": "TALK_CONVERSATION_DANGER",
    "type": "talk_topic",
    "dynamic_line": "Are you sure?  This doesn't seem like a particularly safe place for small talk…",
    "responses": [
      {
        "text": "It's fine, we've got a moment.",
        "topic": "TALK_FRIEND_CONVERSATION",
        "condition": { "or": [ { "npc_has_trait_flag": "BG_SURVIVAL_STORY" }, { "npc_has_trait": "NPC_STATIC_NPC" } ] },
        "//": "If the NPC already has a BG story, or started out as a static NPC (and so probably doesn't need a random bg story), then go on.",
        "switch": true
      },
      {
        "text": "It's fine, we've got a moment.",
        "topic": "TALK_FRIEND_CONVERSATION",
        "switch": true,
        "effect": { "npc_add_trait": "BGSS_No_Past_1" },
        "//": "If the NPC doesn't have a BG survival story flagged trait, and didn't start the game as a static NPC, give them a BG story.",
        "//2": "This is a stand-in for some kind of better system to add a random trait."
      },
      { "text": "Good point, let's find a more appropriate place.", "topic": "TALK_NONE" },
      { "text": "You're right.  Forget I said anything, let's get moving.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "TALK_FRIEND_CONVERSATION",
    "type": "talk_topic",
    "dynamic_line": "What did you want to talk about?",
    "responses": [ { "text": "Actually, never mind.", "topic": "TALK_NONE" } ]
  },
  {
    "id": "TALK_FRIEND_CHAT",
    "type": "talk_topic",
    "dynamic_line": [
      { "u_has_item": "beer", "yes": "<noticedbooze>", "no": "<neutralchitchat>" },
      { "u_has_item": "european_pilsner", "yes": "<noticedbooze>", "no": "<neutralchitchat>" },
      { "u_has_item": "pale_ale", "yes": "<noticedbooze>", "no": "<neutralchitchat>" },
      { "u_has_item": "india_pale_ale", "yes": "<noticedbooze>", "no": "<neutralchitchat>" },
      { "u_has_item": "wine_barley", "yes": "<noticedbooze>", "no": "<neutralchitchat>" },
      {
        "is_season": "summer",
        "yes": "Yeah, this summer heat is hitting me hard, let's take a quick break, how goes it <name_g>?",
        "no": "<neutralchitchat>"
      },
      {
        "is_season": "winter",
        "yes": "OK, maybe it'll stop me from freezing in this weather, what's up?",
        "no": "<neutralchitchat>"
      },
      {
        "is_day": "Well, it's the time of day for a quick break surely!  How are you holding up?",
        "no": "Man it's dark out isn't it?  What's up?"
      },
      {
        "npc_has_effect": "infected",
        "yes": "Well, I'm feeling pretty sick… are you doing OK though?",
        "no": "<neutralchitchat>"
      },
      {
        "has_no_assigned_mission": "<neutralchitchat>",
        "no": {
          "has_many_assigned_missions": "Definitely, by the way, thanks for helping me so much with my tasks!  Anyway, you coping OK, <name_g>? ",
          "no": "OK, let's take a moment, oh, and thanks for helping me with that thing, so… what's up?"
        }
      },
      {
        "days_since_cataclysm": 30,
        "yes": "Now, we've got a moment, I was just thinking it's been a month or so since… since all this, how are you coping with it all?",
        "no": "<neutralchitchat>"
      }
    ],
    "responses": [
      {
        "text": "Oh you know, not bad, not bad…",
        "topic": "TALK_DONE",
        "switch": true,
        "effect": [ "morale_chat_activity", { "npc_add_effect": "asked_to_socialize", "duration": 7000 } ]
      }
    ]
  }
]
