[
{
    "type": "npc",
    "id": "NPC_cabin_chemist",
    "class": "NC_CHEM_MERCHANT",
    "name_suffix": "chemist",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_NPC_CABIN_CHEMIST",
    "faction": "wasteland_scavengers",
    "mission_offered": "MISSION_CABIN_CHEMIST_GET_analytical_set_basic"
  },
{
    "type": "npc_class",
    "id": "NC_CHEM_MERCHANT",
    "name": { "str": "Chemist" },
    "job_description": "I make and sell chemicals",
    "traits": [ { "group": "BG_survival_story_RURAL" }, { "group": "NPC_starting_traits" }, { "group": "Appearance_demographics" } ], 
    "bonus_int": { "rng": [ 1, 2 ] },       
    "shopkeeper_item_group": "cabin_chemist_sell",
    "skills": [
      { "skill": "ALL", "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "rng": [ 0, -4 ] } ] } ] } },
      { "skill": "speech", "bonus": { "rng": [ 0, 2 ] } },
      { "skill": "firstaid", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "cooking", "bonus": { "rng": [ 1, 2 ] } },
      { "skill": "chemistry", "bonus": { "rng": [ 3, 5 ] } }
    ]
  },
{
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST",
    "dynamic_line": "Hello <name_g>.",
    "responses": [
      { "text": "Hello.", "topic": "TALK_NPC_CABIN_CHEMIST_INTRO" },
      {
        "text": "Hands up!",
        "trial": { "type": "INTIMIDATE", "difficulty": 30 },
        "success": { "topic": "TALK_WEAPON_DROPPED", "effect": "drop_weapon", "opinion": { "trust": -4, "fear": 3 } },
        "failure": { "topic": "TALK_DONE", "effect": "hostile" }, 
        "condition": { "not": { "npc_has_var": "talked_to_merchant", "type": "dialogue", "context": "first_meeting", "value": "yes" } }
      },
      { "text": "Bye.", "topic": "TALK_DONE" }
    ]
  },
{
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_INTRO",
    "dynamic_line": "So, what's up?",
    "responses": [
      { "text": "Who are you?", "topic": "TALK_NPC_CABIN_CHEMIST_STORY" },
      { "text": "What is this place?", "topic": "TALK_NPC_CABIN_CHEMIST_HOME" },
      { "text": "Care to trade?", "topic": "TALK_NPC_CABIN_CHEMIST_INTRO", "effect": "start_trade" },
      { 
        "text": "I'd like to buy in bulk.", 
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL", 
        "condition": { "npc_has_var": "mass_chem_tradeable", "type": "dialogue", "context": "trade", "value": "yes" }
      },
      {
        "text": "Any jobs you need done?",
        "condition": { "and": [ { "not": "has_assigned_mission" }, { "not": "has_many_assigned_missions" } ] },
        "topic": "TALK_MISSION_LIST"
      },
      { "text": "I gotta go.", "topic": "TALK_DONE" }
    ]
  },
{
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_STORY",
    "dynamic_line": "I'm just a chemist.  Before <the_cataclysm>, I worked out in a factory manufacturing various chemicals, and even tried out some experimental combinations.  I ran out here and found this old cabin, chock full of scientific equipment.  It must've been a drug house at one point, but no one was here when I arrived, so I made it my home.",
    "responses": [
      { "text": "Hmm.", "topic": "TALK_NONE" }
    ]
  },
{
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_HOME",
    "dynamic_line": "It looks like some old shack, or a drug house someone once lived in. I found it out here while I was looking for a place to live, and I decided to stay here.",
    "responses": [
      { "text": "Hmm.", "topic": "TALK_NONE" }
    ]
  },
{
    "id": "TALK_CABIN_CHEMIST_BULK_SELL",
    "//": "this is all the dialogue related to buying bulk chemicals.",
    "type": "talk_topic",
    "dynamic_line": [
      "I'll see what I've got around here for you. What do you want?"
    ],
    "responses": [
      { "text": "Nevermind.", "topic": "TALK_NONE" },
      {
        "text": "I'll buy some bandages. [5$]",
        "effect": [ { "u_buy_item": "bandages", "cost": 500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some aspirin. [10$]",
        "effect": [ { "u_buy_item": "aspirin", "cost": 1000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some disinfectant. [15$]",
        "effect": [ { "u_buy_item": "disinfectant", "cost": 2500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some black gunpowder. [20$]",
        "effect": [ { "u_buy_item": "chem_black_powder", "cost": 2000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antifungal drugs. [25$]",
        "effect": [ { "u_buy_item": "antifungal", "cost": 2500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antibiotics. [30$]",
        "effect": [ { "u_buy_item": "antibiotics", "cost": 3000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some sprayable fungicide. [50$]",
        "effect": [ { "u_buy_item": "gas_fungicidal", "cost": 5000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some napalm. [125$]",
        "effect": [ { "u_buy_item": "napalm", "cost": 12500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      }
    ]
  },
{
    "id": "TALK_CABIN_CHEMIST_BULK_SELL_END",
    "type": "talk_topic",
    "dynamic_line": [
      "Is there anything else you need?"
    ],
    "responses": [
      { "text": "No, that's all.", "topic": "TALK_DONE" },
      {
        "text": "I'll buy some bandages. [5$]",
        "effect": [ { "u_buy_item": "bandages", "cost": 500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some aspirin. [10$]",
        "effect": [ { "u_buy_item": "aspirin", "cost": 1000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some disinfectant. [15$]",
        "effect": [ { "u_buy_item": "disinfectant", "cost": 2500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some black gunpowder. [20$]",
        "effect": [ { "u_buy_item": "chem_black_powder", "cost": 2000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antifungal drugs. [25$]",
        "effect": [ { "u_buy_item": "antifungal", "cost": 2500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antibiotics. [30$]",
        "effect": [ { "u_buy_item": "antibiotics", "cost": 2000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some sprayable fungicide. [50$]",
        "effect": [ { "u_buy_item": "gas_fungicidal", "cost": 5000, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some napalm. [125$]",
        "effect": [ { "u_buy_item": "napalm", "cost": 12500, "count": 10 } ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      }
    ]
  }
]
