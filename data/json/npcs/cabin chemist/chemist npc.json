[
  {
    "type": "npc",
    "id": "NPC_cabin_chemist",
    "class": "NC_CHEM_MERCHANT",
    "name_suffix": "chemist",
    "attitude": 0,
    "mission": 7,
    "chat": "TALK_NPC_CABIN_CHEMIST",
    "faction": "wasteland_scavengers",
    "mission_offered": "MISSION_CABIN_CHEMIST_GET_analytical_set_basic"
  },
  {
    "type": "npc_class",
    "id": "NC_CHEM_MERCHANT",
    "name": {
      "str": "Chemist"
    },
    "job_description": "I make and sell chemicals",
    "traits": [
      {
        "group": "BG_survival_story_RURAL"
      },
      {
        "group": "NPC_starting_traits"
      },
      {
        "group": "Appearance_demographics"
      }
    ],
    "bonus_int": {
      "rng": [
        1,
        2
      ]
    },
    "shopkeeper_item_group": [ { "group": "cabin_chemist_sell", "rigid": true } ],
    "skills": [
      {
        "skill": "ALL",
        "level": {
          "mul": [
            {
              "one_in": 3
            },
            {
              "sum": [
                {
                  "dice": [
                    2,
                    2
                  ]
                },
                {
                  "rng": [
                    0,
                    -4
                  ]
                }
              ]
            }
          ]
        }
      },
      {
        "skill": "speech",
        "bonus": {
          "rng": [
            0,
            2
          ]
        }
      },
      {
        "skill": "firstaid",
        "bonus": {
          "rng": [
            1,
            2
          ]
        }
      },
      {
        "skill": "cooking",
        "bonus": {
          "rng": [
            1,
            2
          ]
        }
      },
      {
        "skill": "chemistry",
        "bonus": {
          "rng": [
            3,
            5
          ]
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST",
    "dynamic_line": "Hello, <name_g>.",
    "responses": [
      {
        "text": "Hello.",
        "topic": "TALK_NPC_CABIN_CHEMIST_INTRO"
      },
      {
        "text": "Hands up!",
        "trial": {
          "type": "INTIMIDATE",
          "difficulty": 30
        },
        "success": {
          "topic": "TALK_WEAPON_DROPPED",
          "effect": "drop_weapon",
          "opinion": {
            "trust": -4,
            "fear": 3
          }
        },
        "failure": {
          "topic": "TALK_DONE",
          "effect": "hostile"
        },
        "condition": {
          "not": {
            "npc_has_var": "talked_to_merchant",
            "type": "dialogue",
            "context": "first_meeting",
            "value": "yes"
          }
        }
      },
      {
        "text": "Bye.",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_INTRO",
    "dynamic_line": "So, what's up?",
    "responses": [
      {
        "text": "Who are you?",
        "topic": "TALK_NPC_CABIN_CHEMIST_STORY"
      },
      {
        "text": "What is this place?",
        "topic": "TALK_NPC_CABIN_CHEMIST_HOME"
      },
      {
        "text": "Care to trade?",
        "topic": "TALK_NPC_CABIN_CHEMIST_INTRO",
        "effect": "start_trade"
      },
      {
        "text": "I'd like to buy in bulk.",
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL",
        "condition": {
          "npc_has_var": "mass_chem_tradeable",
          "type": "dialogue",
          "context": "trade",
          "value": "yes"
        }
      },
      {
        "text": "Any jobs you need done?",
        "condition": {
          "and": [
            {
              "not": "has_assigned_mission"
            },
            {
              "not": "has_many_assigned_missions"
            }
          ]
        },
        "topic": "TALK_MISSION_LIST"
      },
      {
        "text": "I gotta go.",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_STORY",
    "dynamic_line": "I used to be a chemist.  Well, I am a chemist.  I've been living out here in the wilderness for a little while now since <the_cataclysm>.  Even brought some of my equipment.  I found a couple useful things here in the cupboards, but other than that, entirely empty.  So, I moved in.",
    "responses": [
      {
        "text": "Hmm.",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_NPC_CABIN_CHEMIST_HOME",
    "dynamic_line": "It's some old shack, maybe a hunting cabin or maybe something moreâ€¦ criminal, at least judging by some of what I found on the shelves.  You certainly wouldn't attract much attention synthesizing illegal substances all the way out here.  I found it while I was trying to escape all the <zombies> in the city, and I decided to stay.",
    "responses": [
      {
        "text": "Hmm.",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "id": "TALK_CABIN_CHEMIST_BULK_SELL",
    "//": "This is all the dialogue related to buying bulk chemicals. It should remain somewhat prohibitively expensive so the chemist doesn't become a one-stop shop for survival needs.",
    "type": "talk_topic",
    "dynamic_line": [
      "I'll see what I've got around here for you.  I've gotta warn you: it's gonna be expensive.  Hard to stay supplied in the apocalypse, you know.  What do you need?"
    ],
    "responses": [
      {
        "text": "Nevermind.",
        "topic": "TALK_NONE"
      },
      {
        "text": "I'll buy some bandages.  [10$]",
        "effect": [
          {
            "u_buy_item": "bandages",
            "cost": 1000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some disinfectant.  [40$]",
        "effect": [
          {
            "u_buy_item": "disinfectant",
            "container" : "bottle_plastic_small",
            "cost": 4000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some aspirin.  [50$]",
        "effect": [
          {
            "u_buy_item": "aspirin",
            "cost": 5000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some sprayable fungicide.  [50$]",
        "effect": [
          {
            "u_buy_item": "gas_fungicidal",
            "container" : "jug_plastic",
            "cost": 5000,
            "count": 1500
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antibiotics.  [100$]",
        "effect": [
          {
            "u_buy_item": "antibiotics",
            "cost": 10000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antifungal drugs.  [150$]",
        "effect": [
          {
            "u_buy_item": "antifungal",
            "cost": 15000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some black gunpowder.  [200$]",
        "effect": [
          {
            "u_buy_item": "chem_black_powder",
            "container" : "bag_zipper",
            "cost": 20000,
            "count": 10000
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some napalm.  [350$]",
        "effect": [
          {
            "u_buy_item": "napalm",
            "container" : "jerrycan",
            "cost": 35000,
            "count": 10000
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      }
    ]
  },
  {
    "id": "TALK_CABIN_CHEMIST_BULK_SELL_END",
    "type": "talk_topic",
    "dynamic_line": [
      "Is there anything else you need?"
    ],
    "responses": [
      {
        "text": "No, that's all.",
        "topic": "TALK_DONE"
      },
      {
        "text": "I'll buy some bandages.  [10$]",
        "effect": [
          {
            "u_buy_item": "bandages",
            "cost": 1000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some disinfectant.  [40$]",
        "effect": [
          {
            "u_buy_item": "disinfectant",
            "container" : "bottle_plastic_small",
            "cost": 4000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some aspirin.  [50$]",
        "effect": [
          {
            "u_buy_item": "aspirin",
            "cost": 5000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some sprayable fungicide.  [50$]",
        "effect": [
          {
            "u_buy_item": "gas_fungicidal",
            "container" : "jug_plastic",
            "cost": 5000,
            "count": 1500
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antibiotics.  [100$]",
        "effect": [
          {
            "u_buy_item": "antibiotics",
            "cost": 10000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some antifungal drugs.  [150$]",
        "effect": [
          {
            "u_buy_item": "antifungal",
            "cost": 15000,
            "count": 20
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some black gunpowder.  [200$]",
        "effect": [
          {
            "u_buy_item": "chem_black_powder",
            "container" : "bag_zipper",
            "cost": 20000,
            "count": 10000
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      },
      {
        "text": "I'll buy some napalm.  [350$]",
        "effect": [
          {
            "u_buy_item": "napalm",
            "container" : "jerrycan",
            "cost": 35000,
            "count": 10000
          }
        ],
        "topic": "TALK_CABIN_CHEMIST_BULK_SELL_END"
      }
    ]
  }
]
