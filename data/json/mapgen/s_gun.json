[
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "s_gun" ],
    "weight": 300,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",,____________________',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,###:::########:::###',",
        ",,#|?C..vvvKKK..dddLL#',",
        ",,#XaC..............L#',",
        ",,#|.C...............+',",
        ",,#|....YYYYYY..LLLLL#,,",
        ",,#---D--------------#,,",
        ",,#&q-.-lll.AnA.r-sss#,,",
        ",,#r.D.D.........D.ss#,,",
        ",,#---D-----------.ss#,,",
        ",;#N=n==n==n==n==-.--#,,",
        ",,#N=============-.D<#,,",
        ",,WWWRWWRWWRWWRW=W+###,,",
        ",,W==============W.www,,",
        ",,W==============W....,,",
        ",,W..............W,,,,,,",
        ",,W..T..T..T..T..W,,,,,,",
        ",,WxxxxxxxxxxxxxxW,,,,,,",
        ",,WWWWWWWWWWWWWWWW,,,,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "place_monsters": [ { "monster": "GROUP_ZOMBIE", "x": [ 0, 0 ], "y": [ 23, 23 ], "chance": 2, "repeat": [ 2, 3 ] } ],
      "terrain": { ";": "t_region_groundcover_urban" },
      "place_loot": [ { "group": "cash_register_random", "x": 5, "y": [ 7, 9 ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "s_gun_roof",
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "  |2222222222222222223  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..X...............3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  5...............1113  ",
        "  |...............1>13  ",
        "  |...............1013  ",
        "  |...............1+13  ",
        "  |..............32223  ",
        "  |..............2      ",
        "  |..............2      ",
        "  |..............2      ",
        "  |222222222222222      "
      ],
      "palettes": [ "roof_palette" ],
      "terrain": { ">": "t_ladder_down", "1": "t_wall_w", "+": "t_door_metal_pickable", "0": "t_thconc_floor" },
      "place_nested": [
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_2x2_utilities_b", 15 ],
            [ "roof_2x2_utilities_c", 5 ],
            [ "roof_2x2_utilities_d", 30 ],
            [ "roof_2x2_utilities", 30 ],
            [ "roof_2x2_golf", 10 ],
            [ "roof_3x3_wine", 10 ]
          ],
          "x": [ 4, 15 ],
          "y": [ 8, 9 ]
        },
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_4x4_party", 5 ],
            [ "roof_4x4_holdout", 15 ],
            [ "roof_4x4_utility", 40 ],
            [ "roof_4x4_utility_1", 10 ],
            [ "roof_6x6_survivor", 20 ],
            [ "roof_6x6_utility", 20 ]
          ],
          "x": [ 4, 11 ],
          "y": [ 12, 16 ]
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "s_gun_looted" ],
    "//": "Looted version of s_gun. Uses same roof as s_gun.",
    "weight": 300,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",,____________________',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,*___*___*___*___*___',",
        ",,###:::########:::###',",
        ",,#M?C``mmmmmm``pppmm#',",
        ",,#eaC``````````````m#',",
        ",,#M`C```````````````+',",
        ",,#M````mmmmmm``mmmmm#,,",
        ",,#---D--------------#,,",
        ",,#&q-`-MMM`AnA`r-SSS#,,",
        ",,#r`D`D`````````D`SS#,,",
        ",,#---D-----------`SS#,,",
        ",;#M=n==n==n==n==-`--#,,",
        ",,#M=============-`D<#,,",
        ",,WWWCWWCWWCWWCW=W+###,,",
        ",,W==============W.www,,",
        ",,W==============W....,,",
        ",,W..............W,,,,,,",
        ",,W..T..T..T..T..W,,,,,,",
        ",,WxxxxxxxxxxxxxxW,,,,,,",
        ",,WWWWWWWWWWWWWWWW,,,,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "terrain": { ";": "t_region_groundcover_urban", "w": "t_pavement" },
      "nested": {
        "#": { "chunks": [ [ "general_graffiti", 15 ], [ "null", 75 ] ] },
        "m": { "chunks": [ [ "destroyed_furniture", 40 ], [ "null", 80 ] ] },
        "M": { "chunks": [ [ "destroyed_furniture", 50 ], [ "null", 80 ] ] },
        "C": { "chunks": [ [ "destroyed_furniture", 85 ], [ "null", 90 ] ] },
        "V": { "chunks": [ [ "destroyed_furniture", 75 ], [ "null", 80 ] ] },
        "A": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "E": { "chunks": [ [ "destroyed_furniture", 45 ], [ "null", 90 ] ] },
        "a": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "^": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "n": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "p": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "S": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "?": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "T": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "&": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "q": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "r": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "e": { "chunks": [ [ "looted_gunsafe_nested", 25 ], [ "jammed_gunsafe_nested", 75 ], [ "null", 95 ] ] },
        "D": { "chunks": [ [ "damaged_door_nested", 50 ], [ "destroyed_door_nested", 100 ], [ "null", 75 ] ] },
        ":": { "chunks": [ [ "damaged_window_bars_nested", 75 ], [ "destroyed_window_bars_nested", 100 ], [ "null", 95 ] ] },
        "+": { "chunks": [ [ "destroyed_metal_door_nested", 90 ], [ "null", 75 ] ] },
        "`": { "chunks": [ [ "corpse_blood_casings_1x1", 4 ], [ "null", 20 ] ] }
      },
      "place_loot": [ { "group": "cash_register_random_ransacked", "x": 5, "y": [ 7, 9 ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "s_gun_1" ],
    "//": "Home defense gun store",
    "weight": 300,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",'''''''''''''''''''''',",
        ",'@@@@@@@''''''@@@@@@@',",
        ",'##:::##''''''##:::##',",
        ",'#^...?:'''''':?...^#',",
        ",'#..a..:'''''':..a..#',",
        ",'#.nnn.:'''''':.nnn.#',",
        ",'#.....#::++::#.....#',",
        ",'#..................#',",
        ",'#..................#',",
        ",'#....KKK....YYY....#',",
        ",'#....vvv....YYY....#',",
        "''#^................^#',",
        "'##....LLL....LLL....#',",
        "'$#....LLL....LLL....#',",
        "'##..................#',",
        "''#..................#',",
        ",'#-D-D-ZZ----ZZ--D--#',",
        ",'#&.-.-VV||||VV-..aE#',",
        ",'#..-.D........D..aE#',",
        ",'#qr-<-||||||||-ll.r#;,",
        ",'#################+##',",
        ",'''''''''''''''''''''',",
        ",,,,,,,,,,,,,,,,,,,,,,,,",
        ",,,,,,,,,,,,,,,,,,,,,,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "vendingmachines": { "V": { "item_group": "vending_ammo", "lootable": false } },
      "terrain": { ";": "t_sidewalk" },
      "place_loot": [
        { "group": "cash_register_random", "x": [ 4, 6 ], "y": 5 },
        { "group": "cash_register_random", "x": [ 17, 19 ], "y": 5 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "s_gun_roof_1",
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "                        ",
        "                        ",
        "  |222223      |222223  ",
        "  |.....3      |.....3  ",
        "  |.....3      |.....3  ",
        "  |.....3      |.....3  ",
        "  |.....3222222|.....3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |..................3  ",
        "  |.1111.............3  ",
        "  |.+0>1.............3  ",
        "  |.1111.............5  ",
        "  |------------------3  ",
        "                        ",
        "                        ",
        "                        "
      ],
      "palettes": [ "roof_palette" ],
      "terrain": { ">": "t_ladder_down", "1": "t_wall_w", "+": "t_door_metal_pickable", "0": "t_thconc_floor" },
      "place_nested": [
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_2x2_utilities_b", 15 ],
            [ "roof_2x2_utilities_c", 5 ],
            [ "roof_2x2_utilities_d", 30 ],
            [ "roof_2x2_utilities", 30 ]
          ],
          "x": [ 4, 15 ],
          "y": [ 7, 8 ]
        },
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_4x4_party", 5 ],
            [ "roof_4x4_holdout", 15 ],
            [ "roof_4x4_utility", 40 ],
            [ "roof_4x4_utility_1", 10 ],
            [ "roof_6x6_survivor", 20 ],
            [ "roof_6x6_utility", 20 ]
          ],
          "x": [ 4, 13 ],
          "y": 12
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "s_gun_2" ],
    "//": "Public holdout based on Home Defense Gunstore. Uses same roof as s_gunstore_1.",
    "weight": 100,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",'''''''''''''''''''''',",
        ",'@@,,@@@''''''@@@@@@@',",
        ",'##:::##''''''##:::##',",
        ",'#MMMM`:'''''':MMMM^#',",
        ",'#MaaM`:'''''':M``r`#',",
        ",'#`EM``:'''''':C````#',",
        ",'#`````#::++::#C````#',",
        ",'#`r````aCMMCa``````#',",
        ",'#``````````````````#',",
        ",'#```````````M``````#',",
        ",'#````M`````````````#',",
        "''#^````````````````^#',",
        "'##```````mmmm```````#',",
        "'$#``````mm``mm``````#',",
        "'##`````mm```````````#',",
        "''#````mm``M`M`mmM`M`#',",
        ",'#-D-D-ZZ----ZZ--D--#',",
        ",'#&`-`-````V```-M`C`#',",
        ",'#^`-`D``r`````D`A`V#',",
        ",'#qr-<-V``M``V`-`MEA#',",
        ",'#################+##',",
        ",'''''''''''''''''''''',",
        ",,,,,,,,,,,,,,,,,,,,,,,,",
        ",,,,,,,,,,,,,,,,,,,,,,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "terrain": { ";": "t_sidewalk" },
      "vendingmachines": { "V": { "item_group": "vending_ammo", "lootable": true } },
      "nested": {
        "#": { "chunks": [ [ "general_graffiti", 15 ], [ "null", 75 ] ] },
        "m": { "chunks": [ [ "destroyed_furniture", 40 ], [ "null", 80 ] ] },
        "$": { "chunks": [ [ "destroyed_furniture", 40 ], [ "null", 80 ] ] },
        "M": { "chunks": [ [ "destroyed_furniture", 50 ], [ "null", 80 ] ] },
        "C": { "chunks": [ [ "destroyed_furniture", 85 ], [ "null", 90 ] ] },
        "V": { "chunks": [ [ "destroyed_furniture", 75 ], [ "null", 80 ] ] },
        "A": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "E": { "chunks": [ [ "destroyed_furniture", 45 ], [ "null", 90 ] ] },
        "a": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "?": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "^": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "&": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "q": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "r": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "D": { "chunks": [ [ "damaged_door_nested", 50 ], [ "destroyed_door_nested", 100 ], [ "null", 75 ] ] },
        ":": { "chunks": [ [ "damaged_window_bars_nested", 75 ], [ "destroyed_window_bars_nested", 25 ], [ "null", 75 ] ] },
        "+": { "chunks": [ [ "destroyed_metal_door_nested", 90 ], [ "null", 75 ] ] },
        "`": { "chunks": [ [ "corpse_blood_casings_1x1", 4 ], [ "null", 20 ] ] }
      },
      "place_monster": [ { "monster": "mon_zombie_cop", "x": 18, "y": 14 } ]
    }
  },
  {
    "method": "json",
    "om_terrain": "s_gun_3",
    "type": "mapgen",
    "weight": 200,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,##::##:#++#:####,,,",
        ",,,,,#Xr?Cvv^....LLL#,,,",
        ",,,,,#|..d.........L#,,,",
        ",,,,,#|.aC..YY.KK..L#,,,",
        ",,,,;#|.....YY.KK..L#,,,",
        ",,####--------D-----#,,,",
        ",,#r.AnA..D.....D..A#,,,",
        ",,#l.....s-.--D--.E?#,,,",
        ",,#l.sssss-.-&rq-O.A#,,,",
        ",,#--------D--------#,,,",
        ",,#N==n===n==n===n=N#,,,",
        ",,#=================#,,,",
        ",,W.WWRWWWWRWWWWRWW.W,,,",
        ",,W=================W,,,",
        ",,W=================W,,,",
        ",,W.................W,,,",
        ",,W.................W,,,",
        ",,W...T....T....T...W,,,",
        ",,WxxxxxxxxxxxxxxxxxW,,,",
        ",,WWWWWWWWWWWWWWWWWWW,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "terrain": { ";": "t_region_groundcover_urban" },
      "place_loot": [ { "group": "cash_register_random", "x": 9, "y": 7 } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "s_gun_roof_3",
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "     |222222222222223   ",
        "     |..............3   ",
        "     |..............3   ",
        "     |..............3   ",
        "     |..............3   ",
        "  |225..............3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |.................3   ",
        "  |-----------------3   "
      ],
      "palettes": [ "roof_palette" ],
      "terrain": { "?": "t_open_air_rooved" },
      "place_nested": [
        {
          "chunks": [
            [ "null", 20 ],
            [ "roof_2x2_utilities_b", 15 ],
            [ "roof_2x2_utilities_c", 5 ],
            [ "roof_2x2_utilities_d", 40 ],
            [ "roof_2x2_utilities", 50 ]
          ],
          "x": [ 7, 17 ],
          "y": [ 6, 10 ]
        }
      ]
    }
  },
  {
    "method": "json",
    "om_terrain": "s_gun_3_looted",
    "type": "mapgen",
    "weight": 200,
    "object": {
      "fill_ter": "t_thconc_floor",
      "rows": [
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,,,,,,,,,'',,,,,,,,,",
        ",,,,,##::##:#++#:####,,,",
        ",,,,,#er?Cmm^````mmm#,,,",
        ",,,,,#M``p`````````m#,,,",
        ",,,,,#M`aC``mm`mm``m#,,,",
        ",,,,;#M`````mm`mm``m#,,,",
        ",,####--------D-----#,,,",
        ",,#r.AnA``D`````D``A#,,,",
        ",,#M`````S-`--D--`E?#,,,",
        ",,#M`SSSSS-`-&rq-e`A#,,,",
        ",,#--------D--------#,,,",
        ",,#N==n===n==n===n=N#,,,",
        ",,#=================#,,,",
        ",,W=WWCWWWWCWWWWCWW=W,,,",
        ",,W=================W,,,",
        ",,W=================W,,,",
        ",,W.................W,,,",
        ",,W.................W,,,",
        ",,W...T....T....T...W,,,",
        ",,WxxxxxxxxxxxxxxxxxW,,,",
        ",,WWWWWWWWWWWWWWWWWWW,,,"
      ],
      "palettes": [ "gun_store_palette" ],
      "terrain": { ";": "t_region_groundcover_urban" },
      "nested": {
        "#": { "chunks": [ [ "general_graffiti", 15 ], [ "null", 75 ] ] },
        "m": { "chunks": [ [ "destroyed_furniture", 40 ], [ "null", 80 ] ] },
        "M": { "chunks": [ [ "destroyed_furniture", 50 ], [ "null", 80 ] ] },
        "C": { "chunks": [ [ "destroyed_furniture", 85 ], [ "null", 90 ] ] },
        "V": { "chunks": [ [ "destroyed_furniture", 75 ], [ "null", 80 ] ] },
        "A": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "E": { "chunks": [ [ "destroyed_furniture", 45 ], [ "null", 90 ] ] },
        "a": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "^": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "n": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "p": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "S": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "?": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "T": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "&": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "q": { "chunks": [ [ "destroyed_furniture", 20 ], [ "null", 80 ] ] },
        "r": { "chunks": [ [ "destroyed_furniture", 10 ], [ "null", 90 ] ] },
        "D": { "chunks": [ [ "damaged_door_nested", 50 ], [ "destroyed_door_nested", 100 ], [ "null", 75 ] ] },
        ":": { "chunks": [ [ "damaged_window_bars_nested", 75 ], [ "destroyed_window_bars_nested", 25 ], [ "null", 75 ] ] },
        "e": { "chunks": [ [ "looted_gunsafe_nested", 25 ], [ "jammed_gunsafe_nested", 75 ], [ "null", 95 ] ] },
        "+": { "chunks": [ [ "destroyed_metal_door_nested", 90 ], [ "null", 75 ] ] },
        "`": { "chunks": [ [ "corpse_blood_casings_1x1", 4 ], [ "null", 20 ] ] }
      },
      "place_loot": [ { "group": "cash_register_random_ransacked", "x": 9, "y": 7 } ]
    }
  }
]
