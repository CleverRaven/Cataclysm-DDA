[
  {
    "type": "palette",
    "id": "sewage_treatment_palette",
    "terrain": {
      " ": [ "t_dirt", "t_grass" ],
      "?": "t_shrub",
      ")": "t_water_pool_shallow",
      ".": "t_pavement",
      "_": "t_sidewalk",
      "p": "t_pavement_y",
      "|": "t_chainfence",
      "C": "t_chaingate_l",
      "~": "t_sewage",
      "!": "t_metal_railing",
      "@": "t_grate",
      "w": "t_water_pool",
      "A": "t_dirt",
      "1": "t_sewage_pipe",
      "&": "t_sewage_pump",
      "0": "t_manhole_cover",
      "O": "t_thconc_floor",
      "H": "t_sconc_wall",
      "z": "t_concrete",
      "9": "t_gutter_downspout",
      "-": "t_wall_metal",
      "W": "t_window_no_curtains",
      "t": "t_thconc_floor",
      "m": "t_metal_floor",
      "b": "t_door_metal_pickable",
      "e": "t_door_metal_locked",
      "D": "t_door_glass_c",
      "6": "t_console_broken",
      "+": "t_door_c",
      ",": "t_floor",
      "M": "t_metal_floor",
      "<": "t_ladder_up",
      ">": "t_stairs_down",
      "%": "t_machinery_heavy",
      "$": "t_machinery_light",
      "{": "t_thconc_floor",
      "R": "t_thconc_floor",
      "J": "t_current_trans",
      "U": "t_sai_box",
      "G": "t_generator_broken",
      "F": "t_potential_trans",
      "7": "t_metal_floor",
      "4": "t_metal_floor",
      "g": "t_metal_floor",
      "Y": "t_switchgear_s"
    }
  },
  {
    "type": "palette",
    "id": "sewage_treatment_sewer_palette",
    "terrain": {
      "c": "t_thconc_floor",
      "l": "t_thconc_floor",
      "L": "t_thconc_floor",
      "n": "t_thconc_floor",
      "{": "t_thconc_floor",
      "f": "t_thconc_floor",
      ";": "t_thconc_floor",
      "q": "t_thconc_floor",
      "r": "t_thconc_floor",
      "w": "t_thconc_floor",
      "t": "t_thconc_floor",
      "0": "t_thconc_floor",
      "[": "t_thconc_floor",
      "I": "t_thconc_floor",
      "h": "t_thconc_floor",
      "D": "t_thconc_floor",
      "1": "t_thconc_floor",
      "=": "t_rock_floor",
      ">": "t_stairs_up",
      "!": "t_bars",
      "~": "t_sewage",
      "`": "t_sewage",
      "%": "t_rock",
      ".": "t_thconc_floor",
      "^": "t_ladder_up",
      "*": "t_door_bar_locked",
      "x": "t_bridge",
      "#": "t_grate",
      "b": "t_door_metal_pickable",
      "H": "t_sconc_wall",
      "2": "t_sewage_pipe",
      "U": "t_sai_box",
      "G": "t_generator_broken",
      "Y": "t_switchgear_s",
      "&": "t_sewage_pump",
      "-": "t_wall_glass",
      "A": "t_railing_h",
      "a": "t_railing_v",
      "|": "t_chainfence",
      "C": "t_chaingate_l",
      "$": "t_machinery_light",
      "@": "t_machinery_heavy",
      "v": "t_machinery_old",
      "+": "t_door_c",
      "6": "t_console_broken"
    }
  },
  {
    "id": "treatment_chemicals",
    "type": "item_group",
    "items": [
      { "item": "bleach", "container-item": "55gal_drum", "charges-min": 10, "charges-max": 126, "chance": 50 },
      {
        "item": "chem_sulphuric_acid",
        "container-item": "55gal_drum",
        "charges-min": 2,
        "charges-max": 50,
        "chance": 20
      },
      {
        "item": "material_quicklime",
        "container-item": "55gal_drum",
        "charges-min": 2,
        "charges-max": 50,
        "chance": 20
      },
      { "item": "55gal_drum", "chance": 50 }
    ]
  },
  {
    "id": "sewage_samples",
    "type": "item_group",
    "items": [
      { "item": "sewage", "container-item": "flask_glass", "charges": 1, "chance": 50 },
      { "item": "water", "container-item": "flask_glass", "charges": 1, "chance": 50 },
      { "item": "water_clean", "container-item": "flask_glass", "charges": 1, "chance": 30 },
      { "item": "slime_scrap", "container-item": "flask_glass", "charges": 1, "chance": 10 }
    ]
  },
  {
    "type": "monstergroup",
    "name": "GROUP_SEWAGE_TREATMENT",
    "default": "mon_sewer_rat",
    "is_animal": true,
    "monsters": [
      { "monster": "mon_sewer_fish", "freq": 300, "cost_multiplier": 0, "pack_size": [ 2, 6 ] },
      { "monster": "mon_sewer_snake", "freq": 240, "cost_multiplier": 0 },
      { "monster": "mon_sewer_rat", "freq": 100, "cost_multiplier": 0, "pack_size": [ 3, 6 ] },
      { "monster": "mon_albino_penguin", "freq": 5, "cost_multiplier": 5, "pack_size": [ 3, 9 ] },
      { "monster": "mon_gator", "freq": 40, "cost_multiplier": 2, "pack_size": [ 1, 2 ] }
    ]
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ [ "sewage_treatment_0_0_0", "sewage_treatment_1_0_0" ], [ "sewage_treatment_0_1_0", "sewage_treatment_1_1_0" ] ],
    "weight": 250,
    "object": {
      "fill_ter": "t_floor",
      "rows": [
        "|||_.......pp......._|||||||||||||||||||||||||||",
        "|  _................_      ? ?   ? ??? ?   ? 9 |",
        "|  _.......pp......._    HHWHWHHHWHWWWHWHHHWHH |",
        "|  _................_ ?  H^,6#,H,d,,,,,d,H^d,H |",
        "|  _.......pp......._____W,,d,,H#6,,#,,6#H,6#W?|",
        "|  _................_   _D,,,,,D,,,666,,,+,d,H |",
        "|___................___  H^[[,^H,,,,,,,,,H,,,W?|",
        "|.....................__ HHHH+HHqr*,,,[[qH[[[H |",
        "|.....................__?W##,,fHHHHHDHHHHHHHHH |",
        "|.....................__ Hdd,,cH,,,,,,,,,8Ht<H |",
        "|......p......p.......__ H##,,,+,,,,,,,,,,ettH |",
        "|.....................__?W,,,c,H,,,,,,,,,,Ht>H |",
        "|......p......p.......__ HH+HH+H,,HH+HH+HbHHHH |",
        "|.....................__ Hl,Hl,H,,Hx,Hx,Hm74%H |",
        "|......p......p.......__ Hl,Hl,H,,H,,H,,HmmmgH |",
        "|.....................__ Hl,Hl,H,,HrTHrTHmmm{H |",
        "||||||||||||||||||||||CC|HHHHHHH++HHHHHHH{mm{H |",
        "|zzzzzzzzzzzzzzzzzz   __   AAA  __      H{mm{H |",
        "|zwwwwwwwwm)))))))z   __        __ ? ? ?H{mm{H |",
        "|zwwwwwwwwm)))))))z   __        __      H{mm{H |",
        "|zzzzzzzzzzzzzzzzzz____________________ HmmMMH |",
        "|zwwwwwwwwmwwwwwwwz   __________________bmmMMH |",
        "|zwwwwwwwwmwwwwwwwz                  __ HHHHHH |",
        "|zzzzzzzzzzzzzzzzzz111111111111      __        |",
        "||||||C|||||||||||||1||||||||||||||  __        |",
        "|  zzzzzzz  1111111111               ______OOO |",
        "| zzwwwwwzz 1HHHHHHH1 ?  ? HHHHHHHH  __ --b--- |",
        "|zzwwwwwwwzz1H11&%RH0      HJJFUYYH  __ -&m$&- |",
        "|zwwwwwwwwwz H1ttttH  ?  ? WgttttgW  __ -%mm%- |",
        "|zwwwwwwwwwz H|||C|H       H6ttttGH  __ W&mm&W |",
        "|zwww!!!wwwz     _    ?  ? |||CC|||  __ -Mmm%- |",
        "|zwww!@!wwwz OO  _            __     __ -Rmm&- |",
        "|zwww!@!wwwz OO  _     _________________bmmm%W |",
        "|zzww!@!wwzz____________________________-&%$&- |",
        "| zzw!@!wzz_____________             __ --W--- |",
        "|  zzzzzzz_________                  __      O |",
        "|  zzzzzzz____zzzzzzz     zzzzzzzzzzzzzzzzzz 1 |",
        "| zz)))))zz__zzw!@!wzz    z~~~~zz~~~~zz~~~~z 1 |",
        "|zz)))))))zzzzww!@!wwzz   z~~~~zz~~~~zz~~~~z 1 |",
        "|z)))))))))zzwww!@!wwwz   z~~~~zz~~~~zz~~~~z 11|",
        "|z))))!!!!!zzwww!@!wwwz   z~~~~zz~~~~zz~~~~z $1|",
        "|z))))!@@@@zzwww!!!wwwz   z~~~~zz~~~~zz~~~~z111|",
        "|z))))!!!!!zzwwwwwwwwwz   z~~~~zz~~~~zz~~~~z 1 |",
        "|z)))))))))zzwwwwwwwwwz   z~~~~zz~~~~zz~~~~z11 |",
        "|zz)))))))zzzzwwwwwwwzz   z~~~~zz~~~~zz~~~~z 1 |",
        "| zz)))))zz  zzwwwwwzz    z~~~~zz~~~~zz~~~~z11 |",
        "|  zzzzzzz    zzzzzzz     zzzzzzzzzzzzzzzzzz   |",
        "||||||||||||||||||||||||||||||||||||||||||||||||"
      ],
      "palettes": [ "sewage_treatment_palette" ],
      "furniture": {
        "#": "f_chair",
        "x": "f_sink",
        "4": "f_heavy_lathe",
        "7": "f_drill_press",
        "*": "f_shredder",
        "[": "f_glass_cabinet",
        "^": "f_indoor_plant",
        "A": "f_dumpster",
        "c": "f_counter",
        "R": "f_rack",
        "d": "f_desk",
        "f": "f_fridge",
        "g": "f_workbench",
        "q": "f_indoor_plant_y",
        "l": "f_locker",
        "r": "f_trashcan",
        "{": "f_utility_shelf",
        "O": "f_standing_tank"
      },
      "place_signs": [
        { "signage": "Authorized personnel only", "x": 21, "y": 1 },
        { "signage": "<city> sewage treatment plant", "x": 2, "y": 1 }
      ],
      "place_liquids": [
        { "liquid": "sewage", "chance": 1, "amount": [ 2, 3 ], "x": [ 43, 45 ], "y": 25, "repeat": [ 1, 3 ] },
        { "liquid": "water", "chance": 1, "amount": [ 40, 60 ], "x": [ 13, 14 ], "y": [ 31, 32 ], "repeat": [ 2, 4 ] }
      ],
      "items": {
        "g": { "item": "supplies_hardware", "chance": 40 },
        "R": { "item": "tools_plumbing", "chance": 60 },
        "M": { "item": "treatment_chemicals", "chance": 80 },
        "A": { "item": "trash", "chance": 80 },
        "{": [ { "item": "sewage_plant", "chance": 30 }, { "item": "supplies_plumbing", "chance": 20 } ],
        "f": { "item": "fridgesnacks", "chance": 70, "repeat": [ 1, 3 ] },
        "c": { "item": "office_breakroom", "chance": 60, "repeat": [ 1, 2 ] },
        "l": { "item": "clothing_work_set", "chance": 40 },
        "d": { "item": "office", "chance": 60 },
        "a": { "item": "trash", "chance": 30, "repeat": [ 1, 3 ] },
        "r": { "item": "trash", "chance": 30 },
        "[": { "item": "office_mess", "chance": 50, "repeat": [ 1, 3 ] }
      },
      "computers": {
        "8": {
          "name": "EnviroCom OS v2.03 - Basement Access",
          "security": 1,
          "options": [ { "name": "Unlock stairs", "action": "open" } ],
          "failures": [ { "action": "shutdown" }, { "action": "alarm" } ]
        }
      },
      "toilets": { "T": {  } },
      "place_vehicles": [
        { "vehicle": "pump_station_vehicles", "x": 5, "y": 13, "rotation": 90, "chance": 40 },
        { "vehicle": "pump_station_vehicles", "x": 11, "y": 13, "rotation": 90, "chance": 40 },
        { "vehicle": "pump_station_vehicles", "x": 19, "y": 13, "rotation": 90, "chance": 40 }
      ],
      "place_monsters": [
        { "monster": "GROUP_ZOMBIE", "x": [ 33, 40 ], "y": [ 3, 11 ], "density": 0.2 },
        { "monster": "GROUP_ZOMBIE", "x": [ 25, 44 ], "y": [ 32, 36 ], "density": 0.2 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [
      [ "sewage_treatment_0_0_roof", "sewage_treatment_1_0_roof" ],
      [ "sewage_treatment_0_1_roof", "sewage_treatment_1_1_roof" ]
    ],
    "object": {
      "fill_ter": "t_flat_roof",
      "rows": [
        "                                                ",
        "                                                ",
        "                         |22222222222222222225  ",
        "                         |...................3  ",
        "                         |................XX.3  ",
        "                         |................XX.3  ",
        "                         |...................3  ",
        "                         |...................3  ",
        "                         |.................HHH  ",
        "                         |.................B>H  ",
        "                         |.................HHH  ",
        "                         |...................3  ",
        "                         |...................3  ",
        "                         |...................3  ",
        "                         |...................3  ",
        "                         |...................3  ",
        "                         |--------------|....3  ",
        "                                        |....3  ",
        "                                        |....3  ",
        "                                        |....3  ",
        "                                        |....3  ",
        "                                        |....3  ",
        "                                        |----3  ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                           ........     ......  ",
        "             .......       ........     ......  ",
        "             .......       ........     ......  ",
        "             .......       ........     ......  ",
        "             .......       ........     ......  ",
        "                                        ......  ",
        "                                        ......  ",
        "                                        ......  ",
        "                                        ......  ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                ",
        "                                                "
      ],
      "palettes": [ "roof_palette" ],
      "terrain": {
        ">": "t_ladder_down",
        "X": "t_radio_tower",
        "H": "t_sconc_wall",
        "B": "t_door_metal_pickable"
        },
      "place_nested": [
        {
          "chunks": [ [ "null", 20 ], [ "roof_4x4_utility", 50 ], [ "roof_4x4_utility_1", 40 ] ],
          "x": [ 29, 36 ],
          "y": [ 5, 10 ]
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [
      [ "sewage_treatment_0_0_-1", "sewage_treatment_1_0_-1", "sewage_treatment_2_0_-1" ],
      [ "sewage_treatment_0_1_-1", "sewage_treatment_1_1_-1", "sewage_treatment_2_1_-1" ]
    ],
    "weight": 250,
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~~~%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
        "%%%%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%%%%",
        "%%%%~###########################~~~~~~~~###########################~%%%%",
        "%%%%~#222222222HHHbHHHH%%%%%%%%#%%AAAA%%#%%%%%HHHHbHHH222222222222#~%%%%",
        "%%%%~#2%%%%%%%22&....UH%%%%%%%%##xxxxxx##%%%%%HU....&22%%%%%%%%%%2#~%%%%",
        "%%%%~#2%%%%%%%%H$&$&@&H%%HHHHHHHHHHHHHHHHHHH%%H&@&$&$H%%%%%%%%%%%2#~%%%%",
        "%%%%~#2%%%%%%%%HHHHHHHH%%H0001[.IHD6[[D61.IH%%HHHHHHHH%%%%%%%%%%%2#~%%%%",
        "%%%%~#22%%%%%%%%%%%%%%%%%H0c....fH.c...c..fHHHHHLH%%%%%%%%%%%%%%22#~%%%%",
        "%%%%`##2%%%%%%%%%%%%%%%%%Hh......+.........+...+.H%%%%%%%%%%%%%%2##`%%%%",
        "%%%%!%#2%%%%%%%HHHH%%%%%%H0c....fH.c...c..fHH..HLH%%%%%%%%%%%%%%2#%!%%%%",
        "~~~~~~x2~~~~%%%HL.H%%%%%%H0001[.IHD6[[D61.IHH..HHHHHHHHHHH%%~~~~2x~~~~~~",
        "~~~~~~x2~~~~~%%HH+HHHHHHHHHHHHHHHHHHHHHHHHHH>..+..&TTT&wwH%~~~~~2x~~~~~~",
        "~~~~~~x2~~~~~%%H...............................H........wH%~~~~~2x~~~~~~",
        "~~~~~~xx~~~~%%%H...............................H&...8...&H%%~~~~xx~~~~~~",
        "%%%%%~#2%%%%%%%HH+HHHH+HHH..HHHHHHHHHHHHHHHHH..H$#######$H%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%Hn..lHn..lH..H%%HIf6666;fH%%%H..H@...@...@H%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%HH+HHHH+HHH..HHHH........HHHHH..H#...#...#H%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%Hq..qHq..qH.....+........+......H$&$&@&$&$H%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%Hq..qHq..qH..HHHHc......cHHHHH..HHHHHHHHHHH%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%HHHHHHHHHHH..H%%H6tttttt6H%%%H..H%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%%%%%%%%%%%H..H%%H--------H%%%H..H%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%%%%%%%%%%%H..H%%#vvvvvvvv2%%%H..H%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%%%%%%%%%%%H..H%%#a~~~~~~~2%%%H..H%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%%%%%%%%%%%H..H%%#a~~~~~~~2%%%HbbH%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%%%%%%HHHHHHHHHH..HHHbH~~~~~~%22222..2%%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%HHHHHHww.............b##~~~%%%%%%%..22%%%%%%%%%%%%%%%2#~%%%%%",
        "%%%%%~#2%%%H{{{{Hw...HHHHHHHHHHHH!*!!!%%%%%%%...22222222222222222#`%%%%%",
        "%%%%%`#2%%%H....C...^H%%%%%%%%~~~`````~~~~%%%....................#!%%%%%",
        "%%%%%!#2%%%H{{{{H....H%%%%%%%~~~~~~~~~~~~~~%%%.%%%%%%%%%%%%%%{{%%~~%%%%%",
        "%%%%~~##%%%HHHHHHHHbHH%%%%%%~~~~~~~~~~~~~~~~%%b%%%%%%%%%%%%%%%%%~~~~%%%%",
        "%%%~~~~############x~~~~~~~~~~~~~~~~~~~~~~~~~~x~~~~~~~~~~~~~~~~~~~~~~%%%",
        "%%%~~~~~~~~~~~~~~~~x~~~~~~~~~~~~~~~~~~~~~~~~~~x~~~~~~~~~~~~~~~~~~~~~~%%%",
        "%%%%~~~~%%%%%%%%%%HbH%%%%%%%~~~~~~~~~~~~~~~~%HbH%%%%%%%%%%%%%%%%~~~~%%%%",
        "%%%%%%%%HHHHHHHHHHH.HHHH%%%%%~~~~~~~~~~~~~~%%H.HHHHHHHHHHHHHHHHH%%%%%%%%",
        "%%%%%%%%HGGG.|YYYYY...UH%%%%%%~~~~~~~~~~~~%%%H.HH2$&$&$&$&$&$&$H%%%%%%%%",
        "%%%%%%%%HGGG.C........UH%%%%%%%%%%%~~%%%%%%%%H.HH2.............H%%%%%%%%",
        "%%%%%%%%HGGG.|........UH%%%%%%%%%%%~~%%%%%%%%H.HH2..@#@..@#@..@H%%%%%%%%",
        "%%%%%%%%HHHHHHr.......UHHHHHHHHHHHH~~HHHHHHHHH.HH2..@#@..@#@..@H%%%%%%%%",
        "%%%%%%%%%%%%%H2.2.................bxxb.........................H%%%%%%%%",
        "%%%%%%%%%%%%%H22222222222222222222H!*H222222222222..@#@..@#@..@H%%%%%%%%",
        "%%%%%%%%%%%%%HHHHHHHHHHHHHHHHHHHHHH``HHHHHHHHHHHH2..@#@..@#@..@H%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~%%%%%%%%%%%H2.............H%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~%%%%%%%%%%%H2..2#2..2#2..2H%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~~~%%%%%%%%%%H22222222222222H%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~~~%%%%%%%%%%HHHHHHHHHHHHHHHH%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%!~~~~~~~~~~~~~~~~~~~~~~~!%%%%%%%%%%%%%%%%%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~~~%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%~~~~%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%"
      ],
      "palettes": [ "sewage_treatment_sewer_palette" ],
      "furniture": {
        "c": "f_chair",
        "l": "f_locker",
        "L": "f_locker",
        "n": "f_sink",
        "{": "f_utility_shelf",
        "r": "f_rack",
        "f": "f_air_filter",
        ";": "f_server",
        "q": "f_shower",
        "w": "f_workbench",
        "t": "f_table",
        "D": "f_desk",
        "T": "f_counter",
        "0": "f_lab_bench",
        "[": "f_glass_cabinet",
        "I": "f_air_conditioner",
        "h": "f_fume_hood",
        "1": "f_trashcan"
      },
      "items": {
        "q": { "item": "shower", "chance": 40 },
        "l": [ { "item": "clothing_work_set", "chance": 40 }, { "item": "shower", "chance": 50 } ],
        "L": { "item": "cleaning", "chance": 80, "repeat": [ 1, 2 ] },
        "{": [ { "item": "sewage_plant", "chance": 50 }, { "item": "supplies_plumbing", "chance": 30 } ],
        "r": { "item": "tools_electronics", "chance": 40, "repeat": [ 1, 3 ] },
        "w": { "item": "supplies_hardware", "chance": 50 },
        "`": [ { "item": "sewer", "chance": 20 }, { "item": "trash_forest", "chance": 10 }, { "item": "trash", "chance": 10 } ],
        "0": [ { "item": "tools_science", "chance": 50 }, { "item": "sewage_samples", "chance": 20 } ],
        "h": { "item": "chem_home", "chance": 50, "repeat": [ 1, 3 ] },
        "D": { "item": "office_mess", "chance": 40 },
        "t": { "item": "electronics", "chance": 30 },
        "[": [ { "item": "office_mess", "chance": 30 }, { "item": "sewage_samples", "chance": 10 } ],
        "1": { "item": "trash", "chance": 50 }
      },
      "place_loot": [
        { "group": "sewage_plant", "x": [ 17, 20 ], "y": 4, "chance": 70 },
        { "group": "sewage_plant", "x": [ 48, 51 ], "y": 4, "chance": 70 },
        { "group": "treatment_chemicals", "x": [ 49, 55 ], "y": [ 13, 16 ], "chance": 90, "repeat": [ 1, 3 ] },
        { "group": "treatment_chemicals", "x": [ 50, 61 ], "y": [ 35, 42 ], "chance": 50, "repeat": [ 1, 3 ] },
        { "group": "sewage_plant", "x": [ 50, 61 ], "y": [ 35, 42 ], "chance": 70, "repeat": [ 1, 3 ] }
      ],
      "computers": {
        "8": {
          "name": "EnviroCom OS v2.03",
          "security": 1,
          "options": [ { "name": "Download Sewer Maps", "action": "map_sewer" }, { "name": "Divert sample", "action": "sample" } ],
          "failures": [ { "action": "shutdown" }, { "action": "alarm" } ]
        }
      },
      "place_monsters": [
        { "monster": "GROUP_ZOMBIE", "x": [ 26, 36 ], "y": [ 12, 18 ], "density": 0.35 },
        { "monster": "GROUP_ZOMBIE", "x": [ 16, 20 ], "y": [ 36, 38 ], "density": 0.1 },
        { "monster": "GROUP_SEWAGE_TREATMENT", "x": 36, "y": 3, "density": 0.2 },
        { "monster": "GROUP_SEWAGE_TREATMENT", "x": [ 30, 32 ], "y": [ 35, 36 ], "density": 0.2 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "sewage_treatment_0_1_-1" ],
    "//": "10% chance of a hidden CHUD lair",
    "weight": 25,
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "%%%%%~#2%%%%%%%%HHHHHHHH",
        "%%%%%~#2%%%HHHHHHww.....",
        "%%%%%~#2%%%H{{{{Hw...HHH",
        "%%%%%~#2%%%H....C...^H%%",
        "%%%%%~#2%%%H{{{{H....H%%",
        "%%%%~~##%%%HHHHHHHHbHH%%",
        "%%%~~~~############x~~~~",
        "%%%~~~~~~~~~~~~~~~~x~~~~",
        "%%%%~~~~%%%%%%%%%%HbH%%%",
        "%%%%%%%%HHHHHHHHHHH.HHHH",
        "%%%%%%%%HGGG.|YYYYY...UH",
        "%%%%%%%%HGGG.C........UH",
        "%%%%%%%%HGGG.|........UH",
        "%%%%%%%%HHHHHHr.......UH",
        "%%%%%%%%%%%%%H2.2.......",
        "%%====%%%%%%%H2222222222",
        "%%%======%%%%HHHHHHHHHHH",
        "%%%=======%%%%%%%%%%%%%%",
        "%%%=======%%%%%%%%%%%%%%",
        "%%========%%%%%%%%%%%%%%",
        "%%%==%%=%%%%%%%%%%%%%%%%",
        "%%%%%%!~~~~~~~~~~~~~~~~~",
        "%%%%%%%%%%%%%%%%%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%"
      ],
      "palettes": [ "sewage_treatment_sewer_palette" ],
      "furniture": { "{": "f_utility_shelf", "r": "f_rack", "w": "f_workbench" },
      "items": {
        "{": [ { "item": "sewage_plant", "chance": 30 }, { "item": "supplies_plumbing", "chance": 20 } ],
        "w": { "item": "supplies_hardware", "chance": 50 },
        "=": [ { "item": "cannibal_corpse", "chance": 15 }, { "item": "human_remains", "chance": 15 } ],
        "r": { "item": "tools_electronics", "chance": 30, "repeat": [ 1, 3 ] }
      },
      "fields": { "=": { "field": "fd_blood", "intensity": 1, "age": 990, "chance": 40 } },
      "place_monsters": [
        { "monster": "GROUP_ZOMBIE", "x": [ 16, 20 ], "y": [ 11, 14 ], "density": 0.1 },
        { "monster": "GROUP_CHUD", "x": [ 4, 6 ], "y": [ 16, 18 ], "density": 0.2 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "sewage_treatment_0_1_-1" ],
    "//": "Easter egg - TMNT reference",
    "weight": 1,
    "object": {
      "fill_ter": "t_rock_floor",
      "rows": [
        "%%%%%~#2%%%%%%%%HHHHHHHH",
        "%%%%%~#2%%%HHHHHHww.....",
        "%%%%%~#2%%%H{{{{Hw...HHH",
        "%%%%%~#2%%%H....C...^H%%",
        "%%%%%~#2%%%H{{{{H....H%%",
        "%%%%~~##%%%HHHHHHHHbHH%%",
        "%%%~~~~############x~~~~",
        "%%%~~~~~~~~~~~~~~~~x~~~~",
        "%%%%~~~~%%%%%%%%%%HbH%%%",
        "%%%%%%%%HHHHHHHHHHH.HHHH",
        "%%%%%%%%HGGG.|YYYYY...UH",
        "%.III.%%HGGG.C........UH",
        "%.III.%%HGGG.|........UH",
        "%.III.%%HHHHHHr.......UH",
        "%%%O%%%%%%%%%H2.2.......",
        "%t...%Q..D%%%H2222222222",
        "%....O.::.%%%HHHHHHHHHHH",
        "%LL;.%.::1%%%%%%%%%%%%%%",
        "%%%%O%.::.O..[%%%%%%%%%%",
        "%f0..%1...%D.[%%%%%%%%%%",
        "%.c..%%*%%%%%%%%%%%%%%%%",
        "%ctc.%!~~~~~~~~~~~~~~~~~",
        "%.c..%%%%%%%%%%%%%%%%%%%",
        "%%%%%%%%%%%%%%%%%%%%%%%%"
      ],
      "palettes": [ "sewage_treatment_sewer_palette" ],
      "terrain": { "O": "t_mdoor_lab_frame", ":": "t_carpet_yellow", "Q": "t_privacy_fence" },
      "furniture": {
        "{": "f_utility_shelf",
        "w": "f_workbench",
        "r": "f_rack",
        "I": "f_tatami",
        "c": "f_chair",
        "l": "f_locker",
        "n": "f_sink",
        "f": "f_fridge",
        "t": "f_table",
        "[": "f_bed",
        "L": "f_sofa",
        "1": "f_armchair",
        ";": "f_floor_lamp",
        "0": "f_oven",
        "D": "f_bookcase"
      },
      "items": {
        "{": [ { "item": "sewage_plant", "chance": 30 }, { "item": "supplies_plumbing", "chance": 20 } ],
        "w": { "item": "supplies_hardware", "chance": 50 },
        "r": { "item": "tools_electronics", "chance": 30, "repeat": [ 1, 3 ] },
        "D": { "item": "dojo_manuals", "chance": 60, "repeat": [ 1, 2 ] },
        "[": { "item": "bed", "chance": 60 },
        "f": { "item": "fridgesnacks", "chance": 80, "repeat": [ 1, 2 ] }
      },
      "place_loot": [
        { "item": "katana", "x": 2, "y": 11, "amount": 2 },
        { "item": "q_staff", "x": 3, "y": 12 },
        { "item": "television", "x": 1, "y": 15 },
        { "item": "judo_belt_orange", "x": 3, "y": 13 },
        { "item": "judo_belt_blue", "x": 4, "y": 13 },
        { "item": "pizza_cheese", "x": 2, "y": 21 }
      ],
      "place_monsters": [ { "monster": "GROUP_ZOMBIE", "x": [ 16, 20 ], "y": [ 11, 14 ], "density": 0.1 } ]
    }
  },
  {
    "id": "cannibal_corpse",
    "type": "item_group",
    "subtype": "collection",
    "items": [ { "group": "clothing_work_set", "chance": 40 }, { "group": "supplies_plumbing", "chance": 20 }, { "item": "corpse" } ]
  },
  {
    "id": "human_remains",
    "type": "item_group",
    "subtype": "collection",
    "items": [
      { "item": "human_flesh", "chance": 70, "count-min": 1, "count-max": 10 },
      { "item": "hstomach_large", "chance": 60 },
      { "item": "hstomach", "chance": 60 },
      { "item": "bone_human", "prob": 90, "count-min": 1, "count-max": 5 },
      { "item": "rag_bloody", "prob": 90, "count-min": 1, "count-max": 4 }
    ]
  }
]
