[
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "fort_zombie",
    "object": {
      "mapgensize": [ 1, 1 ],
      "rows": [ " " ],
      "palettes": [ "fort_parameter_palette" ],
      "place_monster": [
        {
          "group": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "GROUP_ZOMBIE", "reenactors": "GROUP_FORT", "closed": "GROUP_NULL" }
          },
          "x": 0,
          "y": 0
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [
      [ "fort_1a", "fort_2a", "fort_3a", "fort_4a" ],
      [ "fort_1b", "fort_2b", "fort_3b", "fort_4b" ],
      [ "fort_1c", "fort_2c", "fort_3c", "fort_4c" ]
    ],
    "object": {
      "fallback_predecessor_mapgen": "field",
      "rows": [
        "                                        *****                                                   ",
        "                                       **###**                                                  ",
        "                                      **#####**                                                 ",
        "                                     **#######**                                                ",
        "                                    **#########**                                               ",
        "                                   **####.O.####**                                              ",
        "                                  **####.....####**                                             ",
        "                                 **####C.....C####**                                            ",
        "                                 *####C...=...C####*                                            ",
        "                                 *###C.........C###*                                            ",
        "                                 *#####CC...CC#####*                                            ",
        "   *********                     ****#####+######**                       *******               ",
        "  **#######***                 ****######***######*****                ****#####***             ",
        " **##########***             ***######*********#######**             ***##########**            ",
        " *#############**         ****######************#######***          **#############*            ",
        " *###bwwb.b#####***********#######**7********7****#######************#####LLLLLS###*            ",
        " *###b..b.b.####################********************#####################.......###*            ",
        " *###..t....t#################******************7*****##################........###*            ",
        " *###bb.b.b...#############****7*************************##############..rtr.ppF###*            ",
        " **#####b.b...+**#######<<<***************************7**<<<###########+##########**            ",
        "  **###########*********************************************************#########**             ",
        "   **##########*********7*********************************7************#########**              ",
        "    *******####********************************************************####******               ",
        "          ***###***********************************************7******###***                    ",
        "            *###******************************************************###*                      ",
        "            *###******************************************************###*                      ",
        "            **###****7***********************************************###**                      ",
        "             *###*********************************************7******###*                       ",
        "             *###****************************************************###*                       ",
        "             *###****************************************************###*                       ",
        "             **###***7**********************************************###**                       ",
        "              *###*******************************************7******###*                        ",
        "              *###**************************************************###*                        ",
        "              *###**************************************************###*                        ",
        "              *###**************************************************###*                        ",
        "              *###****7*********************************************###*                        ",
        "              **###*****************************************7******###**                        ",
        "               *###************************************************###*                         ",
        "               *###*********************~~~~~**********************###*                         ",
        "               *###*********************~~~~~**********************###*                         ",
        "               *###*********************~~~~~**************7*******###*                         ",
        "               **###***7****************~~~~~*********************###**                         ",
        "                *###********************~~~~~*********************###*                          ",
        "                *###********************~~~~~*********************###*                          ",
        "                *###*******7***7***7****~~~~~***7***7****7********###*                          ",
        "                **###****__________________________________******###**                          ",
        "               ***####**______eee___eee_______eee___eee______***####**                          ",
        "               *#######______############___############_______######*                          ",
        "             ***#######____##############___###############____######***                        ",
        "           ***#########D#################___##################D########***                      ",
        "           *#####T+,s#,,,####***********?___?************#####......#####**                     ",
        "           *#######,,+,,,###**          ??_??           **###R..ttt..R####*                     ",
        "           *####T,+,&##+####*           ?????            *###R..ttt..R####*                     ",
        "           *##########,,###**           ?????            **###.......R####*                     ",
        "           *####&,,,,,,s###*            ?????             *###RRπππ-/R####*                     ",
        "           **#####+#+######*            ?????             *####....r.####**                     ",
        "            **####T#T####***            ?????             ***#####..####**                      ",
        "             **#########**              ?????               **#########**                       ",
        "              **#######**               ?????                **#######**                        ",
        "               *********                ?????                 *********                         ",
        "                                         ???                                                    ",
        "                                          ?                                                     ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                "
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "palettes": [ "fort_palette", "fort_parameter_palette" ],
      "terrain": {
        "+": {
          "switch": { "param": "variant", "fallback": "closed" },
          "cases": { "tourist": "t_door_locked", "reenactors": "t_door_c", "closed": "t_door_locked" }
        },
        "D": {
          "switch": { "param": "variant", "fallback": "closed" },
          "cases": { "tourist": "t_door_c", "reenactors": "t_door_c", "closed": "t_door_locked" }
        }
      },
      "place_monster": [
        {
          "group": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "GROUP_NULL", "reenactors": "GROUP_FORT", "closed": "GROUP_NULL" }
          },
          "x": [ 30, 36 ],
          "y": [ 27, 37 ],
          "repeat": [ 12, 16 ]
        },
        {
          "group": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "GROUP_NULL", "reenactors": "GROUP_FORT", "closed": "GROUP_NULL" }
          },
          "x": [ 48, 54 ],
          "y": [ 27, 37 ],
          "repeat": [ 12, 16 ]
        },
        {
          "group": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "GROUP_ZOMBIE", "reenactors": "GROUP_ZOMBIE", "closed": "GROUP_NULL" }
          },
          "x": [ 30, 38 ],
          "y": 46,
          "repeat": [ 0, 3 ]
        },
        {
          "group": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "GROUP_ZOMBIE", "reenactors": "GROUP_ZOMBIE", "closed": "GROUP_NULL" }
          },
          "x": [ 48, 54 ],
          "y": 46,
          "repeat": [ 0, 2 ]
        }
      ],
      "monster": {
        "/": {
          "monster": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "mon_zombie", "reenactors": "mon_zombie", "closed": "mon_null" }
          }
        }
      },
      "nested": {
        "*": { "chunks": [ [ "fort_zombie", 8 ], [ "null", 1701 ] ] },
        ".": { "chunks": [ [ "fort_zombie", 2 ], [ "null", 94 ] ] },
        ",": { "chunks": [ [ "fort_zombie", 2 ], [ "null", 17 ] ] }
      }
    }
  },
  {
    "id": "fort_giftshop_rack",
    "type": "item_group",
    "subtype": "distribution",
    "entries": [
      { "item": "tshirt", "prob": 50 },
      { "item": "flintlock_pouch", "prob": 20 },
      { "item": "ceramic_mug", "prob": 10 },
      { "item": "tricorne", "prob": 30 }
    ]
  },
  {
    "id": "fort_breakroom_lockers",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      { "group": "pants", "prob": 50 },
      { "group": "shirts", "prob": 50 },
      { "group": "clothing_outdoor_shoes", "prob": 50 }
    ]
  },
  {
    "id": "fort_historic_wardrobe",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      { "item": "knee_high_boots", "prob": 20, "damage": [ 1, 4 ] },
      { "item": "breeches", "prob": 50, "damage": [ 1, 4 ] },
      { "item": "waistcoat", "prob": 30, "damage": [ 1, 4 ] },
      { "item": "peacoat", "prob": 50, "damage": [ 1, 4 ] },
      { "item": "leather_belt", "prob": 10, "damage": [ 1, 4 ] },
      { "item": "knit_scarf", "prob": 10, "damage": [ 1, 4 ] },
      { "item": "tricorne", "prob": 30, "damage": [ 1, 4 ] },
      { "item": "gloves_leather", "prob": 10, "damage": [ 1, 4 ] },
      { "item": "stockings", "prob": 20, "damage": [ 1, 4 ] }
    ]
  },
  {
    "id": "fort_giftshop_case",
    "type": "item_group",
    "subtype": "distribution",
    "entries": [
      {
        "distribution": [
          { "item": "rifle_flintlock", "prob": 50 },
          { "item": "pistol_flintlock", "prob": 20 },
          { "item": "longrifle_flintlock", "prob": 30 }
        ],
        "prob": 50
      }
    ]
  },
  {
    "id": "fort_crate",
    "type": "item_group",
    "subtype": "collection",
    "entries": [ { "item": "cannonball_4lb", "prob": 100 }, { "item": "cotton_patchwork", "prob": 50 } ]
  },
  {
    "id": "fort_powderbarrel",
    "type": "item_group",
    "subtype": "collection",
    "entries": [ { "item": "chem_black_powder", "entry-wrapper": "wooden_barrel", "count": [ 100, 2500 ] } ]
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [
      [ "fort_1a_1", "fort_2a_1", "fort_3a_1", "fort_4a_1" ],
      [ "fort_1b_1", "fort_2b_1", "fort_3b_1", "fort_4b_1" ],
      [ "fort_1c_1", "fort_2c_1", "fort_3c_1", "fort_4c_1" ]
    ],
    "object": {
      "fill_ter": "t_rock_floor_no_roof",
      "rows": [
        "                                                                                                ",
        "                                         ...                                                    ",
        "                                        .....                                                   ",
        "                                       .......                                                  ",
        "                                      .........                                                 ",
        "                                     .....U.....                                                ",
        "                                    .............                                               ",
        "                                   .......Z.......                                              ",
        "                                  .................                                             ",
        "                                  .................                                             ",
        "                                  .................                                             ",
        "                                    .............                                               ",
        "    .......                        ......   ......                         .....                ",
        "   ..........                   ......         .......                  ..........              ",
        "  .............               ......            .......               .............             ",
        "  ..............           .......                .......            ..............             ",
        "  ....Q.........................                    ..........................Q....             ",
        "  ............................                        .............................             ",
        "  .........................                              ..........................             ",
        "   .....................>>>                              >>>......................              ",
        "    ...........                                                         .........               ",
        "     ..........                                                        .........                ",
        "           ....                                                        ....                     ",
        "             ...                                                      ...                       ",
        "             ...                                                      ...                       ",
        "             ...                                                      ...                       ",
        "              ...                                                    ...                        ",
        "              ...                                                    ...                        ",
        "              ...                                                    ...                        ",
        "              ...                                                    ...                        ",
        "               ...                                                  ...                         ",
        "               ...                                                  ...                         ",
        "               ...                                                  ...                         ",
        "               ...                                                  ...                         ",
        "               ...                                                  ...                         ",
        "               ...                                                  ...                         ",
        "                ...                                                ...                          ",
        "                ...                                                ...                          ",
        "                ...                                                ...                          ",
        "                ...                                                ...                          ",
        "                ...                                                ...                          ",
        "                 ...                                              ...                           ",
        "                 ...                                              ...                           ",
        "                 ...                                              ...                           ",
        "                 ...                                              ...                           ",
        "                  ...                                            ...                            ",
        "                  ....                                          ....                            ",
        "                .....................................................                           ",
        "                .....................................................                           ",
        "              .........................................................                         ",
        "            .................                            ................                       ",
        "            ................                              ................                      ",
        "            ................                              ................                      ",
        "            .......Q.......                                ........Q......                      ",
        "            ...............                                ...............                      ",
        "             ..............                                ..............                       ",
        "              ...........                                    ...........                        ",
        "               .........                                      .........                         ",
        "                .......                                        .......                          ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                ",
        "                                                                                                "
      ],
      "palettes": [ "fort_parameter_palette" ],
      "terrain": { " ": "t_open_air", ">": "t_slope_down" },
      "monster": {
        "Z": {
          "monster": {
            "switch": { "param": "variant", "fallback": "closed" },
            "cases": { "tourist": "mon_null", "reenactors": "mon_zombie_tough", "closed": "mon_null" }
          }
        }
      },
      "nested": { ".": { "chunks": [ [ "fort_zombie", 8 ], [ "null", 1058 ] ] } },
      "vehicles": { "U": { "vehicle": "cannon_3in", "chance": 100 }, "Q": { "vehicle": "cannon_3in_plugged", "chance": 100 } }
    }
  }
]
