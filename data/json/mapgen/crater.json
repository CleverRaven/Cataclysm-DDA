[
  {
    "type": "palette",
    "id": "crater_palette",
    "terrain": {
      ".": "t_region_groundcover_barren",
      "?": [ [ "t_region_groundcover_barren", 3 ], "t_null" ],
      "0": "t_region_groundcover_barren"
    },
    "items": { ".": { "item": "wreckage", "chance": 2 }, "?": { "item": "wreckage", "chance": 1 } },
    "nested": { ".": { "chunks": [ [ "rubble", 10 ], [ "null", 3 ] ] }, "?": { "chunks": [ [ "rubble", 3 ], [ "null", 10 ] ] } }
  },
  {
    "id": "crater_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active alien bomb" },
    "description": "This item is used to make a hole for a crater.  It should not otherwise appear in game.",
    "weight": "4400 g",
    "volume": "10 L",
    "price": 0,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 1,
    "max_charges": 1,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 25000, "max_noise": 0 },
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already activated the bomb - clear the area immediately!",
      "explosion": { "power": 25000, "max_noise": 0 }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ],
    "melee_damage": { "bash": 20 }
  },
  {
    "id": "crater_bomb_small",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active alien bomb" },
    "description": "This item is used to make a hole for a crater.  It should not otherwise appear in game.",
    "weight": "4400 g",
    "volume": "10 L",
    "price": 0,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 1,
    "max_charges": 1,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 12500, "max_noise": 0 },
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already activated the bomb - clear the area immediately!",
      "explosion": { "power": 12500, "max_noise": 0 }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ],
    "melee_damage": { "bash": 20 }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "crater_bomb",
    "object": {
      "mapgensize": [ 1, 1 ],
      "place_item": [ { "item": "crater_bomb", "x": 0, "y": 0, "custom-flags": [ "ACTIVATE_ON_PLACE" ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "crater_bomb_small",
    "object": {
      "mapgensize": [ 1, 1 ],
      "place_item": [ { "item": "crater_bomb_small", "x": 0, "y": 0, "custom-flags": [ "ACTIVATE_ON_PLACE" ] } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "rubble",
    "object": { "mapgensize": [ 1, 1 ], "place_rubble": [ { "x": 0, "y": 0 } ] }
  },
  {
    "om_terrain": "crater_core",
    "type": "mapgen",
    "method": "json",
    "object": {
      "fill_ter": "t_region_groundcover_barren",
      "rows": [
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................"
      ],
      "palettes": [ "crater_palette" ]
    }
  },
  {
    "om_terrain": "meteor",
    "type": "mapgen",
    "method": "json",
    "object": {
      "fill_ter": "t_open_air",
      "place_nested": [
        { "chunks": [ [ "crater_bomb", 2 ], [ "null", 1 ] ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ [ "crater_bomb", 2 ], [ "null", 1 ] ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ [ "crater_bomb", 2 ], [ "null", 1 ] ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] }
      ]
    }
  },
  {
    "om_terrain": "meteor_small",
    "type": "mapgen",
    "method": "json",
    "object": {
      "fill_ter": "t_open_air",
      "place_nested": [
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] },
        { "chunks": [ "crater_bomb_small", "null" ], "x": [ 6, 17 ], "y": [ 6, 17 ] }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "crater",
    "weight": 250,
    "object": {
      "fallback_predecessor_mapgen": "field",
      "place_nested": [
        { "chunks": [ "24x24_crater_north" ], "x": 0, "y": 0, "neighbors": { "north": "crater_core" } },
        { "chunks": [ "24x24_crater_north_east" ], "x": 0, "y": 0, "neighbors": { "north_east": "crater_core" } },
        { "chunks": [ "24x24_crater_east" ], "x": 0, "y": 0, "neighbors": { "east": "crater_core" } },
        { "chunks": [ "24x24_crater_south_east" ], "x": 0, "y": 0, "neighbors": { "south_east": "crater_core" } },
        { "chunks": [ "24x24_crater_south" ], "x": 0, "y": 0, "neighbors": { "south": "crater_core" } },
        { "chunks": [ "24x24_crater_south_west" ], "x": 0, "y": 0, "neighbors": { "south_west": "crater_core" } },
        { "chunks": [ "24x24_crater_west" ], "x": 0, "y": 0, "neighbors": { "west": "crater_core" } },
        { "chunks": [ "24x24_crater_north_west" ], "x": 0, "y": 0, "neighbors": { "north_west": "crater_core" } }
      ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_north",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "?......................?",
        "????................????",
        "???????..........???????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "  ????????????????????  ",
        "       ??????????       "
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_east",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "  ???????????...........",
        "  ??????????............",
        " ???????????............",
        " ???????????............",
        " ??????????.............",
        " ??????????.............",
        " ??????????.............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        "??????????..............",
        " ??????????.............",
        " ??????????.............",
        " ??????????.............",
        " ???????????............",
        " ???????????............",
        "  ??????????............",
        "  ???????????..........."
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_south",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "       ??????????       ",
        "  ????????????????????  ",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "????????????????????????",
        "???????..........???????",
        "????................????",
        "?......................?",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................",
        "........................"
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_west",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "...........???????????  ",
        "............??????????  ",
        "............??????????? ",
        "............??????????? ",
        ".............?????????? ",
        ".............?????????? ",
        ".............?????????? ",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        "..............??????????",
        ".............?????????? ",
        ".............?????????? ",
        ".............?????????? ",
        "............??????????? ",
        "............??????????? ",
        "............??????????  ",
        "...........???????????  "
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_north_east",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "  ???????????...........",
        "   ???????????..........",
        "   ????????????.........",
        "    ????????????........",
        "    ????????????........",
        "     ????????????.......",
        "     ?????????????......",
        "      ?????????????.....",
        "       ??????????????...",
        "        ??????????????..",
        "        ???????????????.",
        "         ???????????????",
        "          ??????????????",
        "           ?????????????",
        "            ????????????",
        "             ???????????",
        "               ?????????",
        "                ????????",
        "                 ???????",
        "                   ?????",
        "                     ???",
        "                       ?",
        "                        ",
        "                        "
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_south_east",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "                        ",
        "                        ",
        "                       ?",
        "                     ???",
        "                   ?????",
        "                 ???????",
        "                ????????",
        "               ?????????",
        "             ???????????",
        "            ????????????",
        "           ?????????????",
        "          ??????????????",
        "         ???????????????",
        "        ???????????????.",
        "        ??????????????..",
        "       ??????????????...",
        "      ?????????????.....",
        "     ?????????????......",
        "     ????????????.......",
        "    ????????????........",
        "    ????????????........",
        "   ????????????.........",
        "   ???????????..........",
        "  ???????????..........."
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_south_west",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "                        ",
        "                        ",
        "?                       ",
        "???                     ",
        "?????                   ",
        "???????                 ",
        "????????                ",
        "?????????               ",
        "???????????             ",
        "????????????            ",
        "?????????????           ",
        "??????????????          ",
        "???????????????         ",
        ".???????????????        ",
        "..??????????????        ",
        "...??????????????       ",
        ".....?????????????      ",
        "......?????????????     ",
        ".......????????????     ",
        "........????????????    ",
        "........????????????    ",
        ".........????????????   ",
        "..........???????????   ",
        "...........???????????  "
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_crater_north_west",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "...........???????????  ",
        "..........???????????   ",
        ".........????????????   ",
        "........????????????    ",
        "........????????????    ",
        ".......????????????     ",
        "......?????????????     ",
        ".....?????????????      ",
        "...??????????????       ",
        "..??????????????        ",
        ".???????????????        ",
        "???????????????         ",
        "??????????????          ",
        "?????????????           ",
        "????????????            ",
        "???????????             ",
        "?????????               ",
        "????????                ",
        "???????                 ",
        "?????                   ",
        "???                     ",
        "?                       ",
        "                        ",
        "                        "
      ],
      "palettes": [ "crater_palette" ],
      "flags": [ "DISMANTLE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  }
]
