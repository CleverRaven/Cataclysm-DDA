[
  {
    "type": "palette",
    "id": "topleft_market_variant_nests",
    "parameters": {
      "variant": {
        "type": "nested_mapgen_id",
        "default": { "distribution": [ "market_meat", "market_grocery", "market_fish", "market_confectionery", "market_bees" ] }
      }
    }
  },
  {
    "type": "palette",
    "id": "topright_market_variant_nests",
    "parameters": {
      "variant": { "type": "nested_mapgen_id", "default": { "distribution": [ "market_clothes", "market_botanical", "market_misc" ] } }
    }
  },
  {
    "type": "palette",
    "id": "bottomleft_market_variant_nests",
    "parameters": {
      "variant": {
        "type": "nested_mapgen_id",
        "default": { "distribution": [ "market_meat", "market_grocery", "market_fish", "market_confectionery", "market_bees" ] }
      }
    }
  },
  {
    "type": "palette",
    "id": "bottomright_market_variant_nests",
    "parameters": {
      "variant": { "type": "nested_mapgen_id", "default": { "distribution": [ "market_clothes", "market_botanical", "market_misc" ] } }
    }
  },
  {
    "type": "palette",
    "id": "bottom_market_variant_nests",
    "parameters": { "variant": { "type": "nested_mapgen_id", "default": { "distribution": [ "market_storage", "community_centre" ] } } }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "cs_market_small",
    "object": {
      "fill_ter": "t_sidewalk",
      "rows": [
        "                        ",
        "                        ",
        "          bTTb          ",
        "          bTTb          ",
        "          bTTb          ",
        "            g           ",
        "                        ",
        "          GYYG          ",
        "          GGGG          ",
        "          G!!G          ",
        "          GGGG          ",
        "          GYYG          ",
        "           BB           ",
        "                        ",
        "          bTTb          ",
        "          bTTb          ",
        "          bTTb          ",
        "            g           ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                        "
      ],
      "terrain": { "Y": "t_tree", "A": "t_atm", "G": "t_region_groundcover_urban", "!": "t_region_groundcover_urban" },
      "furniture": { "T": "f_table", "b": "f_bench", "g": "f_trashcan", "B": "f_bulletin", "!": "f_region_flower" },
      "items": { "g": { "item": "trash", "chance": 50, "repeat": [ 1, 4 ] }, "B": { "item": "bulletin_public", "chance": 75 } },
      "place_nested": [
        { "chunks": [ { "param": "topleft_market_variant_nests", "fallback": "market_meat" } ], "x": 1, "y": 1 },
        { "chunks": [ { "param": "topright_market_variant_nests", "fallback": "market_meat" } ], "x": 16, "y": 1 },
        { "chunks": [ { "param": "bottomleft_market_variant_nests", "fallback": "market_meat" } ], "x": 1, "y": 11 },
        { "chunks": [ { "param": "bootomright_market_variant_nests", "fallback": "market_meat" } ], "x": 16, "y": 11 },
        { "chunks": [ { "param": "bottom_market_variant_nests", "fallback": "market_meat" } ], "x": 5, "y": 11 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_meat",
    "object": {
      "mapgensize": [ 6, 6 ],
      "rows": [
        "cccccc",
        "cf   t",
        "C    d",
        "cf   d",
        "cf HHd",
        "cccccc"
      ],
      "furniture": { "H": "meathook" },
      "items": {
        "t": { "item": "cash_register_random", "chance": 80 },
        "f": { "item": "MEAT", "chance": 25, "repeat": [ 1, 2 ] },
        "H": { "item": "BIG_MEAT", "chance": 10 }
      },
      "palettes": [ "open_air_stall_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_grocery",
    "object": {
      "mapgensize": [ 6, 6 ],
      "rows": [
        "cccccc",
        "cT   t",
        "C    d",
        "cT   d",
        "cT   d",
        "cccccc"
      ],
      "items": { "t": { "item": "cash_register_random", "chance": 100 }, "T": { "item": "VEGGIES", "chance": 30, "repeat": [ 1, 2 ] } },
      "palettes": [ "open_air_stall_palette" ],
      "//": "Use box_large_wood to store veggies (in spawn thing)"
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_fish",
    "object": {
      "mapgensize": [ 6, 6 ],
      "rows": [
        "cccccc",
        "cf   t",
        "C    d",
        "cf   d",
        "cr   d",
        "cccccc"
      ],
      "items": {
        "t": { "item": "cash_register_random", "chance": 100 },
        "f": { "item": "FEESH", "chance": 30, "repeat": [ 1, 2 ] },
        "r": { "item": "FEESH SOUP N STUFF", "chance": 30, "repeat": [ 1, 2 ] }
      },
      "palettes": [ "open_air_stall_palette" ],
      "//": "Use puddles of water under fish to indicate molten ice?"
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_confectionery",
    "object": {
      "mapgensize": [ 7, 7 ],
      "rows": [
        "ccccc  ",
        "c   t  ",
        "c   d  ",
        "C   d  ",
        "cr  d  ",
        "cr  d  ",
        "ccccc  "
      ],
      "items": {
        "t": { "item": "cash_register_random", "chance": 100 },
        "r": { "item": "CANDY BOXES", "chance": 30, "repeat": [ 1, 2 ] },
        "d": { "item": "LOOSE CANDY", "chance": 30, "repeat": [ 1, 2 ] }
      },
      "palettes": [ "open_air_stall_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_bees",
    "object": {
      "mapgensize": [ 4, 4 ],
      "rows": [
        "cccc",
        "cr t",
        "C  d",
        "cccc"
      ],
      "items": {
        "t": { "item": "cash_register_random", "chance": 100 },
        "r": { "item": "HONEY", "chance": 30, "repeat": [ 1, 2 ] },
        "d": { "item": "HONEY", "chance": 30, "repeat": [ 1, 2 ] }
      },
      "palettes": [ "open_air_stall_palette" ],
      "//": "Give small chance to spawn mutated/normal bees?"
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_clothes",
    "object": {
      "mapgensize": [ 7, 7 ],
      "rows": [
        "ccccccc",
        "      t",
        "      d",
        "      d",
        "      d",
        "       ",
        "ccccccc"
      ],
      "items": { "t": { "item": "cash_register_random", "chance": 100 }, "f": { "item": "MEAT", "chance": 30, "repeat": [ 1, 2 ] } },
      "palettes": [ "open_air_stall_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_botanical",
    "object": {
      "mapgensize": [ 6, 6 ],
      "rows": [
        "cccccc",
        "cf   t",
        "C    d",
        "cf   d",
        "cf   d",
        "cccccc"
      ],
      "items": { "t": { "item": "cash_register_random", "chance": 100 }, "f": { "item": "MEAT", "chance": 30, "repeat": [ 1, 2 ] } },
      "palettes": [ "open_air_stall_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "market_misc",
    "object": {
      "mapgensize": [ 6, 6 ],
      "rows": [
        "cccccc",
        "cf   t",
        "C    d",
        "cf   d",
        "cf   d",
        "cccccc"
      ],
      "items": { "t": { "item": "cash_register_random", "chance": 100 }, "f": { "item": "MEAT", "chance": 30, "repeat": [ 1, 2 ] } },
      "palettes": [ "open_air_stall_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "bigmarket",
    "object": {
      "mapgensize": [ 12, 12 ],
      "rows": [
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         ",
        "                         "
      ]
    }
  }
]
