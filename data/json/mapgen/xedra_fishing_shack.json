[
  {
    "type": "terrain",
    "id": "t_door_metal_elocked_xedra3",
    "name": "electronic locked metal door",
    "description": "An extremely resilient door made of assorted steel, carved and pounded into shape.  It is locked by an electronic keypad.",
    "symbol": "+",
    "looks_like": "t_door_metal_c",
    "color": "cyan",
    "move_cost": 0,
    "coverage": 95,
    "roof": "t_metal_roof",
    "connect_groups": "WALL",
    "connects_to": "WALL",
    "rotates_to": "INDOORFLOOR",
    "flags": [ "NOITEM", "DOOR", "LOCKED", "SUPPORTS_ROOF" ],
    "oxytorch": {
      "result": "t_mdoor_frame",
      "duration": "14 seconds",
      "byproducts": [ { "item": "steel_plate", "count": [ 0, 1 ] }, { "item": "mc_steel_chunk", "count": [ 3, 8 ] } ]
    },
    "bash": {
      "str_min": 80,
      "str_max": 250,
      "sound": "metal screeching!",
      "sound_fail": "clang!",
      "ter_set": "t_mdoor_lab_frame",
      "items": [
        { "item": "scrap", "count": [ 12, 24 ] },
        { "item": "steel_plate", "prob": 75 },
        { "item": "hinge", "count": [ 1, 3 ] }
      ]
    },
    "examine_action": {
      "type": "effect_on_condition",
      "effect_on_conditions": [
        {
          "id": "eoc_xedra_unlock_elock",
          "condition": { "compare_string": [ "yes", { "u_val": "knows_xedra_field_station_3_passcode" } ] },
          "effect": [
            { "u_location_variable": { "global_val": "door_transform" }, "min_radius": 1, "max_radius": 2 },
            {
              "u_transform_radius": 2,
              "ter_furn_transform": "unlock_elock",
              "target_var": { "global_val": "door_transform" }
            }
          ],
          "false_effect": { "u_message": "You press four random buttons and nothing happens.", "popup": true }
        }
      ]
    }
  },
  {
    "type": "ter_furn_transform",
    "id": "unlock_elock",
    "terrain": [
      {
        "result": [ "t_door_metal_c" ],
        "valid_terrain": [ "t_door_metal_elocked_xedra3" ],
        "message": "You enter the code and door mechanism clicks as it unlocks."
      }
    ]
  },
  {
    "type": "mapgen",
    "om_terrain": [ "xedra_fishing_shack_0" ],
    "object": {
      "predecessor_mapgen": "lake_shore",
      "rows": [
        "                        ",
        "                dddddddd",
        "                dd=====d",
        "                dd=123=d",
        "                dd=;;;=d",
        "                dd=;;4=d",
        "                dd=;;5=d",
        "                dd==%==d",
        "                dddddddd",
        "                dd      ",
        "                dd      ",
        "                dd      ",
        "   __________           ",
        "   _,,,,,,,,O           ",
        "   _,,,,,,,,O           ",
        "   __________           ",
        "                        ",
        "    #####o#####         ",
        "    #.c.-s-.-.#         ",
        "##o##ct...C..f#         ",
        "#.bb#^........o         ",
        "o...#........l#         ",
        "#Ts.+....&...A#         ",
        "#######o###+###         "
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "terrain": {
        "#": "t_wall_wood",
        ".": "t_floor",
        "c": "t_floor",
        "C": "t_floor",
        "s": "t_floor",
        "f": "t_floor",
        "&": "t_floor",
        "-": "t_floor",
        "A": "t_floor",
        "l": "t_floor",
        "t": "t_floor",
        "T": "t_floor",
        "b": "t_floor",
        "+": "t_door_c",
        "^": "t_ladder_up",
        "%": "t_door_metal_elocked_xedra3",
        "=": "t_wall_metal_corrugated",
        ";": "t_metal_floor",
        "1": "t_metal_floor",
        "2": "t_metal_floor",
        "3": "t_metal_floor",
        "4": "t_metal_floor",
        "5": "t_metal_floor",
        "d": "t_dock",
        "o": "t_window_taped"
      },
      "furniture": {
        "1": "f_locker",
        "2": "f_locker",
        "3": "f_locker",
        "4": "f_utility_shelf",
        "5": "f_utility_shelf",
        "-": "f_counter",
        "s": "f_sink",
        "c": "f_chair",
        "C": "f_pallet_belted_open",
        "f": "f_pallet_belted_open",
        "t": "f_table",
        "l": "f_floor_lamp",
        "A": "f_armchair",
        "&": "f_woodstove",
        "b": "f_bathtub",
        "T": "f_toilet"
      },
      "place_loot": [
        { "item": "xedra_enviro_suit", "x": 20, "y": 3 },
        { "item": "basic_papr_helmet_xedra_mark", "x": 20, "y": 3 },
        { "item": "coat_lab_xedra_mark", "x": 20, "y": 3 },
        { "item": "lead_plate_xedra_mark", "x": 20, "y": 3, "repeat": 2 },
        { "item": "emf_detector", "x": 21, "y": 3 },
        { "item": "geiger_off", "x": 21, "y": 3 },
        { "item": "soldering_iron", "x": 21, "y": 5 },
        { "item": "tailors_kit", "x": 21, "y": 6 },
        { "item": "oven", "x": 10, "y": 19 },
        { "item": "chest_freezer", "x": 13, "y": 19 }
      ]
    }
  }
]
