[
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "road_curved",
    "object": {
      "fallback_predecessor_mapgen": "field",
      "//": "Replace chunks road_es_bend with a truck layby to deal with bad road spawns",
      "place_nested": [
        {
          "chunks": [ "24x24_road_es_layby" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ],
            "south_east": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "else_chunks": [ "road_es_bend" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ],
            "south_east": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_nesw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_new", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nes", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_nsw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_esw", "om_terrain_match_type": "EXACT" }
            ]
          }
        }
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "road_es_bend",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "//": "These nesting passes try to place curvy bends when there's just one turn or it doubles back and straight diagonal road when there's more than one while not being able to search for sepcific rotations relative to this one due to the linear id forming",
      "//1": "Check if both connections are also bends",
      "place_nested": [
        {
          "chunks": [ "road_es_bend_second_pass_A" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "else_chunks": [ "road_es_bend_second_pass_B" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "road_es_bend_second_pass_A",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "//": "Check if it doubles back",
      "place_nested": [
        {
          "chunks": [ "24x24_road_es_curvy" ],
          "x": 0,
          "y": 0,
          "neighbors": { "south_east": [ { "om_terrain": "road", "om_terrain_match_type": "PREFIX" } ] }
        },
        {
          "else_chunks": [ "24x24_road_es_straight" ],
          "x": 0,
          "y": 0,
          "neighbors": { "south_east": [ { "om_terrain": "road", "om_terrain_match_type": "PREFIX" } ] }
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "road_es_bend_second_pass_B",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "//": "Check if one direction is a bend",
      "place_nested": [
        {
          "chunks": [ "24x24_road_es_straight" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "else_chunks": [ "road_es_bend_third_pass" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "road_es_bend_third_pass",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "//": "Check if the other direction is a bend",
      "place_nested": [
        {
          "chunks": [ "24x24_road_es_straight" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "else_chunks": [ "24x24_road_es_curvy" ],
          "x": 0,
          "y": 0,
          "neighbors": {
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_es_curvy",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                      ..",
        "                  ......",
        "               .........",
        "             ...........",
        "           .............",
        "          ..............",
        "         ...............",
        "        ................",
        "        .............**.",
        "       .............***.",
        "       ..........**.*...",
        "      ..........***.....",
        "      ..........*.......",
        "      ........**........",
        "     ........**.........",
        "     ........**.........",
        "     .................  ",
        "     .......**.......   ",
        "    .......**.......    ",
        "    .......**.......    "
      ],
      "palettes": [ "road_palette" ],
      "place_nested": [
        { "chunks": [ "24x24_sidewalk_es_curvy_outer" ], "x": 0, "y": 0, "flags": { "north": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_outer" ], "x": 0, "y": 0, "flags": { "north_east": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_double" ], "x": 0, "y": 0, "flags": { "east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_sidewalk_es_curvy_inner" ], "x": 20, "y": 20, "flags": { "south_east": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_double" ], "x": 0, "y": 0, "flags": { "south": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_outer" ], "x": 0, "y": 0, "flags": { "south_west": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_outer" ], "x": 0, "y": 0, "flags": { "west": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_es_curvy_outer" ], "x": 0, "y": 0, "flags": { "north_west": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_zombies" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_curved_vehicles" ], "x": 0, "y": 0 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_sidewalk_es_curvy_outer",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "      __________________",
        "    ____________________",
        "   _____________________",
        "  _____ggggg____________",
        " _____ggggg___________  ",
        " ____ggggg________      ",
        "____ggggg______         ",
        "___ggggg_____           ",
        "___gggg____             ",
        "___ggg____              ",
        "___gg____               ",
        "___g____                ",
        "________                ",
        "_______                 ",
        "_______                 ",
        "______                  ",
        "______                  ",
        "______                  ",
        "_____                   ",
        "_____                   ",
        "_____                   ",
        "_____                   ",
        "____                    ",
        "____                    "
      ],
      "palettes": [ "road_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_sidewalk_es_curvy_outer",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "________________________",
        "________________________",
        "__gggggggggg____________",
        "__gggggggggg____________",
        "__ggggggggg___________  ",
        "__gggggggg________      ",
        "__ggggggg______         ",
        "__gggggg_____           ",
        "__ggggg____             ",
        "__gggg____              ",
        "__ggg____               ",
        "__gg____                ",
        "________                ",
        "_______                 ",
        "_______                 ",
        "______                  ",
        "______                  ",
        "______                  ",
        "_____                   ",
        "_____                   ",
        "_____                   ",
        "_____                   ",
        "____                    ",
        "____                    "
      ],
      "palettes": [ "road_palette" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_curved_vehicles",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "place_nested": [
        {
          "chunks": [ [ "24x24_road_curved_vehicles_city", 67 ], [ "null", 33 ] ],
          "x": 0,
          "y": 0,
          "flags_any": {
            "north": [ "SIDEWALK" ],
            "north_east": [ "SIDEWALK" ],
            "east": [ "SIDEWALK" ],
            "south_east": [ "SIDEWALK" ],
            "south": [ "SIDEWALK" ],
            "south_west": [ "SIDEWALK" ],
            "west": [ "SIDEWALK" ],
            "north_west": [ "SIDEWALK" ]
          }
        },
        {
          "else_chunks": [ [ "24x24_road_curved_vehicles_country", 1 ], [ "null", 39 ] ],
          "x": 0,
          "y": 0,
          "flags_any": {
            "north": [ "SIDEWALK" ],
            "north_east": [ "SIDEWALK" ],
            "east": [ "SIDEWALK" ],
            "south_east": [ "SIDEWALK" ],
            "south": [ "SIDEWALK" ],
            "south_west": [ "SIDEWALK" ],
            "west": [ "SIDEWALK" ],
            "north_west": [ "SIDEWALK" ]
          }
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_curved_vehicles_country",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "place_nested": [
        {
          "chunks": [ "24x24_road_vehicles_country_out_of_fuel_east", "24x24_road_vehicles_country_out_of_fuel_south" ],
          "x": 0,
          "y": 0
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_curved_vehicles_city",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "place_nested": [
        {
          "chunks": [
            [ "24x24_road_vehicles_city_wrecks_east", 132 ],
            [ "24x24_road_vehicles_city_wrecks_south", 132 ],
            [ "24x24_road_vehicles_city_parked_east", 264 ],
            [ "24x24_road_vehicles_city_parked_south", 264 ],
            [ "24x24_road_vehicles_special", 12 ]
          ],
          "x": 0,
          "y": 0
        }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_es_straight",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "                        ",
        "                        ",
        "                        ",
        "                        ",
        "                    ....",
        "                   .....",
        "                  ......",
        "                 .......",
        "                ........",
        "               .........",
        "              ..........",
        "             ...........",
        "            ............",
        "           ...........**",
        "          ...........**.",
        "         ...........**..",
        "        ................",
        "       ...........**....",
        "      ...........**.....",
        "     ...........**......",
        "    ....................",
        "    ..........**........",
        "    .........**.........",
        "    ........**.........."
      ],
      "//": "No SIDEWALK bc shouldn't occur in cities",
      "palettes": [ "road_palette" ],
      "place_nested": [
        {
          "chunks": [ "3x3_road_corner_se" ],
          "x": 21,
          "y": 1,
          "neighbors": {
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_se" ],
          "x": 1,
          "y": 21,
          "neighbors": {
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_zombies" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_curved_vehicles" ], "x": 0, "y": 0 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_es_layby",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "    gggggggg   _________",
        "   ggbbgggg_____________",
        "  gggttggg________Y_____",
        " ggxgbbgg_______________",
        "gggggggg_______.*.*.....",
        "gbtbggg____*.....*......",
        "gbtbgg____..*...*.......",
        "ggggg____....*.*........",
        "gggg____*.....*.........",
        "g6g____..*...*..........",
        "gg____....*.*...........",
        "g____*.....*........*...",
        " ____.*...*........*.*__",
        " ____..*.*........*.*___",
        " ____...*........*.*___Y",
        "____...*........*.*_____",
        "____*.*........*.*______",
        "____.*........*.*_______",
        "__Y_*........*.*________",
        "____........*.*_________",
        "____.......*.*___X______",
        "____........*___________",
        "____........____________",
        "____........__Y_________"
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "terrain": {
        "t": "t_region_groundcover",
        "b": "t_region_groundcover",
        "x": "t_region_groundcover",
        "X": "t_sidewalk",
        "Y": "t_sidewalk",
        "6": "t_region_tree"
      },
      "furniture": { "t": "f_table", "b": "f_bench", "x": "f_trashcan", "X": "f_trashcan" },
      "place_vehicles": [
        { "vehicle": "food_trucks", "x": 21, "y": 21, "fuel": -1, "status": -1, "chance": 75, "rotation": 90 },
        { "vehicle": "small_cars_only", "x": 10, "y": 8, "fuel": -1, "status": -1, "chance": 100, "rotation": 225 },
        { "vehicle": "small_cars_only", "x": 4, "y": 14, "fuel": -1, "status": -1, "chance": 100, "rotation": 225 },
        { "vehicle": "back_alley", "x": 14, "y": 4, "fuel": -1, "status": -1, "chance": 100, "rotation": 225 }
      ],
      "items": {
        "t": { "item": "fast_food", "chance": 33, "repeat": [ 0, 2 ] },
        "x": { "item": "trash", "chance": 50, "repeat": [ 0, 5 ] },
        "X": { "item": "trash", "chance": 50, "repeat": [ 0, 5 ] }
      },
      "place_nested": [
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 }
      ]
    }
  }
]
