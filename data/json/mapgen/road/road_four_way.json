[
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "road_four_way",
    "object": {
      "fallback_predecessor_mapgen": "field",
      "//": "TODO Only spawn rotaries when no orthoganally adjacent curved",
      "place_nested": [ { "chunks": [ [ "24x24_road_four_way_crossroad", 39 ], [ "24x24_road_four_way_rotary", 1 ] ], "x": 0, "y": 0 } ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_four_way_crossroad",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "    *******.........    ",
        "    ................    ",
        "    ................    ",
        "    ................    ",
        ".......................*",
        ".......................*",
        ".......................*",
        ".......................*",
        ".......................*",
        ".......................*",
        ".......................*",
        "........................",
        "........................",
        "*.......................",
        "*.......................",
        "*.......................",
        "*.......................",
        "*.......................",
        "*.......................",
        "*.......................",
        "    ................    ",
        "    ................    ",
        "    ................    ",
        "    .........*******    "
      ],
      "palettes": [ "road_palette" ],
      "place_nested": [
        { "chunks": [ "24x24_sidewalk_ns_corner_double" ], "x": 0, "y": 0, "flags": { "north": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_sidewalk_corner" ], "x": 20, "y": 0, "flags": { "north_east": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_ew_corner_double" ], "x": 20, "y": 0, "flags": { "east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_sidewalk_corner" ], "x": 20, "y": 20, "flags": { "south_east": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_ns_corner_double" ], "x": 0, "y": 20, "flags": { "south": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_sidewalk_corner" ], "x": 0, "y": 20, "flags": { "south_west": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_sidewalk_ew_corner_double" ], "x": 0, "y": 0, "flags": { "west": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_sidewalk_corner" ], "x": 0, "y": 0, "flags": { "north_west": [ "SIDEWALK" ] } },
        { "chunks": [ "24x24_traffic_lights", "null" ], "x": 0, "y": 0 },
        {
          "chunks": [ "24x24_marked_crosswalks" ],
          "x": 0,
          "y": 0,
          "//": "Move these to the nest itself?",
          "flags": {
            "north_east": [ "SIDEWALK" ],
            "south_east": [ "SIDEWALK" ],
            "south_west": [ "SIDEWALK" ],
            "north_west": [ "SIDEWALK" ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_ne" ],
          "x": 1,
          "y": 0,
          "neighbors": {
            "north_west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "north": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_nw" ],
          "x": 20,
          "y": 0,
          "neighbors": {
            "north_east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "north": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_se" ],
          "x": 1,
          "y": 21,
          "neighbors": {
            "south_west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_sw" ],
          "x": 20,
          "y": 21,
          "neighbors": {
            "south_east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "south": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_ne" ],
          "x": 21,
          "y": 20,
          "neighbors": {
            "south_east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_nw" ],
          "x": 0,
          "y": 20,
          "neighbors": {
            "south_west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_se" ],
          "x": 21,
          "y": 1,
          "neighbors": {
            "north_east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "east": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        {
          "chunks": [ "3x3_road_corner_sw" ],
          "x": 0,
          "y": 1,
          "neighbors": {
            "north_west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ],
            "west": [
              { "om_terrain": "road_ne", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_es", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_sw", "om_terrain_match_type": "EXACT" },
              { "om_terrain": "road_wn", "om_terrain_match_type": "EXACT" }
            ]
          }
        },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 }
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_sidewalk_ns_corner_double",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "place_nested": [ { "chunks": [ "4x4_sidewalk_corner" ], "x": 0, "y": 0 }, { "chunks": [ "4x4_sidewalk_corner" ], "x": 20, "y": 0 } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_sidewalk_ew_corner_double",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "place_nested": [ { "chunks": [ "4x4_sidewalk_corner" ], "x": 0, "y": 0 }, { "chunks": [ "4x4_sidewalk_corner" ], "x": 0, "y": 20 } ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": "road_nesw_manhole",
    "//": "Need to fix magical teleportation with actual aligned manhole placement",
    "object": {
      "fill_ter": "t_region_grass",
      "place_nested": [
        { "chunks": [ "24x24_road_four_way_crossroad" ], "x": 0, "y": 0 },
        { "chunks": [ "1x1_manhole" ], "x": [ 5, 18 ], "y": [ 5, 18 ] }
      ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "24x24_road_four_way_rotary",
    "object": {
      "mapgensize": [ 24, 24 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "    *******.........    ",
        "   ..................   ",
        "  ....................  ",
        " ...................... ",
        ".......................*",
        ".......................*",
        ".......................*",
        ".......................*",
        "..........gggg.........*",
        ".........gggggg........*",
        "........gggggggg.......*",
        "........gggggggg........",
        "........gggggggg........",
        "*.......gggggggg........",
        "*........gggggg.........",
        "*.........gggg..........",
        "*.......................",
        "*.......................",
        "*.......................",
        "*.......................",
        " ...................... ",
        "  ....................  ",
        "   ..................   ",
        "    .........*******    "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ],
      "place_nested": [
        { "chunks": [ "4x4_rotary_sidewalk_ne" ], "x": 20, "y": 0, "flags": { "north_east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_ne" ], "x": 20, "y": 0, "flags": { "north": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_ne" ], "x": 20, "y": 0, "flags": { "east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_se" ], "x": 20, "y": 20, "flags": { "south_east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_se" ], "x": 20, "y": 20, "flags": { "south": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_se" ], "x": 20, "y": 20, "flags": { "east": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_sw" ], "x": 0, "y": 20, "flags": { "south_west": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_sw" ], "x": 0, "y": 20, "flags": { "south": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_sw" ], "x": 0, "y": 20, "flags": { "west": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_nw" ], "x": 0, "y": 0, "flags": { "north_west": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_nw" ], "x": 0, "y": 0, "flags": { "north": [ "SIDEWALK" ] } },
        { "chunks": [ "4x4_rotary_sidewalk_nw" ], "x": 0, "y": 0, "flags": { "west": [ "SIDEWALK" ] } },
        {
          "chunks": [ "24x24_traffic_lights_rotary", "null" ],
          "x": 0,
          "y": 0,
          "flags": {
            "north_east": [ "SIDEWALK" ],
            "south_east": [ "SIDEWALK" ],
            "south_west": [ "SIDEWALK" ],
            "north_west": [ "SIDEWALK" ]
          }
        },
        {
          "chunks": [
            "8x8_rotary_center_basic",
            "8x8_rotary_center_fountain",
            "8x8_rotary_center_statue",
            "8x8_rotary_center_flowers",
            "8x8_rotary_center_shrubs"
          ],
          "x": 8,
          "y": 8,
          "flags": {
            "north_east": [ "SIDEWALK" ],
            "south_east": [ "SIDEWALK" ],
            "south_west": [ "SIDEWALK" ],
            "north_west": [ "SIDEWALK" ]
          }
        },
        { "chunks": [ "24x24_road_trash" ], "x": 0, "y": 0 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "4x4_rotary_sidewalk_ne",
    "object": {
      "mapgensize": [ 4, 4 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "____",
        " ___",
        "  __",
        "   _"
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "4x4_rotary_sidewalk_se",
    "object": {
      "mapgensize": [ 4, 4 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "   _",
        "  __",
        " ___",
        "____"
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "4x4_rotary_sidewalk_sw",
    "object": {
      "mapgensize": [ 4, 4 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "_   ",
        "__  ",
        "___ ",
        "____"
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "4x4_rotary_sidewalk_nw",
    "object": {
      "mapgensize": [ 4, 4 ],
      "rotation": [ 0, 3 ],
      "rows": [
        "____",
        "___ ",
        "__  ",
        "_   "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "8x8_rotary_center_basic",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "  ____  ",
        " __  __ ",
        "__    __",
        "_      _",
        "_      _",
        "__    __",
        " __  __ ",
        "  ____  "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "8x8_rotary_center_fountain",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "  ____  ",
        " __  __ ",
        "__####__",
        "_ #~~# _",
        "_ #~~# _",
        "__####__",
        " __  __ ",
        "  ____  "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "8x8_rotary_center_statue",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "  ____  ",
        " __  __ ",
        "__    __",
        "_      _",
        "_  ?@  _",
        "__    __",
        " __  __ ",
        "  ____  "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "8x8_rotary_center_flowers",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "  ____  ",
        " __ff__ ",
        "__ffff__",
        "_ffffff_",
        "_ffffff_",
        "__ffff__",
        " __ff__ ",
        "  ____  "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "nested_mapgen_id": "8x8_rotary_center_shrubs",
    "object": {
      "mapgensize": [ 8, 8 ],
      "rows": [
        "  ____  ",
        " __  __ ",
        "__    __",
        "_  ss  _",
        "_  ss  _",
        "__    __",
        " __  __ ",
        "  ____  "
      ],
      "palettes": [ "road_palette" ],
      "flags": [ "ERASE_ALL_BEFORE_PLACING_TERRAIN" ]
    }
  }
]
