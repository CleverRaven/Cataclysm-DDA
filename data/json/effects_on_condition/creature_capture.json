[
  {
    "type": "effect_on_condition",
    "id": "EOC_mi-go_capture_creature",
    "condition": {
      "x_in_y_chance": {
        "x": {
          "math": [ "max( clamp( 0, 0.1 * u_val('fatigue') + 10, 100 ), clamp( 0, 100 - 12.1428 * u_val('strength'), 100 ) )" ]
        },
        "y": 100
      }
    },
    "effect": [
      { "mapgen_update": "mi-go_camp_spawn1" },
      { "mapgen_update": "mi-go_camp_spawn2", "offset_x": 1 },
      { "mapgen_update": "mi-go_camp_spawn2_roof1", "offset_x": 1, "offset_z": 1 },
      { "mapgen_update": "mi-go_camp_spawn2_roof2", "offset_x": 1, "offset_z": 2 },
      { "u_add_var": "u_captive_death_timer", "type": "timer", "context": "creature_capture", "value": "172800" },
      { "run_eocs": "EOC_mount_rescue_op" }
    ],
    "false_effect": [ { "u_message": "You are able to resist the mi-go's restrain attempts." } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_mount_rescue_op",
    "condition": {
      "and": [
        { "npc_allies_global": 1 },
        {
          "u_query": "You have been abducted. You may be able to save yourself, continue as one of your followers?",
          "default": false
        }
      ]
    },
    "effect": [ "take_control_menu" ],
    "false_effect": [
      {
        "u_message": "You scream for help as you are taken away. But deep down you know no one is listening.... If only you had some friends who actually gave a damn.",
        "popup": true
      },
      { "u_set_hp": 0 }
    ]
  }
]
