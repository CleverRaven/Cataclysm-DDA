[
  {
    "type": "effect_on_condition",
    "id": "EOC_START_BALTHAZAR_COUNTERS",
    "//": "Initialize counters for balthazar at start of game",
    "eoc_type": "EVENT",
    "required_event": "game_start",
    "global": true,
    "effect": [
      { "math": [ "balthazar_power = 10" ] },
      { "math": [ "balthazar_daily_power_gain = 1" ] },
      { "run_eocs": "EOC_DAILY_BALTHAZAR_POWER" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DAILY_BALTHAZAR_POWER",
    "//": "Balthazar gains power daily",
    "recurrence": "1d",
    "global": true,
    "effect": [ { "math": [ "balthazar_power += balthazar_daily_power_gain" ] }, { "run_eocs": "EOC_BALTHAZAR_CHECK_PROGRESS" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_BALTHAZAR_CHECK_PROGRESS",
    "global": true,
    "effect": [
      {
        "if": { "and": [ { "math": [ "balthazar_solar_power != 1" ] }, { "math": [ "balthazar_power >= 50" ] } ] },
        "then": { "run_eocs": "EOC_BALTHAZAR_SET_UP_SOLAR" }
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_BALTHAZAR_SET_UP_SOLAR",
    "global": true,
    "effect": [
      {
        "update_mapgen": [
          {
            "om_terrain": "balthazar_bunker_02",
            "place_nested": [ { "chunks": [ "balthazar_bunker_solar_panel_row" ], "x": 0, "y": 0 } ]
          },
          {
            "om_terrain": "balthazar_bunker_03",
            "place_nested": [ { "chunks": [ "balthazar_bunker_solar_panel_row" ], "x": 0, "y": 0 } ]
          }
        ]
      },
      { "math": [ "balthazar_power += 20" ] },
      { "math": [ "balthazar_daily_power_gain += 1" ] },
      { "math": [ "balthazar_solar_power = 1" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_BALTHAZAR_SECUBOT_DEATH",
    "global": true,
    "effect": [ { "math": [ "balthazar_power -= 5" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_BALTHAZAR_TURRET_DEATH",
    "global": true,
    "effect": [ { "math": [ "balthazar_power -= 2" ] } ]
  }
]
