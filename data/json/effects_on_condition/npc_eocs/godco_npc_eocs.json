[
  {
    "type": "effect_on_condition",
    "id": "EOC_godco_hate_u_mutant",
    "recurrence": [ 20, 40 ],
    "condition": {
      "or": [
        {
          "u_has_any_trait": [
            "THRESH_LIZARD",
            "THRESH_GASTROPOD",
            "THRESH_BIRD",
            "THRESH_FISH",
            "THRESH_BEAST",
            "THRESH_FELINE",
            "THRESH_LUPINE",
            "THRESH_URSINE",
            "THRESH_CATTLE",
            "THRESH_INSECT",
            "THRESH_PLANT",
            "THRESH_SLIME",
            "THRESH_TROGLOBITE",
            "THRESH_CEPHALOPOD",
            "THRESH_SPIDER",
            "THRESH_RAT",
            "THRESH_ELPHA",
            "THRESH_CHIMERA",
            "THRESH_RAPTOR",
            "THRESH_BATRACHIAN",
            "THRESH_MOUSE",
            "THRESH_MARLOSS",
            "THRESH_MYCUS",
            "THRESH_CRUSTACEAN",
            "THRESH_CHIROPTERAN",
            "THRESH_RABBIT"
          ]
        }
      ]
    },
    "deactivate_condition": { "u_has_var": "dialogue_godco_godco_notalk_to_u", "value": "yes" },
    "effect": [ { "u_add_var": "dialogue_godco_godco_notalk_to_u", "value": "yes" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "theresa_remove",
    "recurrence": 100,
    "global": true,
    "condition": {
      "and": [
        { "u_has_var": "general_completed_theresa_going_away", "value": "yes" },
        { "u_near_om_location": "godco_3", "range": 12 }
      ]
    },
    "deactivate_condition": { "u_has_var": "general_completed_theresa_gone", "value": "yes" },
    "effect": [
      { "mapgen_update": "theresa_remove", "om_terrain": "godco_3" },
      { "u_lose_var": "general_completed_theresa_going_away" },
      { "u_add_var": "general_completed_theresa_gone", "value": "yes" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "godco_place_trader",
    "recurrence": 100,
    "global": false,
    "condition": {
      "and": [
        { "math": [ "godco_met_merchants", "==", "0" ] },
        { "math": [ "time_since('cataclysm', 'unit':'days') >= 7" ] },
        { "u_near_om_location": "godco_enter", "range": 2 },
        { "not": { "u_near_om_location": "godco_enter", "range": 1 } }
      ]
    },
    "deactivate_condition": { "math": [ "godco_met_merchants", "==", "1" ] },
    "effect": [
      { "mapgen_update": "godco_permanent_trader_predatory_add", "om_terrain": "godco_enter" },
      { "math": [ "godco_met_merchants", "=", "1" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "godco_change_trader",
    "recurrence": 100,
    "global": false,
    "condition": {
      "and": [
        { "math": [ "freemerch_godco_trader_investigated", "==", "1" ] },
        { "u_near_om_location": "godco_enter", "range": 2 },
        { "not": { "u_near_om_location": "godco_enter", "range": 1 } }
      ]
    },
    "deactivate_condition": { "math": [ "freemerch_godco_trader_investigated", "==", "2" ] },
    "effect": [
      { "mapgen_update": "godco_permanent_trader_change", "om_terrain": "godco_enter" },
      { "math": [ "freemerch_godco_trader_investigated", "=", "2" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_TRADER_MISSION_DEATHFAIL",
    "eoc_type": "NPC_DEATH",
    "effect": [
      { "math": [ "godco_freemerch_representative_dead", "=", "0" ] },
      { "u_lose_var": "general_trade_u_think_suspicious_price" },
      { "finish_mission": "MISSION_INVESTIGATE_TRADER", "success": false }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_EDDIE_CANNING_MISSION_ADD",
    "condition": {
      "and": [
        { "math": [ "godco_has_canningpots", "==", "1" ] },
        { "not": { "npc_has_var": "dialogue_missions_got_mission", "value": "yes" } }
      ]
    },
    "deactivate_condition": { "npc_has_var": "dialogue_missions_got_mission", "value": "yes" },
    "effect": [
      { "offer_mission": "MISSION_GODCO_FOOD_GUARD_CANNING_STARTUP" },
      { "npc_add_var": "dialogue_missions_got_mission", "value": "yes" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NECC_NPC_MOVEMENT",
    "//": "Runs once an hour and moves New ENgland Community Church npcs around based on what hour it is, and what they should be doing.",
    "global": true,
    "recurrence": "1 hours",
    "effect": [
      {
        "switch": { "math": [ "time_since('midnight', 'unit': 'hour')" ] },
        "cases": [
          { "case": 0, "effect": { "run_eocs": "EOC_NECC_NPC_BEDTIME" } },
          { "case": 8, "effect": { "run_eocs": "EOC_NECC_NPC_MEALTIME" } },
          { "case": 9, "effect": { "run_eocs": "EOC_NECC_NPC_DAY_JOB" } },
          { "case": 12, "effect": { "run_eocs": "EOC_NECC_NPC_MEALTIME" } },
          { "case": 13, "effect": { "run_eocs": "EOC_NECC_NPC_DAY_JOB" } },
          { "case": 18, "effect": { "run_eocs": "EOC_NECC_NPC_MEALTIME" } },
          { "case": 19, "effect": { "run_eocs": "EOC_NECC_NPC_CHURCH_SERVICE" } },
          { "case": 20, "effect": { "run_eocs": "EOC_NECC_NPC_DAY_JOB" } },
          { "case": 22, "effect": { "run_eocs": "EOC_NECC_NPC_DAY_JOB" } }
        ]
      },
      { "u_message": "This EOC activates!", "popup": true }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NPC_SLEEP",
    "effect": [
      { "u_add_effect": "allow_sleep", "duration": "8 hours" },
      {
        "if": { "math": [ "u_val('sleepiness')", "<", "200" ] },
        "then": { "math": [ "u_val('sleepiness')", "=", "200" ] }
      },
      { "u_add_effect": "sleep", "duration": "8 hours" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NPC_WAKE_UP",
    "effect": [
      { "u_lose_effect": "allow_sleep" },
      {
        "if": { "and": [ { "math": [ "u_val('sleepiness')", ">", "0" ] }, { "math": [ "u_val('sleepiness')", "<", "200" ] } ] },
        "then": { "math": [ "u_val('sleepiness')", "=", "0" ] }
      },
      { "u_lose_effect": "sleep" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_LOCATION_VARIABLE_MOVE_TO_BEDTIME",
    "effect": [ { "u_set_guard_pos": { "global_val": "_sleeping_spot" }, "unique_id": true } ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_LOCATION_VARIABLE_MOVE_TO_MEALTIME",
    "effect": [ { "u_set_guard_pos": { "global_val": "_eating_seat" }, "unique_id": true } ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_LOCATION_VARIABLE_MOVE_TO_DAY_JOB",
    "effect": [ { "u_set_guard_pos": { "global_val": "_day_job" }, "unique_id": true } ]
  },
  {
    "type": "effect_on_condition",
    "id": "GODCO_LOCATION_VARIABLE_MOVE_TO_CHURCH_SEAT",
    "effect": [ { "u_set_guard_pos": { "global_val": "_church_seat" }, "unique_id": true } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NECC_NPC_BEDTIME",
    "effect": [
      {
        "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_BEDTIME" ],
        "unique_ids": [
          "GODCO_HELENA",
          "GODCO_SIMON",
          "GODCO_SONIA",
          "GODCO_ZACHARY",
          "GODCO_CHLOE",
          "GODCO_DARRYL",
          "GODCO_JULIAN",
          "GODCO_KATHERINE",
          "GODCO_GEMMA",
          "GODCO_TOM",
          "GODCO_KOSTAS",
          "GODCO_GREENWOOD",
          "GODCO_JANE",
          "GODCO_CORRIE",
          "GODCO_ARTURO",
          "GODCO_FELICITY",
          "GODCO_THERESA",
          "GODCO_JEREMIAH",
          "GODCO_EDDIE",
          "GODCO_RUSSEL",
          "GODCO_OLWEN",
          "GODCO_MARIA"
        ]
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_BEDTIME_RECHECK",
          "effect": [
            {
              "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_BEDTIME" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "3 minutes"
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_BEDTIME_SLEEP",
          "effect": [
            {
              "u_run_npc_eocs": [ "EOC_NPC_SLEEP" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "4 minutes"
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_BEDTIME_WAKE_UP",
          "effect": [
            {
              "u_run_npc_eocs": [ "EOC_NPC_WAKE_UP" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "480 minutes"
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NECC_NPC_MEALTIME",
    "effect": [
      {
        "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_MEALTIME" ],
        "unique_ids": [
          "GODCO_HELENA",
          "GODCO_SIMON",
          "GODCO_SONIA",
          "GODCO_ZACHARY",
          "GODCO_CHLOE",
          "GODCO_DARRYL",
          "GODCO_JULIAN",
          "GODCO_KATHERINE",
          "GODCO_GEMMA",
          "GODCO_TOM",
          "GODCO_KOSTAS",
          "GODCO_GREENWOOD",
          "GODCO_JANE",
          "GODCO_CORRIE",
          "GODCO_ARTURO",
          "GODCO_FELICITY",
          "GODCO_THERESA",
          "GODCO_JEREMIAH",
          "GODCO_EDDIE",
          "GODCO_RUSSEL",
          "GODCO_OLWEN",
          "GODCO_MARIA"
        ]
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_MEALTIME_RECHECK",
          "effect": [
            {
              "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_MEALTIME" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "3 minutes"
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NECC_NPC_DAY_JOB",
    "effect": [
      {
        "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_DAY_JOB" ],
        "unique_ids": [
          "GODCO_HELENA",
          "GODCO_SIMON",
          "GODCO_SONIA",
          "GODCO_ZACHARY",
          "GODCO_CHLOE",
          "GODCO_DARRYL",
          "GODCO_JULIAN",
          "GODCO_KATHERINE",
          "GODCO_GEMMA",
          "GODCO_TOM",
          "GODCO_KOSTAS",
          "GODCO_GREENWOOD",
          "GODCO_JANE",
          "GODCO_CORRIE",
          "GODCO_ARTURO",
          "GODCO_FELICITY",
          "GODCO_THERESA",
          "GODCO_JEREMIAH",
          "GODCO_EDDIE",
          "GODCO_RUSSEL",
          "GODCO_OLWEN",
          "GODCO_MARIA"
        ]
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_DAY_JOB_RECHECK",
          "effect": [
            {
              "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_DAY_JOB" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "3 minutes"
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NECC_NPC_CHURCH_SERVICE",
    "effect": [
      {
        "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_CHURCH_SEAT" ],
        "unique_ids": [
          "GODCO_HELENA",
          "GODCO_SIMON",
          "GODCO_SONIA",
          "GODCO_ZACHARY",
          "GODCO_CHLOE",
          "GODCO_DARRYL",
          "GODCO_JULIAN",
          "GODCO_KATHERINE",
          "GODCO_GEMMA",
          "GODCO_TOM",
          "GODCO_KOSTAS",
          "GODCO_GREENWOOD",
          "GODCO_JANE",
          "GODCO_CORRIE",
          "GODCO_ARTURO",
          "GODCO_FELICITY",
          "GODCO_THERESA",
          "GODCO_JEREMIAH",
          "GODCO_EDDIE",
          "GODCO_RUSSEL",
          "GODCO_OLWEN",
          "GODCO_MARIA"
        ]
      },
      {
        "queue_eocs": {
          "id": "EOC_NECC_NPC_CHURCH_SERVICE_RECHECK",
          "effect": [
            {
              "u_run_npc_eocs": [ "GODCO_LOCATION_VARIABLE_MOVE_TO_CHURCH_SEAT" ],
              "unique_ids": [
                "GODCO_HELENA",
                "GODCO_SIMON",
                "GODCO_SONIA",
                "GODCO_ZACHARY",
                "GODCO_CHLOE",
                "GODCO_DARRYL",
                "GODCO_JULIAN",
                "GODCO_KATHERINE",
                "GODCO_GEMMA",
                "GODCO_TOM",
                "GODCO_KOSTAS",
                "GODCO_GREENWOOD",
                "GODCO_JANE",
                "GODCO_CORRIE",
                "GODCO_ARTURO",
                "GODCO_FELICITY",
                "GODCO_THERESA",
                "GODCO_JEREMIAH",
                "GODCO_EDDIE",
                "GODCO_RUSSEL",
                "GODCO_OLWEN",
                "GODCO_MARIA"
              ]
            }
          ]
        },
        "time_in_future": "3 minutes"
      }
    ]
  }
]
