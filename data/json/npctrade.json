[
  {
    "type": "jmath_function",
    "id": "skill_adjustment",
    "num_args": 1,
    "//": "6th-degree polynomial fit for {{-5,1/2},{-4,1/1.65},{-3,1/1.3},{-2,1/1.15},{-1,1/1.05},{0,1},{1,1.05},{2,1.15},{3,1.3},{4,1.65},{5,2}}",
    "return": "1.00342 + 0.0361699*_0 - 0.00316488*_0^2 + 0.00770736*_0^3 + 0.000952084*_0^4 - 0.000125351*_0^5 - 0.0000172177*_0^6"
  },
  {
    "type": "jmath_function",
    "id": "skill_adjustment_clamped",
    "num_args": 1,
    "return": "skill_adjustment(clamp(_0, -5, 5))"
  },
  {
    "type": "jmath_function",
    "id": "int_adjustment",
    "num_args": 1,
    "//": "exponential fit for {{-20, 0.5}, {0, 1}, {20, 2}}",
    "return": "e^(0.0346574*clamp(_0, -19, 19))"
  },
  {
    "type": "jmath_function",
    "id": "npctrade_u_sell_adj",
    "num_args": 1,
    "return": "1 - _0"
  },
  {
    "type": "jmath_function",
    "id": "npctrade_u_sell",
    "num_args": 0,
    "return": "npctrade_u_sell_adj(0.25 / (skill_adjustment_clamped(u_skill('speech') - n_skill('speech')) * int_adjustment(u_val('intelligence') - n_val('intelligence'))))"
  },
  {
    "type": "jmath_function",
    "id": "npctrade_u_buy_adj",
    "num_args": 1,
    "return": "1 + _0"
  },
  {
    "type": "jmath_function",
    "id": "npctrade_u_buy",
    "num_args": 0,
    "return": "npctrade_u_buy_adj(0.25 * skill_adjustment_clamped(n_skill('speech') - u_skill('speech')) * int_adjustment(n_val('intelligence') - u_val('intelligence')))"
  }
]
