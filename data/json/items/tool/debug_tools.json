[
  {
    "id": "debug_lux_meter",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str": "debug lux meter", "//~": "NO_I18N" },
    "description": { "str": "This debug tool will tell you about light.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": [ "DBG_LUX_METER" ]
  },
  {
    "id": "debug_item_damager",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug item damager (simple)", "//~": "NO_I18N" },
    "description": { "str": "Deals 1 full bar of damage to an item you wield.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": "Damage item",
      "effect_on_conditions": [
        {
          "id": "EOC_FIND_ITEM_simple",
          "effect": {
            "u_run_inv_eocs": "all",
            "search_data": [ { "wielded_only": true } ],
            "true_eocs": {
              "id": "EOC_DAMAGE_ITEM_simple",
              "effect": [
                { "math": [ "_hp_before = n_hp('ALL')" ] },
                { "math": [ "n_hp('ALL') -= 1000" ] },
                { "math": [ "_hp_after = n_hp('ALL')" ] },
                { "u_message": "<npc_name> have had <context_val:hp_before> hp, now has <context_val:hp_after> hp." }
              ]
            }
          }
        }
      ]
    }
  },
  {
    "id": "debug_item_damager_adv",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug item damager (advanced)", "//~": "NO_I18N" },
    "description": { "str": "Deals damage to items you pick.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": "Damage item",
      "effect_on_conditions": [
        {
          "id": "EOC_FIND_ITEM",
          "effect": {
            "u_run_inv_eocs": "manual_mult",
            "true_eocs": {
              "id": "EOC_DAMAGE_ITEM",
              "effect": [
                { "math": [ "n_hp('ALL') -= num_input('Amount of damage, 1000 is one bar of damage.', 1000)" ] },
                { "u_message": "Dealt damage to all items." }
              ]
            }
          }
        }
      ]
    }
  },
  {
    "id": "debug_mortar",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug explosion generator", "//~": "NO_I18N" },
    "description": { "str": "Causes explosion at overmap you pick.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": "Cause explosion",
      "effect_on_conditions": [
        {
          "id": "EOC_CAUSE_EXPLOSION",
          "effect": [
            { "u_query_omt": { "context_val": "pos" }, "message": "Select point." },
            {
              "if": { "math": [ "has_var(_pos)" ] },
              "then": {
                "u_explosion": { "power": { "math": [ "num_input('explosion power', 25000)" ] } },
                "target_var": { "context_val": "pos" }
              }
            }
          ]
        }
      ]
    }
  },
  {
    "id": "debug_apply_fault",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug fault applier", "//~": "NO_I18N" },
    "description": { "str": "Applies the fault on item by id.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": "Damage item",
      "effect_on_conditions": [
        {
          "id": "EOC_FIND_ITEM_fault",
          "effect": {
            "u_run_inv_eocs": "manual_mult",
            "true_eocs": {
              "id": "EOC_APPLY_FAULT",
              "effect": [
                {
                  "set_string_var": "",
                  "string_input": { "title": "", "description": "fault_id or fault_type_id", "identifier": "debug_apply_fault", "width": 30 },
                  "target_var": { "context_val": "str" }
                },
                {
                  "if": { "u_query": "Provided id is fault_type or fault?  \"Yes\" for fault_type, \"No\" for fault_id", "default": false },
                  "then": { "math": [ "_is_group = 1" ] }
                },
                { "if": { "u_query": "Forced?", "default": false }, "then": { "math": [ "_is_force = 1" ] } },
                {
                  "if": { "math": [ "_is_group" ] },
                  "then": [
                    {
                      "if": { "math": [ "_is_force" ] },
                      "then": { "u_set_random_fault_of_type": { "context_val": "str" }, "force": true },
                      "else": { "u_set_random_fault_of_type": { "context_val": "str" } }
                    },
                    {
                      "u_message": "<npc_name> has random fault from fault_type \"<context_val:str>\" added, if such group exists."
                    }
                  ],
                  "else": [
                    {
                      "if": { "math": [ "_is_force" ] },
                      "then": { "npc_set_fault": { "context_val": "str" }, "force": true },
                      "else": { "npc_set_fault": { "context_val": "str" } }
                    },
                    { "u_message": "<npc_name> has \"<context_val:str>\" fault added, if such id exists." }
                  ]
                }
              ]
            }
          }
        }
      ]
    }
  },
  {
    "id": "debug_dimension_traveller",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug dimension traveller", "//~": "NO_I18N" },
    "description": {
      "str": "Allows you to pick a dimension to teleport to.  Travellers are adviced to use Debug Phase Movement.  To teleport back to main dimension, just leave both empty.",
      "//~": "NO_I18N"
    },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": { "str": "Change dimension", "//~": "NO_I18N" },
      "effect_on_conditions": [ "EOC_dimension_swap_test" ]
    }
  },
  {
    "id": "debug_weather_check",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "category": "tools",
    "name": { "str_sp": "debug weather reporter", "//~": "NO_I18N" },
    "description": { "str": "Reports current weather.", "//~": "NO_I18N" },
    "weight": "1 g",
    "volume": "1 ml",
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": {
      "type": "effect_on_conditions",
      "menu_text": { "str": "Check weather", "//~": "NO_I18N" },
      "effect_on_conditions": [
        {
          "id": "EOC_REPORT_WEATHER",
          "effect": [
            { "math": [ "_moon_phase = moon_phase()" ] },
            { "math": [ "_temperature = celsius(weather('temperature'))" ] },
            { "math": [ "_humidity = weather('humidity')" ] },
            { "math": [ "_pressure = weather('pressure')" ] },
            { "math": [ "_windpower = weather('windpower')" ] },
            { "math": [ "_precipitation = weather('precipitation')" ] },
            { "message": "moon_phase: <context_val:moon_phase>" },
            { "message": "temperature: <context_val:temperature> Â°C" },
            { "message": "humidity: <context_val:humidity> %" },
            { "message": "pressure: <context_val:pressure> mbar" },
            { "message": "windpower: <context_val:windpower> mph" },
            { "message": "precipitation: <context_val:precipitation> mm/h" }
          ]
        }
      ]
    }
  }
]
