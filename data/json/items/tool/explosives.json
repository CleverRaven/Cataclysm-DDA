[
  {
    "id": "acidbomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "acid bomb" },
    "description": "This is a fragile container filled with acid.  Throw it to spill out a pool of potent acid.",
    "weight": "650 g",
    "volume": "500 ml",
    "price": 5000,
    "price_postapoc": 500,
    "to_hit": -1,
    "bashing": 4,
    "material": "glass",
    "symbol": "*",
    "color": "yellow",
    "use_action": "ACIDBOMB_ACT",
    "flags": [ "ACT_ON_RANGED_HIT", "NPC_THROWN" ]
  },
  {
    "id": "can_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "can bomb" },
    "description": "This is a tin can filled to the brim with explosive and with a bit of fuse sticking out of it.  Will produce metal shrapnel that can deal with armor… you think.",
    "//": "40g of tin can and 250ml/412g of gunpowder",
    "weight": "452 g",
    "volume": "250 ml",
    "price": 2500,
    "price_postapoc": 500,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 225, "shrapnel": { "casing_mass": 40, "fragment_mass": 1 } },
    "use_action": {
      "target": "can_bomb_act",
      "msg": "You light the fuse on the can bomb.  Throw it before it blows in your face!",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NO_REPAIR" ]
  },
  {
    "id": "can_bomb_act",
    "copy-from": "can_bomb",
    "type": "TOOL",
    "name": { "str": "active can bomb" },
    "description": "This is a tin can filled to the brim with explosive and with a bit of fuse sticking out of it.  Will produce metal shrapnel that can deal with armor… you think.  The fuse has been lit, you should throw it.",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already lit the fuse - what are you waiting for?",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "explosion": { "power": 225, "shrapnel": { "casing_mass": 40, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "NO_REPAIR" ]
  },
  {
    "id": "c4",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "C-4 explosive" },
    "description": "This is military grade RDX composition explosive.  A label reads: \"Highly explosive, use with extreme caution!\" It comes with a small timer.",
    "weight": "1570 g",
    "volume": "1 L",
    "price": 9000,
    "price_postapoc": 2000,
    "to_hit": -4,
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": "C4"
  },
  {
    "id": "c4armed",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "C-4 explosive (armed)", "str_pl": "C-4 explosives (armed)" },
    "description": "This is military grade RDX composition explosive.  A label reads: \"Highly explosive, use with extreme caution!\" It comes with a small timer, which is currently ticking down.",
    "weight": "1570 g",
    "volume": "1 L",
    "price": 0,
    "to_hit": -4,
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "initial_charges": 9,
    "max_charges": 9,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already set the %s's timer, you might want to get away from it.",
      "explosion": { "power": 2000 }
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "dynamite",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite" },
    "description": "These are several sticks of explosives with a fuse attached.  Use this item to light the fuse.  You will, of course, need a lighter or matches in your inventory to do this.  Shortly after lighting the fuse, this item will explode, so get away!",
    "weight": "1133 g",
    "volume": "750 ml",
    "price": 6000,
    "price_postapoc": 1000,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 938 },
    "use_action": {
      "target": "dynamite_act",
      "msg": "You light the dynamite.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "dynamite_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite (lit)", "str_pl": "dynamites (lit)" },
    "description": "The fuse on this dynamite is lit and hissing.  It'll explode any moment now.",
    "weight": "1133 g",
    "volume": "750 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "color": "red",
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 938 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 938 }
    },
    "flags": [ "TRADER_AVOID", "BOMB" ]
  },
  {
    "id": "dynamite_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite bomb" },
    "description": "These are several sticks of explosives surrounded by shrapnel stuffed inside a metal container.  The fuse is sticking out through a small hole.  Use this item to light the fuse.  You will, of course, need a lighter or matches in your inventory to do this.  Shortly after lighting the fuse, this item will explode, so get away!",
    "weight": "2730 g",
    "volume": "2000 ml",
    "price": 6000,
    "price_postapoc": 1500,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "looks_like": "fragment_bomb",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 938, "shrapnel": { "casing_mass": 1597, "fragment_mass": 1 } },
    "use_action": {
      "target": "dynamite_bomb_act",
      "msg": "You light the dynamite.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "dynamite_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite bomb (lit)", "str_pl": "dynamite bombs (lit)" },
    "description": "The fuse on this dynamite bomb is lit and hissing.  It'll explode any moment now.",
    "weight": "2730 g",
    "volume": "2000 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "looks_like": "fragment_bomb_act",
    "color": "red",
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 938, "shrapnel": { "casing_mass": 1597, "fragment_mass": 1 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 938, "shrapnel": { "casing_mass": 1597, "fragment_mass": 1 } }
    },
    "flags": [ "TRADER_AVOID", "BOMB" ]
  },
  {
    "id": "EMPbomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "EMP bomb" },
    "description": "This substantial device is a bomb that generates an electromagnetic pulse.  When activated, the plutonium fuel cell is drained into a flux compression generator, the detonation of which creates a strong magnetic field.  When this magnetic field is fed into the antenna, it creates a strong electro-magnetic pulse.",
    "weight": "4543 g",
    "volume": "15500 ml",
    "price": 60000,
    "price_postapoc": 3000,
    "to_hit": -1,
    "bashing": 12,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "explode_in_fire": true,
    "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
    "color": "light_gray",
    "use_action": {
      "target": "EMPbomb_act",
      "msg": "You activate the EMP bomb.",
      "target_charges": 50,
      "active": true,
      "menu_text": "Activate bomb",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "EMPbomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active EMP bomb" },
    "description": "This EMP bomb is active, and will shortly detonate, creating a large EMP field that damages robots and drains bionic energy, as well as a sizeable explosion.  You may not want to be holding it much longer.",
    "weight": "4543 g",
    "volume": "15500 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 12,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "explode_in_fire": true,
    "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
    "color": "light_gray",
    "initial_charges": 50,
    "max_charges": 50,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "draw_explosion_radius": 10,
      "draw_explosion_color": "light_blue",
      "emp_blast_radius": 10,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
      "no_deactivate_msg": "You've already activated the %s, try throwing it instead."
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "primitive_demolition_charge",
    "type": "TOOL",
    "category": "weapons",
    "looks_like": "fertilizer_bomb",
    "name": { "str": "primitive demolition charge" },
    "description": "This is a primitive demolition charge.  Use this item to light the fuse.  You will, of course, need a lighter or matches in your inventory to do this.  20 seconds after lighting the fuse, this item will explode, so get away!",
    "weight": "1690 g",
    "volume": "3750 ml",
    "price": 0,
    "price_postapoc": 500,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "plastic", "powder" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 1500 },
    "use_action": {
      "target": "primitive_demolition_charge_act",
      "msg": "You light the %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    }
  },
  {
    "id": "primitive_demolition_charge_act",
    "type": "TOOL",
    "category": "weapons",
    "looks_like": "fertilizer_bomb_act",
    "name": { "str": "primitive demolition charge (lit)", "str_pl": "primitive demolition charges (lit)" },
    "description": "The fuse on this primitive demolition charge is lit and hissing.  It'll explode any moment now.",
    "weight": "1690 g",
    "volume": "3750 ml",
    "price": 0,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "plastic", "powder" ],
    "symbol": "*",
    "color": "red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 1500 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 1500 }
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "improvised_demolition_charge",
    "type": "TOOL",
    "category": "weapons",
    "looks_like": "fertilizer_bomb",
    "name": { "str": "improvised demolition charge" },
    "description": "This is a improvised demolition charge.  Use this item to light the fuse.  You will, of course, need a lighter or matches in your inventory to do this.  20 seconds after lighting the fuse, this item will explode, so get away!",
    "weight": "2290 g",
    "volume": "3750 ml",
    "price": 0,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "plastic", "powder" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 1500 },
    "use_action": {
      "target": "improvised_demolition_charge_act",
      "msg": "You light the %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    }
  },
  {
    "id": "improvised_demolition_charge_act",
    "type": "TOOL",
    "category": "weapons",
    "looks_like": "fertilizer_bomb_act",
    "name": { "str": "improvised demolition charge (lit)", "str_pl": "improvised demolition charges (lit)" },
    "description": "The fuse on this primitive demolition charge is lit and hissing.  It'll explode any moment now.",
    "weight": "2290 g",
    "volume": "3750 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "bashing": 4,
    "material": [ "plastic", "powder" ],
    "symbol": "*",
    "color": "red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 1500 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 1500 }
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "firecracker",
    "type": "TOOL",
    "name": { "str": "firecracker" },
    "description": "A solitary firecracker with a short fuse.  Use this item to light the fuse.  Of course, you will need a lighter or some matches to do so.  Shortly after you light the fuse it will explode, so throw it quickly!",
    "weight": "3 g",
    "volume": "25 ml",
    "price": 4,
    "price_postapoc": 10,
    "to_hit": -3,
    "bashing": 1,
    "material": "paper",
    "symbol": ";",
    "color": "red",
    "use_action": "FIRECRACKER"
  },
  {
    "id": "firecracker_act",
    "type": "TOOL",
    "name": { "str": "firecracker (lit)", "str_pl": "firecrackers (lit)" },
    "description": "A firecracker that has been lit; the fuse is hissing.  Throw it quickly before it explodes.",
    "weight": "3 g",
    "volume": "10 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "bashing": 1,
    "material": "paper",
    "symbol": ";",
    "color": "red",
    "turns_per_charge": 1,
    "use_action": "FIRECRACKER_ACT",
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "firecracker_pack",
    "type": "TOOL",
    "name": { "str": "pack of firecrackers", "str_pl": "packs of firecrackers" },
    "description": "This is a pack of 25 firecrackers with a starter fuse.  Use this item to light the fuse.  Of course, you will need a lighter or some matches to do so.  Shortly after you light the fuse they will begin to explode, so throw them quickly!",
    "weight": "75 g",
    "volume": "50 ml",
    "price": 100,
    "price_postapoc": 100,
    "to_hit": -3,
    "bashing": 1,
    "material": "paper",
    "symbol": "*",
    "color": "red",
    "initial_charges": 25,
    "max_charges": 25,
    "charges_per_use": 1,
    "use_action": "FIRECRACKER_PACK"
  },
  {
    "id": "firecracker_pack_act",
    "type": "TOOL",
    "name": { "str": "pack of firecrackers (lit)", "str_pl": "packs of firecrackers (lit)" },
    "description": "A pack of 25 firecrackers that has been lit; the fuse is hissing.  Throw them quickly before the start to explode.",
    "weight": "75 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "material": "paper",
    "symbol": "*",
    "color": "red",
    "turns_per_charge": 7,
    "use_action": "FIRECRACKER_PACK_ACT",
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "flashbang",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "flashbang" },
    "description": "This is a military police style flashbang.  Use this item to pull the pin and light the fuse.  You will then have five turns before it detonates with intense light and sound, blinding, deafening and disorienting anyone nearby.",
    "weight": "236 g",
    "volume": "250 ml",
    "price": 2000,
    "price_postapoc": 250,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "dark_gray",
    "use_action": {
      "target": "flashbang_act",
      "msg": "You pull the pin on the flashbang.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "flashbang_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active flashbang" },
    "description": "This flashbang is active, and will soon detonate with intense light and sound, blinding, deafening and disorienting anyone nearby.  It may be a good idea to throw it!",
    "weight": "236 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "dark_gray",
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "do_flashbang": true,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already pulled the %s's pin, try throwing it instead."
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "fragment_bomb",
    "type": "TOOL",
    "name": { "str": "fragment bomb" },
    "description": "A crude and bulky improvised bomb.  Made from a container, an explosive surrounded by small pieces of metal and a fuse.  Use this item to light the fuse.  You will then have five turns before it explodes; throwing it would be a good idea.",
    "category": "weapons",
    "weight": "470 g",
    "volume": "500 ml",
    "bashing": 4,
    "to_hit": 1,
    "price": 900,
    "price_postapoc": 750,
    "material": [ "aluminum", "iron" ],
    "symbol": "*",
    "color": "green",
    "explode_in_fire": true,
    "explosion": { "power": 175, "shrapnel": { "casing_mass": 240, "fragment_mass": 0.4 } },
    "use_action": {
      "target": "fragment_bomb_act",
      "msg": "You light the fuse on the %s.",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NO_REPAIR" ]
  },
  {
    "id": "fragment_bomb_act",
    "copy-from": "fragment_bomb",
    "type": "TOOL",
    "name": { "str": "active fragment bomb" },
    "description": "A crude and bulky improvised bomb.  Made from a container, an explosive surrounded by small pieces of metal and a fuse.  The fuse has been lit, you should throw it.",
    "price": 0,
    "price_postapoc": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already lit the fuse - what are you waiting for?",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "explosion": { "power": 175, "shrapnel": { "casing_mass": 240, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "NO_REPAIR" ]
  },
  {
    "id": "fungicidalbomb",
    "copy-from": "grenade_canister",
    "looks_like": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "fungicidal gas grenade" },
    "price": 3600,
    "price_postapoc": 750,
    "description": "This is a canister grenade filled with fungicidal solution.  Use this item to pull the pin and light the fuse, turning it into an active fungicidal grenade.  In five turns it will begin to expel a volatile spray that is highly toxic to fungal life forms.",
    "countdown_action": { "menu_text": "Pull pin", "type": "transform", "target": "fungicidalbomb_act" }
  },
  {
    "id": "fungicidalbomb_act",
    "copy-from": "gasbomb",
    "looks_like": "smokebomb_act",
    "type": "GENERIC",
    "name": { "str": "armed fungicidal gas canister" },
    "description": "This fungicidal bomb has had its pin removed and is expelling highly toxic gas.",
    "emits": [ "emit_fungicidal_stream" ],
    "countdown_interval": 50,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "fungicidalbomb_makeshift",
    "copy-from": "grenade_canister",
    "looks_like": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "makeshift fungicidal gas grenade" },
    "price": 3600,
    "price_postapoc": 500,
    "description": "This is a makeshift canister grenade filled with fungicidal solution.  Use this item to pull the pin and light the fuse, turning it into an active fungicidal grenade.  In five turns it will begin to expel a volatile spray that is highly toxic to fungal life forms.",
    "countdown_action": { "menu_text": "Pull pin", "type": "transform", "target": "fungicidalbomb_makeshift_act" }
  },
  {
    "id": "fungicidalbomb_makeshift_act",
    "copy-from": "gasbomb",
    "looks_like": "smokebomb_act",
    "type": "GENERIC",
    "name": { "str": "armed makeshift fungicidal gas canister" },
    "description": "This makeshift fungicidal bomb has had its pin removed and is expelling highly toxic haze.",
    "emits": [ "emit_small_fungicidal_stream" ],
    "countdown_interval": 50,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "gasbomb_makeshift",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "makeshift gas canister" },
    "description": "This is a crude gasbomb using household chemicals.  Use this item to arm it.  In three turns it will begin to expel a highly toxic gas for a short time.  This gas poisons those exposed to it, in addition to obscuring vision and scent.",
    "weight": "1264 g",
    "volume": "250 ml",
    "price": 500,
    "price_postapoc": 250,
    "to_hit": -1,
    "bashing": 6,
    "material": "steel",
    "symbol": "*",
    "color": "dark_gray",
    "use_action": {
      "target": "gasbomb_makeshift_act",
      "msg": "You arm the makeshift gas canister.",
      "target_charges": 10,
      "active": true,
      "menu_text": "Arm",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "gasbomb_makeshift_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active makeshift gas grenade" },
    "description": "This homemade canister of poison gas has been unsealed, and is (or will shortly be) expelling highly toxic gas.  You should consider getting rid of it soon.",
    "weight": "1264 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 6,
    "material": "steel",
    "symbol": "*",
    "color": "dark_gray",
    "initial_charges": 3,
    "max_charges": 3,
    "turns_per_charge": 1,
    "revert_to": "canister_empty",
    "use_action": {
      "type": "explosion",
      "fields_type": "fd_toxic_gas",
      "fields_radius": 2,
      "fields_min_intensity": 1,
      "fields_max_intensity": 3,
      "sound_volume": 0,
      "sound_msg": "Hiss.",
      "no_deactivate_msg": "You've already armed the %s, try throwing it instead."
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "grenade",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "grenade" },
    "description": "This is a military-grade fragmentary hand grenade.  Use this item to pull the pin and light the fuse.  You will then have five turns before it explodes; throwing it would be a good idea.",
    "weight": "397 g",
    "volume": "250 ml",
    "price": 1500,
    "price_postapoc": 1000,
    "to_hit": -1,
    "bashing": 6,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "target": "grenade_act",
      "msg": "You pull the pin on the grenade.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "grenade_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active grenade" },
    "description": "This is an active grenade, and will explode any second now.  Better throw it!",
    "weight": "397 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 6,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "green",
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already pulled the %s's pin; try throwing it instead.",
      "explosion": { "power": 240, "shrapnel": { "casing_mass": 217, "fragment_mass": 0.15 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "grenade_emp",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "EMP grenade" },
    "description": "This is a grenade that generates an electromagnetic pulse with a low-inductance capacitor bank discharged into a single-loop antenna.  Use this item to pull the pin and light the fuse, turning it into an active EMP grenade.  You will then have three turns before it detonates, creating an EMP field that damages robots and drains bionic energy.",
    "weight": "400 g",
    "volume": "250 ml",
    "price": 6000,
    "//": "Something this useful doesn't come cheap after the apocalypse",
    "price_postapoc": 4000,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "looks_like": "EMPbomb",
    "color": "cyan",
    "use_action": {
      "target": "grenade_emp_act",
      "msg": "You pull the pin on the EMP grenade.",
      "target_charges": 3,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "grenade_emp_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active EMP grenade" },
    "description": "This EMP grenade is active, and will shortly detonate, creating a large EMP field that damages robots and drains bionic energy.  You may not want to be holding it much longer.",
    "weight": "400 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "cyan",
    "initial_charges": 3,
    "max_charges": 3,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "draw_explosion_radius": 4,
      "draw_explosion_color": "light_blue",
      "emp_blast_radius": 4,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already pulled the %s's pin, try throwing it instead."
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "grenade_inc",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "incendiary grenade" },
    "description": "This is a military-grade incendiary hand grenade.  Use this item to pull the pin and light the fuse.  You will then have five turns before it explodes into a raging inferno; throwing it would be a good idea.",
    "weight": "180 g",
    "volume": "250 ml",
    "price": 2000,
    "price_postapoc": 1500,
    "to_hit": -1,
    "bashing": 6,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_red",
    "use_action": {
      "target": "grenade_inc_act",
      "msg": "You pull the pin on the grenade.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE", "GRENADE" ]
  },
  {
    "id": "grenade_inc_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active incendiary grenade" },
    "description": "This is an active incendiary grenade, likely to burst into an inferno any second now.  Better throw it!",
    "weight": "180 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 6,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "revert_to": "canister_empty",
    "use_action": "GRENADE_INC_ACT",
    "flags": [ "ACT_IN_FIRE", "BOMB", "TRADER_AVOID" ]
  },
  {
    "abstract": "grenade_canister",
    "type": "GENERIC",
    "category": "weapons",
    "name": { "str": "canister grenade" },
    "weight": "1058 g",
    "volume": "250 ml",
    "material": [ "steel" ],
    "symbol": "*",
    "color": "dark_gray",
    "use_action": { "type": "countdown", "name": "Arm grenade", "message": "You pull the pin on the %s." },
    "countdown_interval": 5,
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "gasbomb",
    "copy-from": "grenade_canister",
    "type": "GENERIC",
    "name": { "str": "tear gas grenade" },
    "price": 3600,
    "price_postapoc": 250,
    "description": "This is a canister grenade filled with noxious irritant.  Use this item to pull the pin and light the fuse, turning it into an active tear gas grenade.  In five turns it will begin to expel a highly toxic gas for some time.  This gas damages and slows those who enter it, as well as obscuring vision and scent.",
    "countdown_action": { "menu_text": "Pull pin", "type": "transform", "target": "gasbomb_act" }
  },
  {
    "id": "gasbomb_act",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "armed tear gas canister" },
    "price_postapoc": 0,
    "description": "This smoke bomb has had its pin removed and is expelling highly toxic gas.",
    "emits": [ "emit_tear_gas_stream" ],
    "countdown_interval": 50,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "insecticidalbomb",
    "copy-from": "grenade_canister",
    "looks_like": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "insecticidal gas grenade" },
    "price": 3600,
    "price_postapoc": 750,
    "description": "This is a canister grenade filled with insecticidal solution.  Use this item to pull the pin and light the fuse, turning it into an active insecticidal grenade.  In five turns it will begin to expel a volatile spray that is highly toxic to insect life forms.",
    "countdown_action": { "menu_text": "Pull pin", "type": "transform", "target": "insecticidalbomb_act" }
  },
  {
    "id": "insecticidalbomb_act",
    "copy-from": "gasbomb",
    "looks_like": "smokebomb_act",
    "type": "GENERIC",
    "name": { "str": "armed insecticidal gas canister" },
    "price_postapoc": 0,
    "description": "This insecticidal bomb has had its pin removed and is expelling highly toxic haze.",
    "emits": [ "emit_insecticidal_stream" ],
    "countdown_interval": 50,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "insecticidalbomb_makeshift",
    "copy-from": "grenade_canister",
    "looks_like": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "makeshift insecticidal gas grenade" },
    "price": 3600,
    "price_postapoc": 500,
    "description": "This is a makeshift canister grenade filled with insecticidal solution.  Use this item to pull the pin and light the fuse, turning it into an active insecticidal grenade.  In five turns it will begin to expel a volatile spray that is highly toxic to insect life forms.",
    "countdown_action": { "menu_text": "Pull pin", "type": "transform", "target": "insecticidalbomb_makeshift_act" }
  },
  {
    "id": "insecticidalbomb_makeshift_act",
    "copy-from": "gasbomb",
    "looks_like": "smokebomb_act",
    "type": "GENERIC",
    "name": { "str": "armed makeshift insecticidal gas canister" },
    "price_postapoc": 0,
    "description": "This makeshift insecticidal bomb has had its pin removed and is expelling highly toxic haze.",
    "emits": [ "emit_small_insecticidal_stream" ],
    "countdown_interval": 50,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "LAW_Packed",
    "type": "TOOL",
    "category": "guns",
    "name": { "str": "packed M72 LAW" },
    "description": "This is a M72 LAW, packed in its storage form.  Use it to pop it out and make it ready to fire.  Once it is activated, it cannot be repacked.",
    "weight": "2500 g",
    "volume": "1500 ml",
    "price": 200000,
    "price_postapoc": 4000,
    "bashing": 6,
    "material": "aluminum",
    "symbol": ")",
    "color": "green",
    "use_action": {
      "target": "LAW",
      "msg": "You pull the activating lever, readying the LAW to fire.",
      "target_charges": 1,
      "target_ammo": "66mm_HEAT",
      "menu_text": "Activate",
      "type": "transform"
    }
  },
  {
    "id": "bootleg_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "bootleg grenade" },
    "looks_like": "makeshift_grenade",
    "description": "A bootleg explosive device cobbled together from parts.  Use this item pull the pin.  You will then have some amount of time before it explodes; throwing it would be a good idea.",
    "weight": "400 g",
    "price": 750,
    "price_postapoc": 750,
    "material": [ "aluminum", "iron" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "target": "bootleg_grenade_act",
      "msg": "You pull the pin on the bootleg grenade.  Throw it before it blows in your face!",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "bootleg_grenade_act",
    "copy-from": "primitive_grenade",
    "type": "TOOL",
    "name": { "str": "active bootleg grenade" },
    "description": "This is an active grenade, and will explode any second now.  Better throw it!",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "price_postapoc": 0,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already pulled the %s's pin; try throwing it instead.",
      "explosion": { "power": 240, "shrapnel": { "casing_mass": 162, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "improvised_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "improvised grenade" },
    "looks_like": "makeshift_grenade",
    "description": "A improvised explosive device cobbled together from parts.  Use this item light the fuse.  You will then have some amount of time before it explodes; throwing it would be a good idea.",
    "weight": "400 g",
    "price": 750,
    "material": [ "aluminum", "iron" ],
    "symbol": "*",
    "color": "green",
    "explode_in_fire": true,
    "explosion": { "power": 240, "shrapnel": { "casing_mass": 162, "fragment_mass": 0.4 } },
    "use_action": {
      "target": "improvised_grenade_act",
      "msg": "You light the fuse on the improvised grenade.  Throw it before it blows in your face!",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "improvised_grenade_act",
    "copy-from": "primitive_grenade",
    "type": "TOOL",
    "name": { "str": "active improvised grenade" },
    "description": "This is an active grenade, and will explode any second now.  Better throw it!",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "sssssh.",
      "no_deactivate_msg": "You've already lit the %s's fuse; try throwing it instead.",
      "explosion": { "power": 240, "shrapnel": { "casing_mass": 162, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "primitive_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "primitive grenade" },
    "looks_like": "makeshift_grenade",
    "description": "A primitive explosive device cobbled together from parts.  Use this item light the fuse.  You will then have some amount of time before it explodes; throwing it would be a good idea.",
    "weight": "400 g",
    "price": 750,
    "material": [ "aluminum", "iron" ],
    "symbol": "*",
    "color": "green",
    "explode_in_fire": true,
    "explosion": { "power": 240, "shrapnel": { "casing_mass": 162, "fragment_mass": 0.4 } },
    "use_action": {
      "target": "primitive_grenade_act",
      "msg": "You light the fuse on the primitive grenade.  Throw it before it blows in your face!",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "primitive_grenade_act",
    "copy-from": "primitive_grenade",
    "type": "TOOL",
    "name": { "str": "active primitive grenade" },
    "description": "This is an active grenade, and will explode any second now.  Better throw it!",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "sssh.",
      "no_deactivate_msg": "You've already lit the %s's fuse; try throwing it instead.",
      "explosion": { "power": 240, "shrapnel": { "casing_mass": 162, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "mininuke",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "mininuke" },
    "//": "This is based on the Davy Crockett nuclear artillery shell, all other man-portable nuclear weapons have far too high a yield.",
    "description": "This is an extremely powerful weapon, a portable nuclear bomb.  Use it to activate the timer.  You guess that the explosion would be large enough to take out a small house.",
    "weight": "23000 g",
    "volume": "16 L",
    "price": 180000,
    "price_postapoc": 10000,
    "to_hit": -2,
    "bashing": 8,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_green",
    "use_action": "MININUKE",
    "flags": [ "LEAK_DAM", "RADIOACTIVE", "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "mininuke_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "mininuke" },
    "//": "This is based on the Davy Crockett nuclear artillery shell, all other man-portable nuclear weapons have far too high a yield.",
    "description": "This miniature nuclear bomb has a light blinking on the side, showing that it will soon explode.  You should probably get far, far away from it.",
    "weight": "23000 g",
    "volume": "16 L",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -2,
    "bashing": 8,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_green",
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "fields_type": "fd_nuke_gas",
      "fields_radius": 18,
      "fields_min_intensity": 3,
      "fields_max_intensity": 3,
      "sound_volume": 2,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already set the %s's timer, you might want to get away from it.",
      "explosion": { "power": 9000000 }
    },
    "flags": [ "LEAK_DAM", "RADIOACTIVE", "TRADER_AVOID" ]
  },
  {
    "id": "molotov",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "Molotov cocktail" },
    "description": "A bottle of flammable liquid with a rag inserted.  Use this item to light the rag.  You will, of course, need a lighter or matches in your inventory to do this.  After lighting it, throw it to cause fires.",
    "weight": "742 g",
    "volume": "750 ml",
    "price": 500,
    "price_postapoc": 500,
    "to_hit": 1,
    "bashing": 5,
    "material": [ "glass", "cotton" ],
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 1,
    "max_charges": 1,
    "use_action": {
      "target": "molotov_lit",
      "msg": "You light the Molotov cocktail!",
      "target_charges": 1,
      "active": true,
      "moves": 75,
      "need_fire": 1,
      "menu_text": "Light rag",
      "type": "transform"
    },
    "flags": [ "NPC_ACTIVATE", "NO_REPAIR" ]
  },
  {
    "id": "molotov_lit",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "Molotov cocktail" },
    "description": "A bottle of flammable liquid with a flaming rag stoppered in its neck.  Throwing it will shatter the bottle on impact and ignite a fireball.  Dropping it will set you on fire, so don't do that unless you want to burn to death.",
    "weight": "742 g",
    "volume": "750 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": 1,
    "bashing": 5,
    "material": [ "glass", "cotton" ],
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 1,
    "max_charges": 1,
    "turns_per_charge": 1,
    "use_action": "MOLOTOV_LIT",
    "flags": [ "LIGHT_15", "TRADER_AVOID", "NPC_THROW_NOW", "NO_REPAIR", "WATER_EXTINGUISH" ]
  },
  {
    "id": "nail_bomb",
    "type": "TOOL",
    "name": { "str": "nail bomb" },
    "description": "A crude and bulky improvised bomb.  Made from a container, an explosive surrounded by nails and a fuse.  Use this item to light the fuse.  You will then have five turns before it explodes; throwing it would be a good idea.",
    "category": "weapons",
    "weight": "470 g",
    "volume": "500 ml",
    "bashing": 4,
    "to_hit": 1,
    "price": 900,
    "price_postapoc": 500,
    "material": [ "aluminum", "iron" ],
    "symbol": "*",
    "color": "green",
    "explode_in_fire": true,
    "explosion": { "power": 175, "shrapnel": { "casing_mass": 160, "fragment_mass": 0.4, "drop": "nail", "recovery": 16 } },
    "use_action": {
      "target": "nail_bomb_act",
      "msg": "You light the fuse on the %s.",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NO_REPAIR" ]
  },
  {
    "id": "nail_bomb_act",
    "copy-from": "nail_bomb",
    "type": "TOOL",
    "name": { "str": "active nail bomb" },
    "description": "A crude and bulky improvised bomb.  Made from a container, an explosive surrounded by nails and a fuse.  The fuse has been lit, you should throw it.",
    "price": 0,
    "price_postapoc": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already lit the fuse - what are you waiting for?",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "explosion": { "power": 175, "shrapnel": { "casing_mass": 160, "fragment_mass": 0.4, "drop": "nail", "recovery": 16 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "NO_REPAIR" ]
  },
  {
    "id": "bootleg_pipebomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "bootleg pipe bomb" },
    "looks_like": "pipebomb",
    "description": "This is a section of a pipe filled with military explosives.  Use this item to pull the pin, which gives you six seconds to get away from it before it detonates.",
    "weight": "710 g",
    "//": "Only one third (410 g) of a whole pipe is being used",
    "volume": "500 ml",
    "price": 1500,
    "price_postapoc": 750,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "use_action": {
      "target": "bootleg_pipebomb_act",
      "msg": "You pull the pin on the pipe bomb.",
      "target_charges": 6,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "bootleg_pipebomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active bootleg pipe bomb" },
    "looks_like": "pipebomb",
    "description": "This pipe bomb's pin is pulled, and it will explode any second now.  Throw it immediately!",
    "weight": "710 g",
    "volume": "500 ml",
    "price": 0,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 6,
    "max_charges": 6,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already pulled the %s pin, try throwing it instead.",
      "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "improvised_pipebomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "improvised pipe bomb" },
    "looks_like": "pipebomb",
    "description": "This is a section of a pipe filled with stable explosives and a primer.  Use this item to light the fuse, which gives you six seconds to get away from it before it detonates.  You'll need a lighter or some matches to use it.",
    "weight": "710 g",
    "//": "Only one third (410 g) of a whole pipe is being used",
    "volume": "500 ml",
    "price": 1500,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } },
    "use_action": {
      "target": "improvised_pipebomb_act",
      "msg": "You light the fuse on the pipe bomb.",
      "target_charges": 6,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "improvised_pipebomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active improvised pipe bomb" },
    "looks_like": "pipebomb_act",
    "description": "This pipe bomb's fuse is lit, and it will explode any second now.  Throw it immediately!",
    "weight": "710 g",
    "volume": "500 ml",
    "price": 0,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 6,
    "max_charges": 6,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "primitive_pipebomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "primitive pipe bomb" },
    "looks_like": "pipebomb",
    "description": "This is a section of a pipe filled with volatile explosives.  Use this item to light the fuse, which gives you six seconds to get away from it before it detonates.  You'll need a lighter or some matches to use it.",
    "weight": "710 g",
    "//": "Only one third (410 g) of a whole pipe is being used",
    "volume": "500 ml",
    "price": 1500,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } },
    "use_action": {
      "target": "primitive_pipebomb_act",
      "msg": "You light the fuse on the pipe bomb.",
      "target_charges": 6,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE" ]
  },
  {
    "id": "primitive_pipebomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active primitive pipe bomb" },
    "looks_like": "pipebomb_act",
    "description": "This pipe bomb's fuse is lit, and it will explode any second now.  Throw it immediately!",
    "weight": "710 g",
    "volume": "500 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": 1,
    "bashing": 5,
    "material": "steel",
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 6,
    "max_charges": 6,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss...",
      "no_deactivate_msg": "You've already lit the %s, try throwing it instead.",
      "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "scrambler",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "scrambler grenade" },
    "description": "This is a specialized grenade, designed to scramble robots' IFF control chips.  This converts the robot to your side for a short time, before the backup systems kick in.  Use this item to pull the pin and light the fuse, turning it into an active scrambler grenade.",
    "weight": "500 g",
    "volume": "250 ml",
    "price": 6000,
    "//": "Something this useful doesn't come cheap after the apocalypse",
    "price_postapoc": 5000,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "yellow",
    "use_action": {
      "target": "scrambler_act",
      "msg": "You pull the pin on the scrambler grenade.",
      "target_charges": 3,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ]
  },
  {
    "id": "scrambler_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active scrambler grenade" },
    "description": "This scrambler grenade is active, and will soon detonate, releasing a control wave that temporarily converts robots to your side.",
    "weight": "500 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "bashing": 5,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "yellow",
    "initial_charges": 3,
    "max_charges": 3,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "draw_explosion_radius": 4,
      "draw_explosion_color": "cyan",
      "scrambler_blast_radius": 4,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already pulled the %s's pin; try throwing it instead."
    },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "smokebomb",
    "copy-from": "grenade_canister",
    "type": "GENERIC",
    "name": { "str": "smoke bomb" },
    "description": "This is a canister grenade filled with a variety of pyrotechnic chemicals.  Use this item to pull the pin and light the fuse, turning it into an active smoke bomb.  Five turns after you do that, it will begin to expel a thick black smoke.  This smoke will slow those who enter it, as well as obscuring vision and scent.",
    "price": 1800,
    "price_postapoc": 0,
    "weight": "569 g",
    "countdown_action": { "type": "transform", "target": "smokebomb_act" }
  },
  {
    "id": "smokebomb_act",
    "copy-from": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "armed smoke bomb" },
    "description": "This smoke bomb has had its pin removed and is expelling thick smoke.",
    "emits": [ "emit_smoke_stream" ],
    "countdown_interval": 100,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "tool_anfo_charge",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "ANFO charge" },
    "description": "This is a large metal keg filled with ANFO pellets and equipped with a dynamite primer.  Use this item to light the fuse.  You will then have twenty turns before it explodes and creates a large fireball.",
    "weight": "77800 g",
    "volume": "50 L",
    "price": 75000,
    "price_postapoc": 4000,
    "to_hit": -5,
    "bashing": 12,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": {
      "power": 25000,
      "//": "Fire would burn away/degrade some of the ANFO before the detonator would trigger.",
      "shrapnel": 12600
    },
    "use_action": {
      "target": "tool_anfo_charge_act",
      "msg": "You light the fuse on the ANFO charge.  Run survivor, run!",
      "target_charges": 100,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_anfo_charge_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active ANFO charge" },
    "description": "This is a large metal keg filled with ANFO pellets and equipped with a dynamite primer.  The fuse has been lit - better run like hell!",
    "weight": "77800 g",
    "volume": "50 L",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -5,
    "bashing": 12,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 100,
    "max_charges": 100,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 25000, "shrapnel": 12600 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "You've already lit the fuse - run!",
      "explosion": {
        "power": 48900,
        "//": "Fire exposure would burn away/degrade some of the ANFO before the detonator would trigger.",
        "shrapnel": 12600
      }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_small_bootleg_fragmentation_device",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small bootleg frag device" },
    "looks_like": "tool_black_powder_charge",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with military explosives and scrap metal, equipped with a delayed fuze.  Use this item to pull the pin.  Once you do it should explode in about 20 seconds. ",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 20000,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "use_action": {
      "target": "tool_small_bootleg_fragmentation_device_act",
      "msg": "You pull the pin on the small bootleg fragmentation device.  Get rid of it quickly!",
      "target_charges": 20,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_small_bootleg_fragmentation_device_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small bootleg frag device" },
    "looks_like": "tool_black_powder_charge_act",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with military explosives and scrap metal, whose fuse has been lit, its final countdown starting.",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 0,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already pulled the pin - run!",
      "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_small_improvised_fragmentation_device",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small improvised frag device" },
    "looks_like": "tool_black_powder_charge",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with stable explosives and scrap metal, equipped with a long fuse.  Use this item to light the fuse.  Once you do it should explode in about 20 seconds. ",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 20000,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } },
    "use_action": {
      "target": "tool_small_improvised_fragmentation_device_act",
      "msg": "You light the fuse on the small improvised fragmentation device.  Get rid of it quickly!",
      "target_charges": 20,
      "active": true,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_small_improvised_fragmentation_device_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small improvised frag device" },
    "looks_like": "tool_black_powder_charge_act",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with stable explosives and scrap metal, whose fuse has been lit, its final countdown starting.",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 0,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Kshhh.",
      "no_deactivate_msg": "You've already lit the fuse - run!",
      "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_small_primitive_fragmentation_device",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small primitive frag device" },
    "looks_like": "tool_black_powder_charge",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with volatile explosives and scrap metal, equipped with a long fuse.  Use this item to light the fuse.  Once you do it should explode in about 20 seconds. ",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 20000,
    "price_postapoc": 2500,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } },
    "use_action": {
      "target": "tool_small_primitive_fragmentation_device_act",
      "msg": "You light the fuse on the small primitive fragmentation device.  Get rid of it quickly!",
      "target_charges": 20,
      "active": true,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_small_primitive_fragmentation_device_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "small primitive frag device" },
    "looks_like": "tool_black_powder_charge_act",
    "description": "This is a home-made explosive device, consisting of a large plastic jug filled with volatile explosives and scrap metal, whose fuse has been lit, its final countdown starting.",
    "weight": "6500 g",
    "volume": "4 L",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Kshhh.",
      "no_deactivate_msg": "You've already lit the fuse - run!",
      "explosion": { "power": 2500, "shrapnel": { "casing_mass": 2000, "fragment_mass": 1, "drop": "scrap", "recovery": 20 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_improvised_barrel_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "improvised barrel bomb" },
    "looks_like": "tool_rdx_charge",
    "description": "This is a metal keg, filled with a lot of stable explosives.  Contains a volatile explosive core so 100 seconds after the fuse has been lit the charge detonates completely and delivers its entire destructive power to everything in sight.",
    "weight": "67500 g",
    "volume": "100 L",
    "price": 90000,
    "price_postapoc": 4000,
    "to_hit": -5,
    "bashing": 20,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } },
    "use_action": {
      "target": "tool_improvised_barrel_bomb_act",
      "msg": "You light the fuse on the barrel bomb.  Clear the area!",
      "need_fire": 1,
      "target_charges": 100,
      "active": true,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_improvised_barrel_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active improvised barrel bomb" },
    "looks_like": "tool_rdx_charge_act",
    "description": "This is a metal keg, filled with a lot of stable explosives.  The fuse has been lit and once it ignites the primary explosive, the bomb will detonate and rain fire and steel on everything in sight.",
    "weight": "67500 g",
    "volume": "100 L",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -5,
    "bashing": 20,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 100,
    "max_charges": 100,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Kshhh.",
      "no_deactivate_msg": "You've already lit the fuse - clear the area immediately!",
      "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_bootleg_barrel_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "bootleg barrel bomb" },
    "looks_like": "tool_rdx_charge",
    "description": "This is a metal keg, filled with a lot of military explosives.  Once it has been activated it will explode in 100 seconds, raining fire and steel on everything in sight.",
    "weight": "44000 g",
    "volume": "100 L",
    "price": 90000,
    "to_hit": -5,
    "bashing": 20,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } },
    "use_action": {
      "target": "tool_bootleg_barrel_bomb_act",
      "msg": "You activate the fuze on the barrel bomb.  Clear the area!",
      "target_charges": 100,
      "active": true,
      "menu_text": "Activate fuze",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_bootleg_barrel_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active bootleg barrel bomb" },
    "looks_like": "tool_rdx_charge_act",
    "description": "This is a metal keg, filled with a lot of military explosives.  It has been activated and will soon explode, delivering its entire destructive power to everything in sight.",
    "weight": "44000 g",
    "volume": "100 L",
    "price": 0,
    "to_hit": -5,
    "bashing": 20,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 100,
    "max_charges": 100,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } },
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already activated the bomb - clear the area immediately!",
      "explosion": { "power": 40000, "shrapnel": { "casing_mass": 12000, "fragment_mass": 1 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  },
  {
    "id": "tool_rocket_candy",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "rocket candy", "str_pl": "rocket candies" },
    "description": "A pear-shaped chunk of rocket candy obtained by heating saltpeter with sugar and casting the obtained liquid.  Can serve as a rocket fuel, but also as a smokescreen - if you lit the narrow end, you should be able to throw it before the flame reaches the broad end.",
    "weight": "250 g",
    "volume": "250 ml",
    "price": 100,
    "price_postapoc": 100,
    "to_hit": -2,
    "bashing": 1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "target": "tool_rocket_candy_act",
      "msg": "You light the rocket candy on fire.  Throw it!",
      "target_charges": 2,
      "active": true,
      "menu_text": "Light candy",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ]
  },
  {
    "id": "tool_rocket_candy_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "burning rocket candy", "str_pl": "burning rocket candies" },
    "description": "This is a chunk of rocket candy that has been lit on fire and burns with a loud hiss, spewing forth large amounts of smoke.",
    "weight": "250 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -2,
    "bashing": 1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "green",
    "initial_charges": 2,
    "max_charges": 2,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "fields_type": "fd_smoke",
      "fields_radius": 2,
      "fields_min_intensity": 2,
      "fields_max_intensity": 3,
      "sound_volume": 5,
      "sound_msg": "Hsssss.",
      "no_deactivate_msg": "You've already lit the fuse - get rid of it immediately!",
      "explosion": { "power": 1 }
    },
    "flags": [ "BOMB", "TRADER_AVOID" ]
  }
]
