[
  {
    "type": "SPELL",
    "id": "kill_pseudo_zombie",
    "name": { "str": "kill pseudo zombie" },
    "description": "you should not see this. kills pseudo zombie.",
    "valid_targets": [ "self" ],
    "max_level": 1,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "PERCENTAGE_DAMAGE", "NO_FAIL" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_damage": 100,
    "max_damage": 100,
    "min_aoe": 1,
    "max_aoe": 1,
    "message": "",
    "effect": "attack",
    "damage_type": "pure"
  },
  {
    "type": "SPELL",
    "id": "pseudo_dormant_trap_setup",
    "name": { "str": "dormant corpse setup" },
    "description": "you should not see this. sets up trap for dormant zombies.",
    "valid_targets": [ "self" ],
    "max_level": 1,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_aoe": 1,
    "max_aoe": 1,
    "message": "",
    "effect": "add_trap",
    "effect_str": "tr_dormant_corpse",
    "extra_effects": [ { "id": "kill_pseudo_zombie", "hit_self": true } ]
  },
  {
    "id": "mon_pseudo_dormant_zombie",
    "type": "MONSTER",
    "name": { "str": "reawakened zombie_d" },
    "description": "Fake zombie used for spawning dormant zombies. If you see this, open an issue on github.",
    "copy-from": "mon_zombie",
    "hp": 5,
    "speed": 1,
    "flags": [ "FILTHY", "REVIVES", "DORMANT", "NO_NECRO", "REVIVES_HEALTHY" ],
    "zombify_into": "mon_zombie_reawakened",
    "special_attacks": [
      {
        "id": "pseudo_dormant_trap_setup_attk",
        "type": "spell",
        "spell_data": { "id": "pseudo_dormant_trap_setup", "hit_self": true },
        "cooldown": 1,
        "allow_no_target": true,
        "monster_message": ""
      }
    ]
  },
  {
    "id": "mon_zombie_reawakened",
    "type": "MONSTER",
    "name": { "str": "reawakened zombie" },
    "copy-from": "mon_zombie",
    "description": "What you thought was a corpse suddenly gets up and starts walking with sinister intent.",
    "flags": [
      "SEES",
      "HEARS",
      "STUMBLES",
      "WARM",
      "GRABS",
      "BASHES",
      "GROUP_BASH",
      "POISON",
      "NO_BREATHE",
      "PUSH_MON",
      "FILTHY",
      "REVIVES",
      "NO_NECRO",
      "REVIVES_HEALTHY"
    ],
    "//": "We need to add NO_NECRO, since reviving corpses without triggering the trap won't presently remove the trap. TODO: fix in future PR."
  },
  {
    "type": "trap",
    "id": "tr_dormant_corpse",
    "name": "dormant zombie corpse",
    "//": "This zombie 'corpse' looks eerily like it could get up and start walking at any moment.",
    "color": "light_green",
    "symbol": "Z",
    "visibility": 3,
    "avoidance": 20,
    "difficulty": 99,
    "flags": [ "UNDODGEABLE", "AVATAR_ONLY", "PROXIMITY", "REVIVES_HEALTHY" ],
    "action": "spell",
    "spell_data": { "id": "wake_up_dormant" },
    "trigger_message_u": "A zombie rises from the ground!",
    "trigger_message_npc": "A zombie rises from the ground!",
    "sound_threshold": [ 15, 25 ]
  },
  {
    "type": "SPELL",
    "id": "wake_up_dormant",
    "name": { "str": "dormant corpse waking up" },
    "description": "you should not see this. Causes all dormant corpses in the tile to revive.",
    "valid_targets": [ "ground" ],
    "max_level": 1,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_aoe": 3,
    "max_aoe": 3,
    "effect": "revive_dormant",
    "effect_str": "ZOMBIE"
  }
]
