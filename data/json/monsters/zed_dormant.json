[
  {
    "type": "SPELL",
    "id": "kill_pseudo_zombie",
    "name": { "str": "kill pseudo zombie" },
    "description": "You should not see this.  Kills pseudo zombie to turn it into a corpse for revival.",
    "valid_targets": [ "self" ],
    "max_level": 1,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "PERCENTAGE_DAMAGE", "NO_FAIL" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_damage": 100,
    "max_damage": 100,
    "min_aoe": 1,
    "max_aoe": 1,
    "message": "",
    "effect": "attack",
    "damage_type": "pure"
  },
  {
    "type": "SPELL",
    "id": "pseudo_dormant_trap_setup",
    "name": { "str": "dormant corpse setup" },
    "description": "You should not see this.  Sets up trap for dormant zombies.",
    "valid_targets": [ "self" ],
    "max_level": 1,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_aoe": 1,
    "max_aoe": 1,
    "message": "",
    "effect": "add_trap",
    "effect_str": "tr_dormant_corpse",
    "extra_effects": [ { "id": "kill_pseudo_zombie", "hit_self": true } ]
  },
  {
    "id": "mon_pseudo_dormant_zombie",
    "type": "MONSTER",
    "name": { "str": "zombie" },
    "description": "Fake zombie used for spawning dormant zombies.  If you see this, open an issue on github.",
    "copy-from": "mon_zombie",
    "looks_like": "corpse_mon_zombie",
    "hp": 5,
    "speed": 1,
    "flags": [ "FILTHY", "REVIVES", "DORMANT", "QUIETDEATH" ],
    "zombify_into": "mon_zombie",
    "special_attacks": [
      {
        "id": "pseudo_dormant_trap_setup_attk",
        "type": "spell",
        "spell_data": { "id": "pseudo_dormant_trap_setup", "hit_self": true },
        "cooldown": 1,
        "allow_no_target": true,
        "monster_message": ""
      }
    ]
  },
  {
    "type": "trap",
    "id": "tr_dormant_corpse",
    "name": "dormant zombie corpse",
    "//": "This zombie 'corpse' looks eerily like it could get up and start walking at any moment.",
    "color": "light_green",
    "symbol": "Z",
    "visibility": 8,
    "avoidance": 20,
    "difficulty": 99,
    "flags": [ "UNDODGEABLE", "AVATAR_ONLY", "PROXIMITY" ],
    "action": "spell",
    "spell_data": { "id": "wake_up_dormant" },
    "trigger_message_u": "A zombie rises from the ground!",
    "trigger_message_npc": "A zombie rises from the ground!",
    "sound_threshold": [ 10, 20 ]
  },
  {
    "type": "SPELL",
    "id": "cause_loud_moaning",
    "name": { "str": "cause loud moaning" },
    "description": "You should not see this.  Causes loud noise.",
    "valid_targets": [ "ground", "ally" ],
    "max_level": 1,
    "shape": "blast",
    "effect": "noise",
    "flags": [ "NO_EXPLOSION_SFX" ],
    "sound_type": "combat",
    "sound_id": "melee_attack",
    "sound_variant": "monster_melee_hit",
    "sound_description": "a zombie moaning!",
    "min_damage": 60,
    "max_damage": 60,
    "//": "volume is damage/3, so 20"
  },
  {
    "type": "SPELL",
    "id": "wake_up_dormant",
    "name": { "str": "dormant corpse waking up" },
    "description": "You should not see this.  Causes all dormant corpses in the tile to revive.",
    "valid_targets": [ "ground" ],
    "max_level": 1,
    "flags": [ "NO_EXPLOSION_SFX" ],
    "base_casting_time": 1,
    "shape": "blast",
    "min_aoe": 1,
    "max_aoe": 1,
    "effect": "revive_dormant",
    "effect_str": "ZOMBIE",
    "extra_effects": [ { "id": "cause_loud_moaning" } ]
  }
]
