[
  {
    "id": "ITEM_ENCHANTMENT_corruption",
    "type": "json_flag",
    "info": "<color_pink>Corruption Enchantment</color>",
    "item_suffix": " (corruption)"
  },
  {
    "id": "EOC_enchanting_master_init_corruption",
    "type": "effect_on_condition",
    "//": "u is avatar, npc is item",
    "effect": { "npc_set_flag": "ITEM_ENCHANTMENT_corruption" }
  },
  {
    "id": "EOC_enchanting_master_remove_corruption",
    "type": "effect_on_condition",
    "//": "u is avatar, npc is item",
    "effect": { "npc_unset_flag": "ITEM_ENCHANTMENT_corruption" }
  },
  {
    "id": "EOC_enchanting_master_corruption_on_kill_monster",
    "type": "effect_on_condition",
    "eoc_type": "EVENT",
    "required_event": "character_kills_monster",
    "condition": { "u_has_wielded_with_flag": "ITEM_ENCHANTMENT_corruption" },
    "effect": [
      {
        "u_spawn_monster": { "context_val": "victim_type" },
        "real_count": 1,
        "min_radius": 1,
        "max_radius": 4,
        "friendly": true,
        "lifespan": [ "2 minutes", "5 minutes" ],
        "spawn_message": "You corrupted your enemy!",
        "spawn_message_plural": "You corrupted your enemies!",
        "true_eocs": "EOC_enchanting_master_item_ench_trigger_count_minus_one"
      }
    ]
  }
]
