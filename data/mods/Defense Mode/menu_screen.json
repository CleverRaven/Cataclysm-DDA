[
  {
    "type": "talk_topic",
    "id": "TALK_DEFENSE_MODE_MAIN_MENU",
    "dynamic_line": "Hello, and welcome to Defense Mode!  Please alter the options as you desire, then we'll get started!",
    "responses": [
      { "text": "Enemy Options", "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION" },
      { "text": "Preset Game Options", "topic": "TALK_DEFENSE_MODE_PRESET_GAME_MENU" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_DEFENSE_MODE_ENEMY_SELECTION",
    "dynamic_line": "What kinds of enemies do you want to see?",
    "responses": [
      {
        "text": "Allow regular zombies.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable regular zombies.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Allow special zombies.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable special zombies.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Allow spiders.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "spiders_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable spiders.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "spiders_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Allow triffids.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "triffids_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable triffids.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "triffids_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Allow robots.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "robots_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable robots.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "robots_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Allow eldritch horrors.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "subspace_allowed" }, "==", { "const": 0 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 1 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      {
        "text": "Disable eldritch horrors.",
        "condition": { "compare_num": [ { "global_val": "var", "var_name": "subspace_allowed" }, "==", { "const": 1 } ] },
        "effect": [ { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] } ],
        "topic": "TALK_DEFENSE_MODE_ENEMY_SELECTION"
      },
      { "text": "Return to main menu.", "topic": "TALK_DEFENSE_MODE_MAIN_MENU" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_DEFENSE_MODE_PRESET_GAME_MENU",
    "dynamic_line": "We have a grand variety of preselected game modes for you to choose from!  Pick one and play now!",
    "responses": [
      {
        "text": "<color_yellow>Shaun of The Dead</color>: (Defend a bar against classic zombies with your five friends.  Easy and fun.)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 1 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] },
          {
            "u_location_variable": { "global_val": "bar" },
            "target_params": { "om_terrain": "bar", "search_range": 500, "z": 0 }
          },
          { "u_teleport": { "global_val": "bar" } },
          { "mapgen_update": "shaun_of_the_dead_spawns" }
        ],
        "topic": "TALK_DONE"
      },
      {
        "text": "<color_yellow>Dawn of The Dead</color>: (Classic zombies only, slower and more realistic.)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 1 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] }
        ],
        "topic": "TALK_DONE"
      },
      {
        "text": "<color_yellow>Eight-Legged Freaks</color>: (Hordes of spiders!  Not arachnophobia friendly!)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 1 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] }
        ],
        "topic": "TALK_DONE"
      },
      {
        "text": "<color_yellow>Day of The Triffids</color>: (Protect your mansion against the triffids.)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 1 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] },
          {
            "u_location_variable": { "global_val": "mansion_c5" },
            "target_params": { "om_terrain": "mansion_c5", "search_range": 500, "z": 0 }
          },
          { "u_teleport": { "global_val": "mansion_c5" } }
        ],
        "topic": "TALK_DONE"
      },
      {
        "text": "<color_yellow>Skynet</color>: (Robots have decided that humans are the enemy!)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 1 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 0 } ] }
        ],
        "topic": "TALK_DONE"
      },
      {
        "text": "<color_yellow>The Call of Cthulu</color>: (Fend off hordes of eldritch horrors.)",
        "effect": [
          { "arithmetic": [ { "global_val": "var", "var_name": "regular_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "special_zombies_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "spiders_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "triffids_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "robots_allowed" }, "=", { "const": 0 } ] },
          { "arithmetic": [ { "global_val": "var", "var_name": "subspace_allowed" }, "=", { "const": 1 } ] }
        ],
        "topic": "TALK_DONE"
      },
      { "text": "Return to main menu.", "topic": "TALK_DEFENSE_MODE_MAIN_MENU" }
    ]
  }
]
