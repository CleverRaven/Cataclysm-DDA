[
  {
    "type": "palette",
    "id": "aftershock_crashing_ship",
    "terrain": { "0": "t_metal_floor" }
  },
  {
    "//": "Aftershock crashing ship, divided into six sections. This is intended to be the port side of a larger ship, with the corridors leading to the rest of the ship sealed off due to hull breaches.",
    "//1": "Barracks (Top Left): Top Left: locker room, meant to store work clothes and small tools/trinkets. Top Right: armory, stores weapons and armor. Mid Left: Bathroom/showers. Mid Right: Sleeping quarters. Lockers in corner will have emergency supplies. Bottom: Cafeteria.",
    "//2": "Cargo (Top Center): Six shipping containers with crates of misc equipment and supplies.",
    "//3": "Workshop (Top Right): Toolshop and light manufacturing. Shelves with spare parts for vehicles and individual equipment, some broken/damaged.",
    "//4": "Corridor (Center): Access to the various rooms, hallways are sealed due to breaches on either end of the ship.",
    "//5": "Shuttle Bay (Bottom Left): Berthing for small shuttles.",
    "//6": "Launch Bay (Bottom Center): A long launch bay with a ramp for ground vehicles to embark/disembark.",
    "//7": "Vehicle Bay (Bottom Right): Escape pod bays are near the central coridor. Storage for ground vehicles.",
    "type": "mapgen",
    "method": "json",
    "om_terrain": [
      [ "crashing_ship_3", "crashing_ship_2", "crashing_ship_1" ],
      [ "crashing_ship_6", "crashing_ship_5", "crashing_ship_4" ],
      [ "crashing_ship_9", "crashing_ship_8", "crashing_ship_7" ]
    ],
    "weight": 100,
    "object": {
      "fill_ter": "t_metal_floor",
      "rows": [
        "MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM",
        "MLLLLLLLM......MeeeeeeeMM......................MMPPPPPPPPPPPPPPPPPPPPPPM",
        "M...*...M......M......eMM.MddM.MddM..MddM.MddM.MMPPPPPPPPPPPPPPPPPPPPPPM",
        "M.bbbbb.M......@......eMM.MCCM.MCCM..MCCM.MCCM.MMPPPPPPPPPPPPPPPPPPPPPPM",
        "M...*...d......d...*..eMM.MCCM.MCCM..MCCM.MCCM.MMPPPPPPPPPPPPPPPPPPPPPPM",
        "M.bbbbb.!.....FM......eMM.MCCM.MCCM..MCCM.MCCM.MMPPPPpppppppppppppPPPPPM",
        "M...*...MFFFF..M......eMM.MCCM.MCCM..MCCM.MCCM.MMPPPPpppppppppppppPPPPPM",
        "MLLLLLLLMFvPPFFMeeeeeeeMM.MddM.MddM..MddM.MddMFMMPPPPpppppppppppppPPPPPM",
        "MMMMMMMMM*.pFv*MMMMMMMMMM.....*..........*...F.MMPPPPpppppppppppppPPPPPM",
        "MsMsMsMsM.F..F.ME.B.B.BMM.MddM.MddM..MddM.MddM.PPPPPPpppppppppppppPPPPPM",
        "MgMgMgMgM......M..B.B.BMM.MCCM.MCCM..MCCM.MCCMFPPPPPPPPPPPPPPPPPPPPpp..M",
        "M.......M......M..f.f.fMM.MCCM.MCCM..MCCM.MCCMFPPPPPPPPPPPPPPPPPPPPppF.M",
        "MS..*...D......D...*...MM.MCCM.MCCM..MCCM.MCCM.ppppPPPPPPPPPPPPPPPPp...M",
        "M.......M......M..f.f.fMM.MCCM.MCCM..MCCM.MCCM.MM.FppPPPPPPPPPPPPPPppFFM",
        "MgMgMgMgM......M..B.B.BMM.MddM.MddM..MddM.MddM.MMF..ppPPPPPPPPPPPPPp...M",
        "MTMTMTMTM......ME.B.B.BMM.....*..........*.....MMFFPPPPPPPPPPPPPPPPp...M",
        "MMMMMMMMM*....*MMMMMMMMMM.MddM.MddM..MddM.MddM.MM...pppPPPPPPPPPPPppp..M",
        "MVVVVVVVV......VVVVVVVVMM.MCCM.MCCM..MCCM.MCCM.MM.....ppppPPPPPPppppF..M",
        "M.....*..........*.....MM.MCCM.MCCM..MCCM.MCCM.MMJJJJJJJJJpppppppJJJFJJM",
        "M.bbbbbbbbb..bbbbbbbbb.MM.MCCM.MCCM..MCCM.MCCM.MM.........J..J..F..F...M",
        "M.ttttttttt..ttttttttt.MM.MCCM.MCCM..MCCM.MCCM.MM.........j..j.........M",
        "M.bbbbbbbbb..bbbbbbbbb.MM.MddM.MddM..MddM.MddM.MM.........j..j.........M",
        "M.....*..........*.....MM......................MMH.H.H.H.HJ..JH.H.H.H.HM",
        "MMMMMMMMMMMDDMMMMMMMMMMMMddddddddddddddddddddddMMMMMMMMMMM#ddMMMMMMMMMMM",
        "MPPpv................................................................pPM",
        "Mpppv.*.....*.....*.....*.....*....**....*.....*.....*.....*.....*...pPM",
        "MPPPpv...............................................................pPM",
        "MPPpMMMMMMMMMMMMMMMMMMMMMddddddddddddddddddddddMMMMMMMMMMMMDDMMMMMMMMMMM",
        "MPPPv................*....*..................*.MM.....cx...............M",
        "MPvYYYYYYYYYYYYYYYYYY..................pp......MM.MMM..x..........(YYY.M",
        "M.....................................ppPp.....MM.MFDxx*x.......*..YYY.M",
        "M....................................pppPpp....MM.MMM(x............YYY.M",
        "M....................................pPPpp.....MM..xcx.................M",
        "M.....................................ppp......MM.YYY.............(YYY.M",
        "M..............................................MM.YYY..*........*..YYY.M",
        "M..YYYYYYYYYYYYYYYYYY..........................MM.YYY(.............YYY.M",
        "M..............................................MM.................pPPppM",
        "M.*..................*....*..................*.MM.YYY.............(YYY.M",
        "M..............................................MM.YYY..*........*..YYY.M",
        "M..YYYYYYYYYYYYYYYYYY..........................MM.YYY(.............YYY.M",
        "M................p.............................MM......................M",
        "M...............ppp............................MM.YYY.............^MMM.M",
        "M..............ppPpp...........................MM.YYY..*........*..dzM.M",
        "M...............ppp............................MM.YYY(.............MMM.M",
        "M................p.............................MM......................M",
        "M..YYYYYYYYYYYYYYYYYY..........................MMMMMMMMMMMMMDDMMMMMMMMMM",
        "M..............................................MME....................EM",
        "M.*..................*....*......pp..........*.MME....................EM",
        "M...............................ppPp...........MM.*Y....Y......Y....Y*.M",
        "M..YYYYYYYYYYYYYYYYYY..........pPppp...........MM..Y....Y......Y....Y..M",
        "M...............................ppp............MM..Y....Y......Y....Y..M",
        "M................................p.............MM..Y....Y......Y....Y..M",
        "M..............................................MM..Y....Y......Y....Y..M",
        "M..............................................MM..Y....Y......Y....Y..M",
        "M..............................................MM..Y....Y......Y....Y..M",
        "M..YYYYYYYYYYYYYYYYYY..........................MM..Y....Y...p..Y....Y..M",
        "M..............................................MM..Y....Y..pPp.Y....Y..M",
        "M.*..................*....*..................*.MM.*Y....Y.pPPppY....Y*.M",
        "M..............................................MM..Y....Y..pPp.Y....Y..M",
        "M..YYYYYYYYYYYYYYYYYY..........................MM..Y....Y...p..Y....Y..M",
        "M.FFMMMMMMMMMMMMMMM.......................p....MM..Y....Y......Y....Y..M",
        "M..FFF.[.[.[.[.M[UM......................ppp...MM..Y....Y......Y....Y..M",
        "M.F.u..........u.UM......................Pppp..MM..Y....Y......Y....Y..M",
        "M...M..[.[.[.[.M[UM.....................pppppp.MM..Y....Y......Y....Y..M",
        "M...MMMMMMMMMMMMMMM....................pppppp..MM..Y....Y......Y....Y..M",
        "M..YYYYYYYYYYYYYYYYYY...................pp.p...MM..Y....Y......Y....Y..M",
        "M..............................................MM.*Y....Y......Y....Y*.M",
        "M.*..................*....*..................*.MM..Y....Y......Y....Y..M",
        "MWWWWWWWWWWWWWWWWWWWW..........................MM..Y....Y......Y....Y..M",
        "Mw(w(w(w(w(w(w(w(w(wW..........................MM..Y....Y......Y....Y..M",
        "M...F*pPp.*.F..*FF..D..........................MM..Y....Y......Y....Y..M",
        "MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM"
      ],
      "palettes": [ "aftershock_crashing_ship" ],
      "furniture": {
        "L": "f_locker",
        "E": "f_locker",
        "e": "f_gun_safe_el",
        "B": "f_bunkbed",
        "f": "f_foot_locker",
        "b": "f_bench",
        "s": "f_shower",
        "T": "f_toilet",
        "w": "f_workbench",
        "S": "f_sink",
        "t": "f_table",
        "V": "f_vending_reinforced",
        "C": "f_crate_c",
        "1": "f_arcfurnace_empty",
        "2": "f_hydraulic_press",
        "3": "f_air_compressor",
        "4": "f_drill_press",
        "9": "f_heavy_lathe",
        "K": "f_beverly_shear",
        "H": "f_exo_gantry",
        "5": "f_machinery_electronic",
        "6": "f_machinery_light",
        "7": "f_machinery_heavy",
        "8": "f_machinery_old",
        "$": "f_console_broken",
        "z": "f_afs_escape_pod_seat",
        "v": "f_wreckage",
        "(": "f_console",
        "%": "f_console",
        "^": "f_console",
        "[": "f_afs_shuttle_seat"
      },
      "terrain": {
        "Y": "t_bridge",
        "!": "t_card_locker_room",
        "@": "t_card_armory_room",
        "#": "t_card_exobay_room",
        "*": "t_metal_floor_olight",
        "u": "t_afs_space_ship_hatch_c",
        "U": "t_afs_shuttlepod_g",
        "M": "t_afs_space_ship_hull_wall",
        "D": "t_door_metal_c",
        "g": "t_door_glass_frosted_c",
        "d": "t_door_metal_locked",
        "c": "t_metal_floor",
        "x": "t_metal_floor",
        "F": "t_metal_floor",
        "J": "t_chainfence",
        "j": "t_chaingate_l",
        "W": "t_reinforced_glass_shutter",
        "P": "t_foamcrete_wall_seal",
        "p": "t_foamcrete_floor_seal"
      },
      "place_zones": [ { "type": "ZONE_START_POINT", "faction": "your_followers", "x": 19, "y": 14 } ],
      "set": [ { "point": "trap", "id": "tr_escape_pod", "x": 68, "y": 42 } ],
      "mapping": {
        "e": { "items": [ { "item": "afs_ballistic_armory", "chance": 20 } ] },
        "z": { "traps": [ "tr_escape_pod", 1 ] },
        "L": {
          "items": [
            { "item": "gear_soldier_sidearm", "chance": 33 },
            { "item": "book_military", "chance": 20 },
            { "item": "afs_plastic_armor_g", "chance": 33 },
            { "item": "afs_carbide_raider_armor_g", "chance": 10 },
            { "item": "mil_armor", "chance": 10 },
            { "item": "afs_colonist_outfit", "chance": 75, "repeat": [ 3, 5 ] },
            { "item": "drugs_soldier", "chance": 25 },
            { "item": "tools_survival", "chance": 60 }
          ]
        },
        "r": {
          "items": [
            { "item": "afs_tools_scavenging", "chance": 60 },
            { "item": "afs_tools_robot_maintenance", "chance": 10 },
            { "item": "afs_tools_electric_repair", "chance": 10 }
          ]
        },
        "T": { "items": [ { "item": "afs_todd_howard", "chance": 1 } ] },
        "c": { "items": [ { "item": "afs_escapepod_shootout", "chance": 100, "container-item": "corpse" } ] },
        "C": {
          "items": [
            { "item": "hardware_bulk", "chance": 25 },
            { "item": "plumbing_bulk", "chance": 25 },
            { "item": "sports_bulk", "chance": 25 },
            { "item": "cleaning_bulk", "chance": 25 }
          ]
        },
        "E": { "items": [ { "item": "afs_tools_space_emergency", "chance": 100 } ] },
        "w": { "items": [ { "item": "office_mess", "chance": 75 } ] },
        "t": { "items": [ { "item": "afs_mess_hall", "chance": 80 } ] },
        "V": { "items": [ { "item": "afs_vending_false_meals", "chance": 100 } ] },
        "H": { "items": [ { "item": "afs_exosuit_worker", "chance": 75 } ] }
      },
      "place_loot": [
        { "item": "crashing_ship_locker_card", "x": [ 16, 22 ], "y": [ 9, 15 ], "chance": 100 },
        { "item": "crashing_ship_armory_card", "x": [ 1, 7 ], "y": 1, "chance": 100 },
        { "item": "crashing_ship_exobay_card", "x": [ 16, 22 ], "y": [ 9, 15 ], "chance": 100 },
        { "item": "electrohack", "x": [ 1, 7 ], "y": [ 1, 1 ], "chance": 100 },
        { "group": "ammo_light_batteries_full", "x": [ 1, 7 ], "y": [ 1, 1 ], "chance": 300 },
        { "group": "afs_escapepod_shootout_corpse", "x": 54, "y": 28 },
        { "group": "afs_escapepod_shootout_corpse", "x": 52, "y": 32 }
      ],
      "place_rubble": [ { "x": [ 1, 4 ], "y": [ 24, 29 ], "repeat": [ 5, 20 ] } ],
      "place_item": [
        { "item": "afs_set_us_up_the_bomb_act", "x": 59, "y": 8, "amount": 1, "custom-flags": [ "ACTIVATE_ON_PLACE" ] },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 25,
          "y": 71,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 1,
          "y": 16,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 30,
          "y": 4,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 69,
          "y": 37,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 41,
          "y": 62,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 60,
          "y": 57,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 17,
          "y": 42,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 7,
          "y": 68,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        },
        {
          "item": "afs_set_us_up_the_bomb_act",
          "x": 40,
          "y": 31,
          "amount": 1,
          "custom-flags": [ "ACTIVATE_ON_PLACE" ]
        }
      ],
      "place_graffiti": [
        { "text": "Barracks", "x": 10, "y": 23 },
        { "text": "Barracks", "x": 13, "y": 23 },
        { "text": "Cargo Bay 01", "x": 24, "y": 23 },
        { "text": "Cargo Bay 01", "x": 47, "y": 23 },
        { "text": "Workshop", "x": 61, "y": 23 },
        { "text": "Workshop", "x": 57, "y": 23 },
        { "text": "Shuttle Bay 01", "x": 24, "y": 27 },
        { "text": "Shuttle Bay 01", "x": 47, "y": 27 },
        { "text": "Escape Pods & Vehicle Bay", "x": 58, "y": 27 },
        { "text": "Escape Pods & Vehicle Bay", "x": 61, "y": 27 }
      ],
      "fields": { "F": { "field": "fd_fire", "intensity": 3, "age": 1 }, "x": { "field": "fd_blood", "intensity": 3 } },
      "computers": { "^": { "name": "Escape Pod", "security": 0, "options": [ { "name": "Ready Escape Pod", "action": "unlock" } ] } }
    }
  },
  {
    "id": "afs_set_us_up_the_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "ship self-destruct system" },
    "description": "You shouldn't be seeing this!",
    "weight": "1 g",
    "volume": "1 ml",
    "price": 0,
    "material": [ "steel" ],
    "looks_like": "t_foamcrete_wall_seal",
    "symbol": " ",
    "color": "white",
    "explode_in_fire": false,
    "explosion": { "power": 90000000, "shrapnel": { "casing_mass": 1200000, "fragment_mass": 60000 } },
    "use_action": {
      "target": "afs_set_us_up_the_bomb_act",
      "target_timer": "420 seconds",
      "menu_text": "Activate fuze",
      "type": "transform"
    },
    "flags": [ "BOMB", "HIDDEN_ITEM" ]
  },
  {
    "id": "afs_set_us_up_the_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active ship self-destruct system" },
    "description": "You shouldn't be seeing this!",
    "weight": "1 g",
    "volume": "1 ml",
    "price": 0,
    "material": [ "steel" ],
    "looks_like": "t_foamcrete_wall_seal",
    "symbol": " ",
    "color": "white",
    "explode_in_fire": false,
    "use_action": { "type": "message", "message": "You should be running!" },
    "countdown_action": {
      "type": "explosion",
      "explosion": { "power": 90000000, "shrapnel": { "casing_mass": 1260000, "fragment_mass": 60000 } }
    },
    "flags": [ "BOMB", "HIDDEN_ITEM" ]
  }
]
