[
  {
    "type": "material",
    "id": "mag_awakened_water",
    "name": "Awakened Water",
    "//": "Dilluted mana components mixed with water. Enacted by a druid's rune.",
    "copy-from": "water"
  },
  {
    "type": "ammunition_type",
    "id": "mag_awakened_water",
    "name": "Awakened Water",
    "default": "mag_awakened_water"
  },
  {
    "id": "mag_awakened_water",
    "type": "ITEM",
    "subtypes": [ "AMMO" ],
    "name": { "str_sp": "glowing awakened water" },
    "description": "A nutrient-rich elixir for wildwood entities. No longer fit for consumption.",
    "category": "fuel",
    "weight": "750 mg",
    "volume": "200ml",
    "price": "2 USD",
    "price_postapoc": "20 cent",
    "phase": "liquid",
    "container": "bottle_gourd",
    "material": [ "mag_awakened_water" ],
    "symbol": "=",
    "color": "light_blue",
    "count": 225,
    "stack_size": 20,
    "ammo_type": "mag_awakened_water"
  },
  {
    "id": "mag_sealed_glowing_gourd",
    "type": "ITEM",
    "subtypes": [ "ARMOR" ],
    "category": "clothing",
    "name": { "str_sp": "sealed glowing gourd" },
    "description": "A gourd sealed with a druid's rune.  You may harvest the liquid inside when it's done brewing.",
    "weight": "2550 g",
    "volume": "2500 ml",
    "material": [ "wood" ],
    "symbol": "6",
    "color": "brown",
    "use_action": {
      "target": "mag_awakened_water",
      "msg": "The rune cracks as you open the gourd and collect the liquid.",
      "container": "bottle_gourd",
      "target_charges": 225,
      "moves": 50,
      "type": "delayed_transform",
      "transform_age": 28800,
      "not_ready_msg": "The liquid isn't done brewing yet."
    },
    "flags": [ "BELTED", "OVERSIZE", "WATER_FRIENDLY", "TRADER_AVOID" ],
    "armor": [
      {
        "material": [ { "type": "wood", "covered_by_mat": 100, "thickness": 2.0 } ],
        "encumbrance": 3,
        "coverage": 8,
        "covers": [ "torso" ],
        "specifically_covers": [ "torso_hanging_front" ]
      }
    ]
  },
  {
    "abstract": "mag_wildwood",
    "type": "ITEM",
    "name": "abstract wildwood doodad",
    "subtypes": [ "TOOL", "ARMOR" ],
    "description": { "str": "A generic wildwood doodad used" },
    "warmth": 0,
    "material": [ "wood", "veggy" ],
    "symbol": "x",
    "color": "light_green",
    "max_worn": 1
  },
  {
    "id": "mag_pseudo_weaver",
    "copy-from": "fake_item",
    "type": "ITEM",
    "subtypes": [ "TOOL" ],
    "name": { "str": "Wildwood Weaver" },
    "sub": "sewing_kit",
    "qualities": [ [ "SEW", 4 ], [ "SEW_CURVED", 1 ], [ "KNIT", 1 ], [ "LEATHER_AWL", 2 ], [ "CUT", 2 ], [ "FABRIC_CUT", 2 ] ],
    "tool_ammo": [ "mag_awakened_water" ],
    "charges_per_use": 1,
    "use_action": [
      {
        "type": "repair_item",
        "item_action_type": "repair_fabric",
        "materials": [
          "cotton",
          "leather",
          "lycra",
          "nylon",
          "wool",
          "fur",
          "faux_fur",
          "nomex",
          "kevlar",
          "kevlar_layered",
          "neoprene",
          "parabolan_wool",
          "gutskin",
          "canvas",
          "black_dragon_hide",
          "demon_chitin"
        ],
        "skill": "tailor",
        "tool_quality": 1,
        "cost_scaling": 0.1,
        "move_cost": 300
      },
      [ "PLAY_GAME" ]
    ]
  },
  {
    "id": "mag_immature_weaver",
    "type": "ITEM",
    "subtypes": [ "TOOL", "ARMOR" ],
    "copy-from": "mag_wildwood",
    "name": { "str": "immature wildwood weaver" },
    "sub": "sewing_kit",
    "description": "This weaver is immature, it needs to be fed with awakened water to grow. It listfully observes it's surroundings.",
    "weight": "50 g",
    "volume": "125 ml",
    "sided": true,
    "flags": [
      "AURA",
      "STURDY",
      "ONE_PER_LAYER",
      "WATER_FRIENDLY",
      "ALLOWS_NATURAL_ATTACKS",
      "OVERSIZE",
      "ALLOWS_REMOTE_USE",
      "PADDED"
    ],
    "armor": [ { "coverage": 0, "covers": [ "hand_l", "hand_r" ], "specifically_covers": [ "hand_wrist_l", "hand_wrist_r" ] } ],
    "tool_ammo": [ "mag_awakened_water" ],
    "qualities": [ [ "SEW", 4 ], [ "SEW_CURVED", 1 ], [ "KNIT", 1 ], [ "LEATHER_AWL", 2 ] ],
    "pocket_data": [ { "pocket_type": "MAGAZINE", "rigid": true, "watertight": true, "ammo_restriction": { "mag_awakened_water": 350 } } ],
    "use_action": [
      {
        "target": "mag_adult_weaver",
        "msg": "The %s matures. Another pair of legs sharpen into blades for cutting fabric. It still has some room to grow.",
        "active": true,
        "need_charges": 350,
        "need_charges_msg": "The weaver does not have enough liquid.",
        "type": "delayed_transform",
        "transform_age": 432000,
        "not_ready_msg": "The weaver isn't done growing yet."
      },
      {
        "type": "repair_item",
        "item_action_type": "repair_fabric",
        "materials": [
          "cotton",
          "leather",
          "lycra",
          "nylon",
          "wool",
          "fur",
          "faux_fur",
          "nomex",
          "kevlar",
          "kevlar_layered",
          "neoprene",
          "parabolan_wool",
          "gutskin",
          "canvas",
          "black_dragon_hide",
          "demon_chitin"
        ],
        "skill": "tailor",
        "tool_quality": 1,
        "cost_scaling": 0.1,
        "move_cost": 700
      }
    ]
  },
  {
    "id": "mag_adult_weaver",
    "type": "ITEM",
    "subtypes": [ "TOOL", "ARMOR" ],
    "name": { "str": "adult wildwood weaver" },
    "sub": "sewing_kit",
    "copy-from": "mag_immature_weaver",
    "description": "This weaver is fully grown. There's no light behind it's eyes, yet.",
    "extend": { "qualities": [ [ "CUT", 2 ], [ "FABRIC_CUT", 2 ] ] },
    "pocket_data": [ { "pocket_type": "MAGAZINE", "rigid": true, "watertight": true, "ammo_restriction": { "mag_awakened_water": 300 } } ],
    "use_action": [
      {
        "target": "mag_awoken_weaver",
        "msg": "The %s awakens. It gazes at you with its many eyes, ready to serve you.",
        "active": true,
        "need_charges": 300,
        "need_charges_msg": "The weaver does not have enough liquid.",
        "type": "delayed_transform",
        "transform_age": 432000,
        "not_ready_msg": "The weaver isn't done growing yet."
      },
      {
        "type": "repair_item",
        "item_action_type": "repair_fabric",
        "materials": [
          "cotton",
          "leather",
          "lycra",
          "nylon",
          "wool",
          "fur",
          "faux_fur",
          "nomex",
          "kevlar",
          "kevlar_layered",
          "neoprene",
          "parabolan_wool",
          "gutskin",
          "canvas",
          "black_dragon_hide",
          "demon_chitin"
        ],
        "skill": "tailor",
        "tool_quality": 1,
        "cost_scaling": 0.1,
        "move_cost": 500
      }
    ]
  },
  {
    "id": "mag_awoken_weaver",
    "type": "ITEM",
    "subtypes": [ "TOOL", "ARMOR", "ARTIFACT" ],
    "name": { "str": "awoken wildwood weaver" },
    "sub": "sewing_kit",
    "description": "You never thought you'd see the day when a wildwood entity would be so playful and docile.  This weaver is ready to serve you, and can be used to repair clothing or create a shelter.",
    "copy-from": "mag_adult_weaver",
    "passive_effects": [ { "has": "WORN", "condition": "ALWAYS", "skills": [ { "value": "tailor", "add": 1 } ] } ],
    "pocket_data": [ { "pocket_type": "MAGAZINE", "rigid": true, "watertight": true, "ammo_restriction": { "mag_awakened_water": 250 } } ],
    "charges_per_use": 1,
    "use_action": [
      {
        "type": "repair_item",
        "item_action_type": "repair_fabric",
        "materials": [
          "cotton",
          "leather",
          "lycra",
          "nylon",
          "wool",
          "fur",
          "faux_fur",
          "nomex",
          "kevlar",
          "kevlar_layered",
          "neoprene",
          "parabolan_wool",
          "gutskin",
          "canvas",
          "black_dragon_hide",
          "demon_chitin"
        ],
        "skill": "tailor",
        "tool_quality": 1,
        "cost_scaling": 0.1,
        "move_cost": 300
      },
      [ "PLAY_GAME" ]
    ]
  },
  {
    "type": "construction_group",
    "id": "build_weaver",
    "name": "Put Wildwood Weaver down"
  },
  {
    "type": "construction_group",
    "id": "build_web",
    "name": "Spin webs with a Wildwood Weaver"
  },
  {
    "type": "construction",
    "id": "constr_magiclysm_weaver",
    "group": "build_weaver",
    "category": "APPLIANCE",
    "required_skills": [ [ "fabrication", 1 ] ],
    "time": "1 m",
    "components": [ [ [ "mag_awoken_weaver", 1 ] ] ],
    "dark_craftable": true,
    "pre_special": "check_empty",
    "post_special": "done_appliance",
    "activity_level": "NO_EXERCISE"
  },
  {
    "id": "wildwood_weaver_shelter",
    "breaks_into": [
      { "count": 1, "item": "mag_brokeweaver" },
      { "count": [ 1, 5 ], "item": "scrap_cotton" },
      { "count": [ 4, 20 ], "item": "mag_awakened_water" }
    ],
    "categories": [ "utility" ],
    "color": "green",
    "description": "A test of deploying a weaver",
    "durability": 15,
    "flags": [ "BED", "OPAQUE", "BOARDABLE", "NONBELTABLE", "APPLIANCE", "EXTRA_DRAG", "NO_INSTALL_HIDDEN", "HUGE_OK", "ROOF" ],
    "pseudo_tools": [
      { "id": "spinwheelitem" },
      { "id": "mag_pseudo_weaver" },
      { "id": "scutcheritem" },
      { "id": "loom_frame" },
      { "id": "shed_stick" },
      { "id": "towel", "hotkey": "t" }
    ],
    "item": "mag_awoken_weaver",
    "location": "center",
    "looks_like": "t_leanto",
    "name": { "str": "awoken weaver shelter" },
    "type": "vehicle_part",
    "variants": [ { "symbols": "&", "symbols_broken": "x" } ]
  },
  {
    "type": "ITEM",
    "id": "mag_brokeweaver",
    "subtypes": [ "ARTIFACT" ],
    "symbol": ";",
    "color": "green",
    "name": { "str": "small damaged weaver" },
    "description": "A tiny broken weaver. It's legs bent and broken, it can no longer be used to repair clothing or create a shelter.",
    "material": [ "wood", "veggy" ],
    "weight": "50 g",
    "volume": "125 ml",
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "result": "mag_awoken_weaver",
    "category": "CC_ENCHANTED",
    "subcategory": "CSC_ENCHANTED_ENCHANTING",
    "skill_used": "spellcraft",
    "difficulty": 2,
    "time": "5 m",
    "autolearn": true,
    "qualities": [ { "id": "MANA_INFUSE", "level": 1 } ],
    "using": [ [ "mana_energy_weak", 1 ] ],
    "components": [ [ [ "mag_brokeweaver", 1 ] ], [ [ "rune_druid", 1 ] ], [ [ "mag_awakened_water", 50 ] ] ]
  },
  {
    "type": "recipe",
    "activity_level": "NO_EXERCISE",
    "result": "mag_immature_weaver",
    "category": "CC_ENCHANTED",
    "subcategory": "CSC_ENCHANTED_ENCHANTING",
    "skill_used": "spellcraft",
    "difficulty": 2,
    "skills_required": [ "fabrication", 2 ],
    "time": "1 m",
    "autolearn": true,
    "qualities": [ { "id": "MANA_INFUSE", "level": 1 } ],
    "using": [ [ "mana_energy_weak", 2 ] ],
    "components": [
      [ [ "enchanted_wood", 2 ] ],
      [ [ "rune_druid", 1 ] ],
      [ [ "mag_awakened_water", 100 ] ],
      [ [ "tallow", 1 ], [ "wax_any", 1, "LIST" ], [ "candle", 1 ] ]
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "result": "mag_sealed_glowing_gourd",
    "category": "CC_ENCHANTED",
    "subcategory": "CSC_ENCHANTED_ENCHANTING",
    "skill_used": "spellcraft",
    "difficulty": 2,
    "skills_required": [ "cooking", 2 ],
    "time": "1 m",
    "autolearn": true,
    "qualities": [ { "id": "MANA_INFUSE", "level": 1 } ],
    "using": [ [ "mana_energy_weak", 2 ] ],
    "components": [ [ [ "bottle_gourd", 1 ] ], [ [ "rune_druid", 1 ] ], [ [ "water", 9 ], [ "water_clean", 9 ] ] ]
  }
]
