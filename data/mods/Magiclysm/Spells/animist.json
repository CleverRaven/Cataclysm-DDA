[
  {
    "id": "smite",
    "type": "SPELL",
    "name": "Smite",
    "description": "Evil has become pervasive throughout the world.  Let your power be the light that shines in the darkness!",
    "valid_targets": [ "hostile" ],
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(10, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(200, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(15, 0.08)" ] },
    "min_range": 1,
    "max_range": 1,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 160,
    "final_casting_time": 40,
    "casting_time_increment": -8,
    "base_energy_cost": 400,
    "final_energy_cost": 200,
    "energy_increment": -14,
    "spell_class": "ANIMIST",
    "difficulty": 8,
    "max_level": 15,
    "damage_type": "light",
    "flags": [ "VERBAL", "LOUD", "NO_HANDS" ],
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "energy_source": "MANA"
  },
  {
    "id": "recover_mana",
    "type": "SPELL",
    "name": "Life Conversion",
    "description": "You channel lifeforce itself into your spiritual energy.  You consume a rune to regain mana.",
    "valid_targets": [ "self" ],
    "min_damage": { "math": [ "channeling_proficiency_bonus_calculate(75, 1)" ] },
    "damage_increment": { "math": [ "channeling_proficiency_bonus_calculate(15, 0.03)" ] },
    "max_damage": { "math": [ "channeling_proficiency_bonus_calculate(600, 1)" ] },
    "max_level": 35,
    "effect": "recover_energy",
    "effect_str": "MANA",
    "shape": "blast",
    "spell_class": "ANIMIST",
    "energy_source": "MANA",
    "components": "spell_components_rune_animist",
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(500, 4)" ] },
    "flags": [ "SOMATIC", "VERBAL", "SILENT", "NO_LEGS", "CONSUMES_RUNES" ],
    "extra_effects": [ { "id": "eoc_channeling_setup" } ],
    "difficulty": 3
  },
  {
    "id": "recover_pain",
    "type": "SPELL",
    "name": "Mind over Pain",
    "description": "With an intense ritual that resembles crossfit, you manage to put some of your pain at bay.",
    "valid_targets": [ "self" ],
    "min_damage": { "math": [ "channeling_proficiency_bonus_calculate(10, 1)" ] },
    "max_damage": { "math": [ "channeling_proficiency_bonus_calculate(100, 1)" ] },
    "damage_increment": { "math": [ "channeling_proficiency_bonus_calculate(2.0, 0.022)" ] },
    "max_level": 45,
    "spell_class": "ANIMIST",
    "effect": "recover_energy",
    "effect_str": "PAIN",
    "shape": "blast",
    "energy_source": "STAMINA",
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(50000, 100)" ] },
    "base_energy_cost": 5000,
    "energy_increment": 500.0,
    "flags": [ "SOMATIC", "VERBAL", "PAIN_NORESIST" ],
    "extra_effects": [ { "id": "eoc_channeling_setup" } ],
    "final_energy_cost": 10000
  },
  {
    "id": "summon_undead",
    "type": "SPELL",
    "name": "Summon Undead",
    "description": "An ethereal-looking undead rises from the depths of the earth to fight for you.  The type of undead you summon get deadlier with increasing spell level.",
    "valid_targets": [ "self" ],
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 35,
    "difficulty": 3,
    "spell_class": "ANIMIST",
    "effect": "effect_on_condition",
    "effect_str": "EOC_SUMMON_ZOMBIE",
    "components": "spell_components_rune_animist",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 400,
    "base_casting_time": { "math": [ "summoning_proficiency_negate_calculate(3000, 20)" ] },
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE", "CONSUMES_RUNES" ],
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(36000, 30)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1080000, 30)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.034)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SUMMON_ZOMBIE",
    "effect": {
      "switch": { "math": [ "u_spell_level('summon_undead')" ] },
      "cases": [
        { "case": 0, "effect": { "u_cast_spell": { "id": "summon_zombie" } } },
        { "case": 7, "effect": { "u_cast_spell": { "id": "summon_tough_zombie" } } },
        { "case": 14, "effect": { "u_cast_spell": { "id": "summon_zombie_brute" } } },
        { "case": 21, "effect": { "u_cast_spell": { "id": "summon_skeleton" } } },
        { "case": 28, "effect": { "u_cast_spell": { "id": "summon_skeleton_brute" } } },
        { "case": 35, "effect": { "u_cast_spell": { "id": "summon_skeleton_hulk" } } }
      ]
    }
  },
  {
    "abstract": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Abstract Summon Zombie",
    "description": "Abstract of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 35,
    "effect": "summon",
    "shape": "blast",
    "min_range": 3,
    "max_range": 3,
    "min_aoe": 2,
    "max_aoe": 2,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(36000, 30)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1080000, 30)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.034)" ] }
  },
  {
    "id": "summon_zombie",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Zombie",
    "description": "Summon a zombie.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zombie",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(216000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(216000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.16)" ] }
  },
  {
    "id": "summon_tough_zombie",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Tough Zombie",
    "description": "Summon a tough zombie.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zombie_tough",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(468000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(468000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.08)" ] }
  },
  {
    "id": "summon_zombie_brute",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Zombie Brute",
    "description": "Summon a zombie brute.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zombie_brute",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(720000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(720000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.05)" ] }
  },
  {
    "id": "summon_skeleton",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Skeleton Zombie",
    "description": "Summon a skeleton zombie.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_skeleton",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(972000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(972000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.04)" ] }
  },
  {
    "id": "summon_skeleton_brute",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Skeletal Brute",
    "description": "Summon a skeletal brute.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_skeleton_brute",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.03)" ] }
  },
  {
    "id": "summon_skeleton_hulk",
    "copy-from": "summon_abstract_zombie",
    "type": "SPELL",
    "name": "Summon Skeletal Juggernaut",
    "description": "Summon a skeletal juggernaut.  Part of Summon Undead spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_skeleton_hulk",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.03)" ] }
  },
  {
    "id": "summon_undead_swarm",
    "type": "SPELL",
    "name": "Summon Undead Swarm",
    "description": "A group of undead animals rises from the depths of the earth to fight for you.  The type of undead you summon get deadlier with increasing spell level.",
    "valid_targets": [ "self" ],
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 35,
    "difficulty": 3,
    "spell_class": "ANIMIST",
    "effect": "effect_on_condition",
    "effect_str": "EOC_SUMMON_ZOMBIE_SWARM",
    "components": "spell_components_rune_animist_3",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(600, 3)" ] },
    "base_casting_time": { "math": [ "summoning_proficiency_negate_calculate(3000, 20)" ] },
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE", "CONSUMES_RUNES" ],
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(36000, 40)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1080000, 40)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.034)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SUMMON_ZOMBIE_SWARM",
    "effect": {
      "switch": { "math": [ "u_spell_level('summon_undead')" ] },
      "cases": [
        { "case": 0, "effect": { "u_cast_spell": { "id": "summon_zombie_dog" } } },
        { "case": 5, "effect": { "u_cast_spell": { "id": "summon_dog_skeleton" } } },
        { "case": 10, "effect": { "u_cast_spell": { "id": "summon_zougar" } } },
        { "case": 15, "effect": { "u_cast_spell": { "id": "summon_wolf_skeleton" } } },
        { "case": 20, "effect": { "u_cast_spell": { "id": "summon_dog_zombie_brute" } } },
        { "case": 25, "effect": { "u_cast_spell": { "id": "summon_dog_skeleton_brute" } } },
        { "case": 30, "effect": { "u_cast_spell": { "id": "summon_dog_zombie_hulk" } } },
        { "case": 35, "effect": { "u_cast_spell": { "id": "summon_zougar_hunter" } } }
      ]
    }
  },
  {
    "abstract": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Abstract Summon Swarm",
    "description": "Abstract of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "min_damage": 3,
    "max_damage": 3,
    "max_level": 35,
    "effect": "summon",
    "shape": "blast",
    "min_range": 3,
    "max_range": 3,
    "min_aoe": 2,
    "max_aoe": 2,
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(36000, 30)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1080000, 30)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.034)" ] }
  },
  {
    "id": "summon_zombie_dog",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Zombie Dog",
    "description": "Summon a zombie dog.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zombie_dog",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(144000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(144000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.25)" ] }
  },
  {
    "id": "summon_dog_skeleton",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Skeletal Dog",
    "description": "Summon a skeletal dog.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_dog_skeleton",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(324000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(324000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.11)" ] }
  },
  {
    "id": "summon_zougar",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Decayed Pouncer",
    "description": "Summon a decayed pouncer.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zougar",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(504000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(504000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.07)" ] }
  },
  {
    "id": "summon_wolf_skeleton",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Skeletal Wolf",
    "description": "Summon a skeletal wolf.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_wolf_skeleton",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(684000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(684000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.052)" ] }
  },
  {
    "id": "summon_dog_zombie_brute",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Barghest",
    "description": "Summon a barghest.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_dog_zombie_brute",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(864000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(864000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.04)" ] }
  },
  {
    "id": "summon_dog_skeleton_brute",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Boneplate Wolf",
    "description": "Summon a boneplate wolf.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_dog_skeleton_brute",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(1044000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1044000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.04)" ] }
  },
  {
    "id": "summon_dog_zombie_hulk",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Hulking Horror",
    "description": "Summon a Hulking Horror.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_dog_zombie_hulk",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.03)" ] }
  },
  {
    "id": "summon_zougar_hunter",
    "copy-from": "summon_abstract_swarm",
    "type": "SPELL",
    "name": "Summon Spearcat Hunter",
    "description": "Summon a spearcat hunter.  Part of Summon Undead Swarm spell.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_zougar_hunter",
    "max_level": 35,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1260000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(36000, 0.03)" ] }
  },
  {
    "id": "necrotic_gaze",
    "type": "SPELL",
    "name": "Necrotic Gaze",
    "description": "Using the power of blood contained within a rune, you imbue necrotic energy into your gaze, damaging the target you look at.",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "shape": "line",
    "spell_class": "ANIMIST",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC", "NO_PROJECTILE", "NO_HANDS", "CONSUMES_RUNES" ],
    "components": "spell_components_rune_animist",
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(10, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(160, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(6, 0.04)" ] },
    "min_range": 3,
    "max_range": 5,
    "range_increment": 0.1,
    "max_level": 25,
    "difficulty": 3,
    "base_casting_time": 100,
    "min_aoe": 1,
    "max_aoe": 3,
    "aoe_increment": 0.1,
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "damage_type": "necrotic"
  },
  {
    "id": "create_rune_animist",
    "type": "SPELL",
    "name": { "str": "Animist Rune" },
    "description": "Performing a ritual, you turn some of your blood into an animist rune.  You can use the rune to summon creatures, or as a catalyst for recipes.",
    "valid_targets": [ "self" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "rune_animist",
    "shape": "blast",
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(5000, 10)" ] },
    "base_energy_cost": 5,
    "min_duration": 1,
    "max_duration": 2,
    "duration_increment": 1,
    "difficulty": 0,
    "max_level": 0,
    "spell_class": "ANIMIST",
    "energy_source": "HP",
    "//": "I'm not sure if this should train anything, since it's an innate ability.",
    "extra_effects": [ { "id": "eoc_channeling_setup" } ],
    "flags": [ "PERMANENT", "NO_LEGS", "CONCENTRATE" ]
  },
  {
    "id": "dominate",
    "type": "SPELL",
    "name": "Domination",
    "description": "Force the undead creature you pick to obey your command, making it your ally for a short time.",
    "valid_targets": [ "hostile" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "SILENT", "CONSUMES_RUNES" ],
    "effect": "charm_monster",
    "targeted_monster_species": [ "ZOMBIE" ],
    "components": "spell_components_rune_animist_3",
    "shape": "blast",
    "message": "",
    "min_damage": 80,
    "max_damage": 280,
    "damage_increment": 10,
    "min_range": 4,
    "max_range": 26,
    "range_increment": 1.1,
    "base_energy_cost": { "math": [ "channeling_proficiency_negate_calculate(400, 1)" ] },
    "spell_class": "ANIMIST",
    "difficulty": 6,
    "max_level": 20,
    "min_aoe": 0,
    "max_aoe": 1,
    "aoe_increment": 0.1,
    "min_duration": 36000,
    "max_duration": 1080000,
    "duration_increment": 36000,
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(300, 1)" ] },
    "final_casting_time": { "math": [ "channeling_proficiency_negate_calculate(30, 1)" ] },
    "casting_time_increment": { "math": [ "channeling_proficiency_negate_calculate(-14, 0.051)" ] },
    "extra_effects": [ { "id": "eoc_channeling_setup" } ],
    "energy_source": "MANA"
  },
  {
    "id": "life_detonation",
    "type": "SPELL",
    "name": "Life Detonation",
    "description": "Force life energy into an allied undead, making them explode with tremendous force.",
    "valid_targets": [ "ally" ],
    "targeted_monster_species": [ "ZOMBIE" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "ANIMIST",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC", "NO_PROJECTILE", "NO_HANDS", "PERCENTAGE_DAMAGE" ],
    "min_damage": 100,
    "max_damage": 100,
    "min_range": 10,
    "max_range": 50,
    "range_increment": 1.6,
    "max_level": 25,
    "difficulty": 5,
    "base_casting_time": 150,
    "final_casting_time": 30,
    "casting_time_increment": -5,
    "base_energy_cost": 300,
    "energy_source": "MANA",
    "damage_type": "necrotic",
    "extra_effects": [ { "id": "life_detonation_explosion" }, { "id": "eoc_evocation_setup" } ]
  },
  {
    "id": "life_detonation_explosion",
    "type": "SPELL",
    "name": "Life Detonation Explosion",
    "description": "Detonation for life detonation spell.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "SILENT" ],
    "effect": "attack",
    "shape": "blast",
    "message": "",
    "damage_type": "poison",
    "//": "would be cool to make it deal damage the same as hp of the monster, but not possible sadly",
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(20, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(180, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(6.4, 0.04)" ] },
    "spell_class": "ANIMIST",
    "difficulty": 5,
    "max_level": 25,
    "min_aoe": 2,
    "max_aoe": 11,
    "aoe_increment": 0.4
  },
  {
    "id": "convert",
    "type": "SPELL",
    "name": "Convert",
    "description": "Kill an allied creature, converting its life energy into a compact rune that you can use afterwards.",
    "valid_targets": [ "ally" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "SILENT", "PERCENTAGE_DAMAGE" ],
    "effect": "attack",
    "shape": "blast",
    "message": "",
    "min_damage": 100,
    "max_damage": 100,
    "min_range": 10,
    "max_range": 10,
    "base_energy_cost": 250,
    "spell_class": "ANIMIST",
    "difficulty": 4,
    "max_level": 10,
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(30000, 10)" ] },
    "final_casting_time": { "math": [ "channeling_proficiency_negate_calculate(1000, 10)" ] },
    "casting_time_increment": { "math": [ "channeling_proficiency_negate_calculate(-200, 0.007)" ] },
    "energy_source": "MANA",
    "extra_effects": [ { "id": "create_rune_animist", "hit_self": true }, { "id": "eoc_channeling_setup" } ]
  },
  {
    "id": "soulrend",
    "type": "SPELL",
    "name": "Soulrend",
    "description": "Violently tears the spirit from the body and binds the resulting shade to your will.",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "NO_LEGS", "LOUD", "SOMATIC", "POLYMORPH_GROUP", "FRIENDLY_POLY", "NO_HANDS" ],
    "effect": "targeted_polymorph",
    "effect_str": "GROUP_POLYMORPH_SHADOW",
    "shape": "blast",
    "spell_class": "ANIMIST",
    "energy_source": "MANA",
    "difficulty": 15,
    "min_damage": 40,
    "max_damage": 140,
    "damage_increment": 2.5,
    "max_level": 40,
    "base_casting_time": { "math": [ "summoning_proficiency_negate_calculate(200, 1)" ] },
    "casting_time_increment": { "math": [ "summoning_proficiency_negate_calculate(-2.0, 0.025)" ] },
    "final_casting_time": { "math": [ "summoning_proficiency_negate_calculate(120, 1)" ] },
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(200, 1)" ] },
    "min_range": 3,
    "max_range": 6,
    "extra_effects": [ { "id": "eoc_summon_setup" } ],
    "range_increment": 0.2
  },
  {
    "id": "disruption_bolt",
    "type": "SPELL",
    "name": "Disruption Bolt",
    "description": "Release a resonant bolt of spiritual energy at a nearby target.  It will disrupt the natural link between matter and animus, causing heavy, non-lethal damage.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "PERCENTAGE_DAMAGE", "SILENT", "NO_PROJECTILE" ],
    "min_damage": 35,
    "damage_type": "necrotic",
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(1, 0.2)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(50, 0.2)" ] },
    "min_range": 2,
    "range_increment": 0.5,
    "max_range": 66,
    "base_energy_cost": 150,
    "energy_increment": -5.0,
    "final_energy_cost": 50,
    "spell_class": "ANIMIST",
    "difficulty": 3,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "attack",
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "learn_spells": { "soulrend": 20 }
  },
  {
    "id": "wrathful_spirits",
    "type": "SPELL",
    "name": "Wrathful Spirits",
    "description": "Grant brief corporality to orphaned spirits and allow them to fight under your command.",
    "valid_targets": [ "self", "ground" ],
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "max_level": 30,
    "difficulty": 1,
    "spell_class": "ANIMIST",
    "effect": "summon",
    "effect_str": "mon_magi_shadow",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(200, 1)" ] },
    "base_casting_time": { "math": [ "summoning_proficiency_negate_calculate(500, 2)" ] },
    "min_aoe": 3,
    "max_aoe": 3,
    "flags": [ "SOMATIC", "VERBAL" ],
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(3600, 8)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(12000, 8)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(1000, 0.12)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "id": "spirit_walk",
    "type": "SPELL",
    "name": "Spirit Walk",
    "description": "Momentarily plunge into the underworld and swap positions with any spirit you command.",
    "valid_targets": [ "ally" ],
    "targeted_monster_ids": [ "mon_wisp", "mon_shadow", "mon_magi_shadow", "mon_darkman", "mon_shadow_snake" ],
    "flags": [ "NO_LEGS", "LOUD", "SOMATIC", "SWAP_POS", "NO_PROJECTILE" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "ANIMIST",
    "energy_source": "MANA",
    "difficulty": 5,
    "max_level": 20,
    "base_casting_time": { "math": [ "enhancement_proficiency_negate_calculate(100, 0.33)" ] },
    "casting_time_increment": { "math": [ "enhancement_proficiency_negate_calculate(-2.5, 0.05)" ] },
    "final_casting_time": { "math": [ "enhancement_proficiency_negate_calculate(50, 0.33)" ] },
    "base_energy_cost": 300,
    "energy_increment": -5.0,
    "final_energy_cost": 200,
    "min_range": 5,
    "max_range": 15,
    "extra_effects": [ { "id": "eoc_enhancement_setup" } ],
    "range_increment": 1.0
  },
  {
    "id": "banishment_lesser",
    "type": "SPELL",
    "name": "Lesser Banishment",
    "description": "Banish a monster to a lesser-known nether dimension.  If a monster is more powerful than you can handle, the spell drains your life force to make up the difference.",
    "valid_targets": [ "hostile" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_HANDS" ],
    "effect": "banishment",
    "shape": "blast",
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(40, 0.7)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(10, 0.04)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(290, 0.7)" ] },
    "min_range": 6,
    "max_range": 6,
    "base_energy_cost": 600,
    "spell_class": "ANIMIST",
    "difficulty": 9,
    "max_level": 25,
    "base_casting_time": 100,
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "energy_source": "MANA"
  },
  {
    "id": "summon_wisps",
    "type": "SPELL",
    "name": "Ignus Fatuus",
    "description": "Summons ghostly foxfire worked from living marsh vapor to lead your enemies astray.  With more experience, this spell can conjure multiple ghost lights.",
    "valid_targets": [ "ground" ],
    "effect": "summon",
    "effect_str": "mon_wisp",
    "shape": "blast",
    "flags": [ "LOUD", "SOMATIC" ],
    "energy_source": "MANA",
    "spell_class": "ANIMIST",
    "difficulty": 2,
    "base_casting_time": 250,
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(300, 1)" ] },
    "max_level": 25,
    "min_damage": 1,
    "max_damage": 8,
    "damage_increment": 0.28,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_range": 3,
    "max_range": 7,
    "range_increment": 0.16,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(6000, 30)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(60000, 30)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(2160, 0.04)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "id": "bleed",
    "type": "SPELL",
    "name": "Bleed",
    "description": "Agitate old wounds on a creature, causing blood to ooze out of them.",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE", "NO_HANDS" ],
    "energy_source": "MANA",
    "spell_class": "ANIMIST",
    "difficulty": 2,
    "base_casting_time": 100,
    "base_energy_cost": 150,
    "damage_type": "necrotic",
    "max_level": 25,
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(1, 0.1)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(26, 0.1)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(1, 0.04)" ] },
    "min_range": 3,
    "max_range": 5,
    "range_increment": 0.1,
    "min_duration": 500,
    "max_duration": 1000,
    "duration_increment": 20,
    "min_dot": { "math": [ "evocation_proficiency_bonus_calculate(2, 0.2)" ] },
    "max_dot": { "math": [ "evocation_proficiency_bonus_calculate(52, 0.2)" ] },
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "dot_increment": 2
  },
  {
    "id": "animist_summon_decaying_boneclub",
    "type": "SPELL",
    "name": { "str": "Decaying Boneclub" },
    "description": "You link your living blood to dead bones, creating a club hungry for the flesh of the living.",
    "effect": "spawn_item",
    "effect_str": "decaying_boneclub",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "flags": [ "SOMATIC", "CONCENTRATE", "VERBAL" ],
    "components": "spell_components_decayingboneclub",
    "max_level": 15,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(2400, 30)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(360000, 30)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(24000, 0.07)" ] },
    "spell_class": "ANIMIST",
    "base_casting_time": 400,
    "base_energy_cost": 6,
    "energy_source": "HP",
    "learn_spells": { "animist_summon_decaying_boneclub_plus": 20 },
    "extra_effects": [ { "id": "eoc_summon_setup" } ],
    "difficulty": 6
  },
  {
    "id": "animist_summon_decaying_boneclub_plus",
    "type": "SPELL",
    "name": { "str": "Improved Decaying Boneclub" },
    "description": "You link your living blood to dead bones, creating a club hungry for the flesh of the living.  Now you know this spell like the back of your hand, and have started to design your own version.",
    "effect": "spawn_item",
    "effect_str": "decaying_boneclub",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_FAIL" ],
    "components": "spell_components_decayingboneclub",
    "max_level": 25,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(360000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(2160000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(72000, 0.04)" ] },
    "spell_class": "ANIMIST",
    "base_casting_time": { "math": [ "summoning_proficiency_negate_calculate(400, 1)" ] },
    "final_casting_time": { "math": [ "summoning_proficiency_negate_calculate(100, 1)" ] },
    "casting_time_increment": { "math": [ "summoning_proficiency_negate_calculate(-12, 0.04)" ] },
    "base_energy_cost": 6,
    "final_energy_cost": 3,
    "energy_increment": -0.2,
    "energy_source": "HP",
    "extra_effects": [ { "id": "eoc_summon_setup" } ],
    "difficulty": 7
  },
  {
    "id": "rupture",
    "type": "SPELL",
    "name": "Rupture",
    "description": "You pour mana into an unwilling and unprepared vessel, causing cellular break-down, internal hemorrhaging, muddling ley lines, and overcharging electronics.  Immensely gruesome and crude, it was once illegal world-wide, not that it matters now.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "hostile" ],
    "flags": [ "SOMATIC", "NO_PROJECTILE", "LOUD", "NO_HANDS" ],
    "max_level": 25,
    "min_range": 1,
    "range_increment": 0.1,
    "max_range": 3,
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(0, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(90, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(3.6, 0.04)" ] },
    "base_casting_time": 50,
    "base_energy_cost": 500,
    "final_energy_cost": 250,
    "energy_increment": -10,
    "spell_class": "ANIMIST",
    "min_duration": 1500,
    "max_duration": 0,
    "duration_increment": -60,
    "min_dot": 6,
    "max_dot": 6,
    "energy_source": "MANA",
    "difficulty": 3,
    "extra_effects": [ { "id": "eoc_evocation_setup" } ],
    "damage_type": "necrotic"
  },
  {
    "id": "devour",
    "type": "SPELL",
    "name": "Devour",
    "description": "Kill an allied creature, consuming its life energy to regain some health.",
    "valid_targets": [ "ally" ],
    "flags": [ "CONCENTRATE", "SOMATIC" ],
    "//": "added this min/max damage for player, so it will be visible how much hp would be healed.  ",
    "effect": "attack",
    "shape": "blast",
    "message": "",
    "min_damage": { "math": [ "evocation_proficiency_negate_calculate(-1, 0.1)" ] },
    "max_damage": { "math": [ "evocation_proficiency_negate_calculate(-10, 0.1)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_negate_calculate(-0.4, 0.044)" ] },
    "min_range": 10,
    "max_range": 10,
    "base_energy_cost": 250,
    "spell_class": "ANIMIST",
    "difficulty": 10,
    "max_level": 25,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [ { "id": "devour_damage" }, { "id": "devour_healing", "hit_self": true }, { "id": "eoc_evocation_setup" } ]
  },
  {
    "id": "devour_damage",
    "type": "SPELL",
    "name": "Devour Damage",
    "description": "Deal deadly damage to ally.  You can see it only in debug mode.",
    "valid_targets": [ "ally" ],
    "flags": [ "SILENT", "PERCENTAGE_DAMAGE" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": 100,
    "max_damage": 100
  },
  {
    "id": "devour_healing",
    "type": "SPELL",
    "name": "Devour Healing",
    "description": "Heal the player.  You can see it only in debug mode.",
    "valid_targets": [ "self" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "SILENT", "NO_PROJECTILE" ],
    "effect": "attack",
    "shape": "blast",
    "min_damage": { "math": [ "evocation_proficiency_negate_calculate(-1, 0.1)" ] },
    "max_damage": { "math": [ "evocation_proficiency_negate_calculate(-10, 0.1)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_negate_calculate(-0.4, 0.044)" ] },
    "max_level": 25
  },
  {
    "id": "animist_sense_outsiders",
    "type": "SPELL",
    "name": "Sense Outsiders",
    "description": "You can sense the presence of nearby beings from the Nether.",
    "valid_targets": [ "self" ],
    "spell_class": "ANIMIST",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_EXPLOSION_SFX" ],
    "effect": "attack",
    "effect_str": "effect_sense_outsiders",
    "shape": "blast",
    "energy_source": "MANA",
    "difficulty": 5,
    "max_level": 15,
    "base_energy_cost": 500,
    "min_duration": { "math": [ "enhancement_proficiency_bonus_calculate(90000, 5400)" ] },
    "max_duration": { "math": [ "enhancement_proficiency_bonus_calculate(900000, 5400)" ] },
    "duration_increment": { "math": [ "enhancement_proficiency_bonus_calculate(60000, 0.074)" ] },
    "base_casting_time": { "math": [ "enhancement_proficiency_negate_calculate(1500, 10)" ] },
    "extra_effects": [ { "id": "eoc_enhancement_setup" } ]
  },
  {
    "id": "animist_summon_watcher",
    "type": "SPELL",
    "name": { "str": "Summon Watcher Spirit" },
    "description": "Summon a watcher spirit, whose senses overlap with your own and through whose eyes you can see.  Although they are spirits, they are fragile and dissipate easily in the face of any assault.",
    "flags": [ "SOMATIC", "CONCENTRATE", "VERBAL", "NO_PROJECTILE" ],
    "spell_class": "ANIMIST",
    "effect": "summon",
    "effect_str": "mon_watcher_spirit",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "difficulty": 3,
    "max_level": 15,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 3,
    "max_range": 20,
    "range_increment": 1.1,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(24000, 300)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(360000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(24000, 0.07)" ] },
    "energy_source": "MANA",
    "base_casting_time": 500,
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(150, 1)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "id": "animist_mass_hiding_aoe",
    "type": "SPELL",
    "name": "A Shadow in the Crowd",
    "description": "Sever the connections between your spirit and the spirits of everyone around you, rendering them incapable of perceiving you; the light might hit their eyes and the sounds their ears, but they cannot recognize what those impressions mean.  Anything outside the spell's area of effect will have no trouble spotting you.\n\nThis spell does not affect any target without a spirit, such as a robot.",
    "valid_targets": [ "hostile", "ally" ],
    "spell_class": "ANIMIST",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_HANDS", "IGNORE_WALLS" ],
    "difficulty": 9,
    "max_level": 20,
    "effect": "attack",
    "effect_str": "telepathic_ignorance",
    "extra_effects": [ { "id": "animist_mass_hiding_self", "hit_self": true }, { "id": "eoc_evocation_setup" } ],
    "shape": "blast",
    "min_duration": { "math": [ "evocation_proficiency_bonus_calculate(3000, 5)" ] },
    "max_duration": { "math": [ "evocation_proficiency_bonus_calculate(63000, 5)" ] },
    "duration_increment": { "math": [ "evocation_proficiency_bonus_calculate(3000, 5)" ] },
    "min_aoe": 5,
    "max_aoe": 25,
    "aoe_increment": 1,
    "energy_source": "MANA",
    "base_energy_cost": 1000,
    "base_casting_time": 250,
    "ignored_monster_species": [ "ROBOT", "NETHER_EMANATION" ]
  },
  {
    "id": "animist_mass_hiding_self",
    "type": "SPELL",
    "name": "A Shadow in the Crowd Self",
    "description": "Puts an effect on you so anyone affected by A Shadow in the Crowd knows to ignore you.  It's a bug if you have this directly.",
    "message": "",
    "teachable": false,
    "valid_targets": [ "self" ],
    "flags": [ "SILENT", "NO_HANDS", "NO_LEGS" ],
    "effect": "attack",
    "effect_str": "telepathic_ignorance_self",
    "shape": "blast",
    "min_duration": { "math": [ "(u_spell_level('animist_mass_hiding_aoe') * 3000) + 3000" ] },
    "max_duration": { "math": [ "(u_spell_level('animist_mass_hiding_aoe') * 3000) + 3000" ] }
  },
  {
    "id": "animist_luck_bone",
    "type": "SPELL",
    "name": { "str": "Osseous Luck" },
    "description": "Attract spirits of good fortune to a bone, granting minor bonuses as long as it is carried.  Though benevolent, the spirits are capricious, and exactly what benefits they will provide cannot be determined ahead of time.  The bone crumbles to dust when the spell duration expires and the spirits leave.",
    "flags": [ "SOMATIC", "CONCENTRATE", "VERBAL" ],
    "spell_class": "ANIMIST",
    "effect": "spawn_item",
    "effect_str": "item_animist_luck_bone",
    "components": "spell_components_luck_bone",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "difficulty": 5,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": { "math": [ "summoning_proficiency_bonus_calculate(72000, 600)" ] },
    "max_duration": { "math": [ "summoning_proficiency_bonus_calculate(1512000, 600)" ] },
    "duration_increment": { "math": [ "summoning_proficiency_bonus_calculate(72000, 0.05)" ] },
    "energy_source": "MANA",
    "base_casting_time": 30000,
    "base_energy_cost": { "math": [ "summoning_proficiency_negate_calculate(600, 3)" ] },
    "extra_effects": [ { "id": "eoc_summon_setup" } ]
  },
  {
    "id": "animist_spirit_walking",
    "type": "SPELL",
    "name": { "str": "Spirit-Walking" },
    "description": "Transform your body to pure spirit, making you invisible and intangible.  You can move incredibly quickly while the spell is in effect and can pass by enemies unseen, but you will be unable to affect the physical world or cast spells.",
    "flags": [ "SOMATIC", "CONCENTRATE", "VERBAL" ],
    "spell_class": "ANIMIST",
    "effect": "effect_on_condition",
    "effect_str": "EOC_ANIMIST_SPIRIT_WALKING",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "components": "spell_components_spirit_walking",
    "max_level": 20,
    "difficulty": 8,
    "min_duration": { "math": [ "enhancement_proficiency_bonus_calculate(3000, 40)" ] },
    "max_duration": { "math": [ "enhancement_proficiency_bonus_calculate(9000, 40)" ] },
    "duration_increment": { "math": [ "enhancement_proficiency_bonus_calculate(300, 0.05)" ] },
    "energy_source": "MANA",
    "base_casting_time": { "math": [ "enhancement_proficiency_negate_calculate(300, 2)" ] },
    "base_energy_cost": 1200,
    "final_energy_cost": 850,
    "energy_increment": -17.5,
    "extra_effects": [ { "id": "eoc_enhancement_setup" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_ANIMIST_SPIRIT_WALKING",
    "effect": [
      {
        "u_add_effect": "effect_spirit_walking",
        "duration": { "math": [ "( 30 + (u_spell_level('animist_spirit_walking') * 3)) " ] }
      },
      {
        "u_add_effect": "incorporeal",
        "duration": { "math": [ "( 30 + (u_spell_level('animist_spirit_walking') * 3)) " ] }
      }
    ]
  },
  {
    "id": "animist_add_evasion_spell",
    "type": "SPELL",
    "name": "Guardian Spirit",
    "description": "Summon a benevolent spirit to keep watch over you and warn you of imminent attacks, allowing you to dodge some of them.",
    "valid_targets": [ "self" ],
    "spell_class": "ANIMIST",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "effect_str": "effect_animist_add_evasion",
    "shape": "blast",
    "energy_source": "MANA",
    "difficulty": 4,
    "max_level": 15,
    "base_energy_cost": 350,
    "min_duration": { "math": [ "enhancement_proficiency_bonus_calculate(30000, 3000)" ] },
    "max_duration": { "math": [ "enhancement_proficiency_bonus_calculate(480000, 3000)" ] },
    "duration_increment": { "math": [ "enhancement_proficiency_bonus_calculate(30000, 0.07)" ] },
    "base_casting_time": { "math": [ "enhancement_proficiency_negate_calculate(250, 2)" ] },
    "extra_effects": [ { "id": "eoc_enhancement_setup" } ]
  },
  {
    "id": "animist_slow_food_rotting_spell",
    "type": "SPELL",
    "name": "Abjure Spirits of Rot",
    "description": "Placing a warding on food or drink, preventing the spirits of decay from nesting within it.  The mage may affect as much food or drink as they can carry.  The principles by which this spell functions were not discovered until the 20th century, but some animists maintain that radiation is frightening to decay spirits.",
    "valid_targets": [ "self" ],
    "spell_class": "ANIMIST",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_ANIMIST_SLOW_FOOD_ROTTING_SPELL",
    "components": "spell_components_slow_food_rotting",
    "shape": "blast",
    "difficulty": 5,
    "max_level": 15,
    "energy_source": "MANA",
    "base_energy_cost": { "math": [ "channeling_proficiency_negate_calculate(550, 5)" ] },
    "base_casting_time": { "math": [ "channeling_proficiency_negate_calculate(90000, 100)" ] }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_ANIMIST_SLOW_FOOD_ROTTING_SPELL",
    "effect": [
      {
        "u_run_inv_eocs": "manual_mult",
        "search_data": [ { "category": "food" }, { "category": "drink" } ],
        "true_eocs": [
          {
            "id": "EOC_ANIMIST_SLOW_FOOD_ROTTING_SPELL_ITEM",
            "effect": [ { "npc_set_flag": "IRRADIATED" }, { "npc_set_flag": "NO_PARASITES" } ]
          }
        ]
      }
    ]
  }
]
