[
  {
    "type": "ter_furn_transform",
    "id": "quake_transform",
    "furniture": [ { "result": "f_rubble", "valid_furniture": [ "f_null" ], "message": "The earth is upheaved!" } ]
  },
  {
    "id": "quake",
    "type": "SPELL",
    "name": "Quake",
    "description": "Cause a localized earthquake, knocking down enemies and overturning the earth.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "LOUD", "NO_HANDS", "NO_PROJECTILE", "MUST_HAVE_CLASS_TO_LEARN", "IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "downed",
    "damage_type": "bash",
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(20, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(4.0, 0.03)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(160, 0.5)" ] },
    "min_aoe": 0,
    "max_aoe": 35,
    "aoe_increment": 1,
    "base_energy_cost": 550,
    "spell_class": "EARTH_ELEMENTAL",
    "difficulty": 4,
    "max_level": 35,
    "base_casting_time": 150,
    "final_casting_time": 0,
    "casting_time_increment": -5,
    "sound_description": "a deep rumbling",
    "sound_id": "earth_spell",
    "sound_variant": "strong",
    "energy_source": "MANA",
    "extra_effects": [ { "id": "quake_transform" }, { "id": "quake_shake" }, { "id": "eoc_evocation_setup" } ]
  },
  {
    "id": "quake_transform",
    "type": "SPELL",
    "name": "Quake Transform",
    "description": "Causes rubble to be spawned occasionally.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "IGNORE_WALLS" ],
    "effect": "ter_transform",
    "effect_str": "quake_transform",
    "shape": "blast",
    "min_damage": 30,
    "max_damage": 200,
    "damage_increment": 5,
    "min_aoe": 0,
    "max_aoe": 35,
    "aoe_increment": 1,
    "max_level": 35
  },
  {
    "id": "quake_shake",
    "type": "SPELL",
    "name": "Quake Earthquake",
    "description": "Destroy furniture and terrain nearby.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "IGNORE_WALLS" ],
    "effect": "bash",
    "shape": "blast",
    "min_damage": 30,
    "max_damage": 200,
    "damage_increment": 5,
    "min_aoe": 0,
    "max_aoe": 35,
    "aoe_increment": 1,
    "max_level": 35
  },
  {
    "id": "rock_blast",
    "type": "SPELL",
    "name": "Rock Blast",
    "description": "Fire three large rocks at an enemy, causing blunt damage and knocking it back.",
    "valid_targets": [ "hostile" ],
    "flags": [ "NO_HANDS", "NO_LEGS", "MUST_HAVE_CLASS_TO_LEARN" ],
    "effect": "attack",
    "shape": "blast",
    "max_level": 35,
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(20, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(180, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(4.6, 0.03)" ] },
    "min_range": 8,
    "max_range": 15,
    "range_increment": 0.2,
    "sound_id": "earth_spell",
    "sound_variant": "strong",
    "energy_source": "STAMINA",
    "spell_class": "EARTH_ELEMENTAL",
    "damage_type": "bash",
    "base_energy_cost": 5000,
    "base_casting_time": 200,
    "final_casting_time": 50,
    "casting_time_increment": -5,
    "extra_effects": [
      { "id": "single_rock_blast" },
      { "id": "single_rock_blast" },
      { "id": "rock_blast_push" },
      { "id": "eoc_evocation_setup" }
    ]
  },
  {
    "id": "single_rock_blast",
    "name": "Single Rock Blast",
    "type": "SPELL",
    "flags": [ "NO_EXPLOSION_SFX" ],
    "description": "A single portion of the rock blast spell.",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "max_level": 35,
    "min_damage": { "math": [ "evocation_proficiency_bonus_calculate(20, 0.5)" ] },
    "max_damage": { "math": [ "evocation_proficiency_bonus_calculate(180, 0.5)" ] },
    "damage_increment": { "math": [ "evocation_proficiency_bonus_calculate(4.6, 0.03)" ] },
    "damage_type": "bash",
    "sound_id": "earth_spell",
    "sound_variant": "strong"
  },
  {
    "id": "rock_blast_push",
    "name": "Rock Blast Push",
    "type": "SPELL",
    "description": "The push portion of the rock blast spell.",
    "valid_targets": [ "hostile" ],
    "flags": [ "NO_EXPLOSION_SFX" ],
    "effect": "directed_push",
    "shape": "blast",
    "max_level": 35,
    "min_damage": 1,
    "max_damage": 3,
    "damage_increment": 0.1
  }
]
