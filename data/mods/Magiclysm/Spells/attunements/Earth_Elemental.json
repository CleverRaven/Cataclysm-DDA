[
  {
    "type": "ter_furn_transform",
    "id": "quake_transform",
    "furniture": [ { "result": "f_rubble", "valid_furniture": [ "f_null" ], "message": "The earth is upheaved!" } ]
  },
  {
    "id": "quake",
    "type": "SPELL",
    "name": "Quake",
    "description": "Cause a localized earthquake, knocking down enemies and overturning the earth.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "EVOCATION_SPELL", "LOUD", "NO_HANDS", "NO_PROJECTILE", "MUST_HAVE_CLASS_TO_LEARN", "IGNORE_WALLS", "SPLIT_DAMAGE" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "downed",
    "damage_type": "bash",
    "min_damage": { "math": [ "(u_spell_level('quake') * 1.9) + 6" ] },
    "max_damage": { "math": [ "(u_spell_level('quake') * 3.1) + 14" ] },
    "min_bash_scaling": 1.5,
    "bash_scaling_increment": -0.007,
    "max_bash_scaling": 1.25,
    "min_aoe": 0,
    "max_aoe": 35,
    "aoe_increment": 1,
    "base_energy_cost": 550,
    "spell_class": "EARTH_ELEMENTAL",
    "difficulty": 4,
    "max_level": 35,
    "base_casting_time": 150,
    "final_casting_time": 0,
    "casting_time_increment": -5,
    "sound_description": "a deep rumbling",
    "sound_id": "earth_spell",
    "sound_variant": "strong",
    "magic_type": "magiclysm_generic_magic",
    "extra_effects": [ { "id": "quake_transform" }, { "id": "eoc_evocation_setup", "hit_self": true } ]
  },
  {
    "id": "quake_transform",
    "type": "SPELL",
    "name": { "str": "Quake Transform", "//~": "NO_I18N" },
    "description": { "str": "Causes rubble to be spawned occasionally.", "//~": "NO_I18N" },
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "EVOCATION_SPELL", "SILENT", "NO_EXPLOSION_SFX", "IGNORE_WALLS" ],
    "effect": "ter_transform",
    "effect_str": "quake_transform",
    "shape": "blast",
    "min_damage": 30,
    "max_damage": 200,
    "damage_increment": 5,
    "min_aoe": 0,
    "max_aoe": 35,
    "aoe_increment": 1,
    "max_level": 35
  },
  {
    "id": "rock_blast",
    "type": "SPELL",
    "name": "Rock Blast",
    "description": "Fire three large rocks at an enemy, causing blunt damage and knocking it back.",
    "valid_targets": [ "hostile" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "NO_HANDS", "NO_LEGS", "MUST_HAVE_CLASS_TO_LEARN" ],
    "effect": "attack",
    "shape": "blast",
    "max_level": 35,
    "min_damage": { "math": [ "(u_spell_level('rock_blast') * 1.7) + 6" ] },
    "max_damage": { "math": [ "(u_spell_level('rock_blast') * 3.8) + 14" ] },
    "min_range": 8,
    "max_range": 15,
    "range_increment": 0.2,
    "sound_id": "earth_spell",
    "sound_variant": "strong",
    "energy_source": "STAMINA",
    "magic_type": "magiclysm_generic_magic",
    "spell_class": "EARTH_ELEMENTAL",
    "damage_type": "bash",
    "base_energy_cost": 5000,
    "base_casting_time": 200,
    "final_casting_time": 50,
    "casting_time_increment": -5,
    "extra_effects": [
      { "id": "single_rock_blast" },
      { "id": "single_rock_blast" },
      { "id": "rock_blast_push" },
      { "id": "eoc_evocation_setup", "hit_self": true }
    ]
  },
  {
    "id": "single_rock_blast",
    "type": "SPELL",
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "NO_EXPLOSION_SFX" ],
    "name": { "str": "Single Rock Blast", "//~": "NO_I18N" },
    "description": { "str": "A single portion of the rock blast spell.", "//~": "NO_I18N" },
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "max_level": 35,
    "min_damage": { "math": [ "(u_spell_level('rock_blast') * 1.7) + 6" ] },
    "max_damage": { "math": [ "(u_spell_level('rock_blast') * 3.8) + 14" ] },
    "min_range": 8,
    "max_range": 15,
    "range_increment": 0.2,
    "damage_type": "bash",
    "sound_id": "earth_spell",
    "sound_variant": "strong"
  },
  {
    "id": "rock_blast_push",
    "type": "SPELL",
    "name": { "str": "Rock Blast Push", "//~": "NO_I18N" },
    "description": { "str": "The push portion of the rock blast spell.", "//~": "NO_I18N" },
    "valid_targets": [ "hostile" ],
    "flags": [ "EVOCATION_SPELL", "NO_EXPLOSION_SFX" ],
    "effect": "directed_push",
    "shape": "blast",
    "max_level": 35,
    "min_damage": 1,
    "max_damage": 3,
    "damage_increment": 0.1
  }
]
