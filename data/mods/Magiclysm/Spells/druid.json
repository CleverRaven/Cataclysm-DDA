[
  {
    "id": "druid_veggrasp",
    "type": "SPELL",
    "name": "Vegetative Grasp",
    "description": "This spell causes roots and vines to burst forth from the ground and grab your foes, slowing them and doing a small amount of damage as they dig in.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "LOUD", "SOMATIC", "VERBAL", "NO_LEGS", "NO_PROJECTILE" ],
    "effect": "attack",
    "effect_str": "entangled",
    "shape": "blast",
    "spell_class": "DRUID",
    "base_casting_time": 100,
    "base_energy_cost": 175,
    "energy_source": "MANA",
    "difficulty": 2,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 10,
    "damage_increment": 0.5,
    "min_aoe": 4,
    "max_aoe": 15,
    "aoe_increment": 1.0,
    "min_range": 3,
    "max_range": 10,
    "range_increment": 1.0,
    "min_duration": 1000,
    "max_duration": 10000,
    "duration_increment": 500,
    "min_pierce": 1,
    "max_pierce": 5,
    "pierce_increment": 0.25,
    "damage_type": "stab"
  },
  {
    "id": "druid_rootstrike",
    "type": "SPELL",
    "name": "Root Strike",
    "description": "This spell causes roots to spear out the ground and stab into your foes in an arc, impaling them.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "LOUD", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "effect": "attack",
    "effect_str": "root_impale",
    "shape": "cone",
    "spell_class": "DRUID",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 4,
    "max_level": 20,
    "min_damage": 15,
    "max_damage": 60,
    "damage_increment": 2.5,
    "min_aoe": 25,
    "max_aoe": 45,
    "aoe_increment": 1.0,
    "min_range": 4,
    "max_range": 10,
    "range_increment": 0.5,
    "min_dot": 1,
    "max_dot": 2,
    "dot_increment": 0.1,
    "min_duration": 1000,
    "max_duration": 10000,
    "duration_increment": 500,
    "min_pierce": 10,
    "max_pierce": 20,
    "pierce_increment": 0.5,
    "damage_type": "stab"
  },
  {
    "id": "druid_woodshaft",
    "type": "SPELL",
    "name": "Wooden Shaft",
    "description": "This spell creates a projectile of hardwood that shoots forth from the caster's hand at high speed to stab into an enemy.",
    "valid_targets": [ "hostile" ],
    "flags": [ "LOUD", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "DRUID",
    "base_casting_time": 100,
    "base_energy_cost": 50,
    "energy_source": "MANA",
    "difficulty": 1,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 25,
    "damage_increment": 1.5,
    "min_range": 5,
    "max_range": 15,
    "range_increment": 0.75,
    "min_pierce": 1,
    "max_pierce": 5,
    "pierce_increment": 0.5,
    "damage_type": "bash"
  },
  {
    "id": "druid_naturebow1",
    "type": "SPELL",
    "name": "Nature's Bow",
    "description": "This spell conjures a magical wooden recurve bow, as well as a quiver and a set of arrows to go with it.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "extra_effects": [ { "id": "druid_naturequiver1" }, { "id": "druid_naturearrows1" } ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_recurve",
    "shape": "blast",
    "base_casting_time": 200,
    "base_energy_cost": 250,
    "min_duration": 24000,
    "max_duration": 360000,
    "duration_increment": 24000,
    "difficulty": 5,
    "max_level": 15,
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "learn_spells": { "druid_naturebow1_plus": 15 }
  },
  {
    "id": "druid_naturequiver1",
    "type": "SPELL",
    "name": "Nature's Quiver",
    "description": "This spell conjures a magical quiver as part of the nature's bow spell.  It's a bug if you have it directly.",
    "valid_targets": [ "none" ],
    "flags": [ "SILENT" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_quiver",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_spell_level('druid_naturebow1') * 24000) + 24000)" ] },
    "max_duration": { "math": [ "( (u_spell_level('druid_naturebow1') * 24000) + 24000)" ] }
  },
  {
    "id": "druid_naturearrows1",
    "type": "SPELL",
    "name": "Nature's Arrows",
    "description": "This spell conjures magical arrows as part of the nature's bow spell.  It's a bug if you have it directly.",
    "valid_targets": [ "none" ],
    "flags": [ "SILENT" ],
    "min_damage": { "math": [ "( (u_spell_level('druid_naturebow1') * 3) + 15)" ] },
    "max_damage": { "math": [ "( (u_spell_level('druid_naturebow1') * 3) + 15)" ] },
    "effect": "spawn_item",
    "effect_str": "druid_naturearrows1",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_spell_level('druid_naturebow1') * 24000) + 24000)" ] },
    "max_duration": { "math": [ "( (u_spell_level('druid_naturebow1') * 24000) + 24000)" ] }
  },
  {
    "id": "druid_naturebow1_plus",
    "type": "SPELL",
    "name": "Improved Nature's Bow",
    "description": "This spell conjures a magical wooden recurve bow, as well as a quiver and a set of arrows to go with it.  Now you know this spell like the back of your hand, and have started to design your own version.",
    "valid_targets": [ "none" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS" ],
    "extra_effects": [ { "id": "druid_naturequiver1_plus" }, { "id": "druid_naturearrows1_plus" } ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_recurve",
    "shape": "blast",
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -4,
    "base_energy_cost": 250,
    "final_energy_cost": 100,
    "energy_increment": -6,
    "min_duration": 360000,
    "max_duration": 2160000,
    "duration_increment": 72000,
    "difficulty": 7,
    "max_level": 25,
    "spell_class": "DRUID",
    "energy_source": "MANA"
  },
  {
    "id": "druid_naturequiver1_plus",
    "type": "SPELL",
    "name": "Nature's Quiver",
    "description": "This spell conjures a magical quiver as part of the nature's bow spell.  It's a bug if you have it directly.",
    "valid_targets": [ "none" ],
    "flags": [ "SILENT" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_quiver_plus",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 72000) + 360000)" ] },
    "max_duration": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 72000) + 360000)" ] }
  },
  {
    "id": "druid_naturearrows1_plus",
    "type": "SPELL",
    "name": "Nature's Arrows",
    "description": "This spell conjures magical arrows as part of the nature's bow spell.  It's a bug if you have it directly.",
    "valid_targets": [ "none" ],
    "flags": [ "SILENT" ],
    "min_damage": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 4) + 30)" ] },
    "max_damage": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 4) + 30)" ] },
    "effect": "spawn_item",
    "effect_str": "druid_naturearrows1",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 72000) + 360000)" ] },
    "max_duration": { "math": [ "( (u_spell_level('druid_naturebow1_plus') * 72000) + 360000)" ] }
  },
  {
    "id": "recover_fatigue",
    "type": "SPELL",
    "name": "Nature's Trance",
    "description": "Your connection to living things allows you to go into a magical trance.  This allows you to recover fatigue quickly in exchange for mana.",
    "valid_targets": [ "self" ],
    "flags": [ "CONCENTRATE", "SILENT", "NO_HANDS" ],
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "effect": "recover_energy",
    "effect_str": "FATIGUE",
    "shape": "blast",
    "base_casting_time": 10000,
    "min_damage": 50,
    "damage_increment": 10.0,
    "max_damage": 300,
    "max_level": 25,
    "base_energy_cost": 500,
    "energy_increment": 25.0,
    "final_energy_cost": 1125,
    "difficulty": 4
  },
  {
    "id": "summon_cats",
    "type": "SPELL",
    "name": { "str": "Bag of Cats" },
    "description": "Are you the crazy cat lady?",
    "valid_targets": [ "ground" ],
    "flags": [ "LOUD", "SOMATIC", "SPAWN_GROUP" ],
    "min_damage": 1,
    "max_damage": 12,
    "damage_increment": 1.0,
    "min_range": 3,
    "range_increment": 0.8,
    "max_range": 7,
    "min_aoe": 3,
    "max_aoe": 3,
    "spell_class": "DRUID",
    "base_casting_time": 250,
    "energy_source": "MANA",
    "max_level": 25,
    "min_duration": 6000,
    "max_duration": 60000,
    "duration_increment": 1000,
    "difficulty": 1,
    "base_energy_cost": 265,
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_STRAY_CATS"
  },
  {
    "id": "summon_bear",
    "type": "SPELL",
    "name": "Cause Bear",
    "description": "This spell appears to be very smudged.  You're fairly sure the name should be Cause Fear, but you're also fairly sure it won't have the desired effect because the instructions are hardly legible.  No time like the Cataclysm to find out, though!",
    "valid_targets": [ "ground" ],
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 3,
    "max_range": 5,
    "range_increment": 0.1,
    "spell_class": "DRUID",
    "base_casting_time": 500,
    "energy_source": "MANA",
    "max_level": 25,
    "difficulty": 10,
    "min_duration": 6000,
    "max_duration": 30000,
    "duration_increment": 1000,
    "base_energy_cost": 675,
    "final_energy_cost": 475,
    "energy_increment": -5.0,
    "flags": [ "HOSTILE_50", "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "shape": "blast",
    "effect": "summon",
    "effect_str": "mon_bear"
  },
  {
    "id": "fungicide",
    "type": "SPELL",
    "name": "Kill Fungus",
    "description": "Kills fungus affected areas.",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "ter_transform",
    "effect_str": "fungicide",
    "shape": "blast",
    "min_aoe": 5,
    "max_aoe": 25,
    "aoe_increment": 1.0,
    "max_level": 20,
    "difficulty": 4,
    "energy_source": "MANA",
    "base_energy_cost": 175,
    "base_casting_time": 550,
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_LEGS", "NO_HANDS", "NO_PROJECTILE" ]
  },
  {
    "id": "create_rune_druid",
    "type": "SPELL",
    "name": "Druid Rune",
    "description": "This ritual creates a small pebble attuned to Druids.  You can use the rune as a catalyst for recipes.",
    "valid_targets": [ "self" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "rune_druid",
    "shape": "blast",
    "base_casting_time": 5000,
    "base_energy_cost": 5,
    "min_duration": 1,
    "max_duration": 2,
    "duration_increment": 1,
    "difficulty": 0,
    "max_level": 0,
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "flags": [ "PERMANENT", "NO_LEGS", "CONCENTRATE" ]
  },
  {
    "id": "purify_seed",
    "type": "SPELL",
    "name": "Purification Seed",
    "description": "You summon a gift of the earth which will purify water.  Rapidly degrades if not utilized.",
    "valid_targets": [ "self" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_seed",
    "shape": "blast",
    "base_casting_time": 30000,
    "final_casting_time": 6000,
    "casting_time_increment": -1200.0,
    "base_energy_cost": 1000,
    "final_energy_cost": 1000,
    "min_duration": 6000,
    "max_duration": 6000,
    "difficulty": 6,
    "max_level": 20,
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE" ]
  },
  {
    "id": "druidic_regrowth",
    "type": "SPELL",
    "name": "Sacrificial Regrowth",
    "description": "Through giving of one's own life force, you restore withered and barren plant life nearby.  What remains will need time to regrow its full strength.",
    "valid_targets": [ "ground" ],
    "effect": "ter_transform",
    "effect_str": "druidic_renewal",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_LEGS", "NO_HANDS", "NO_PROJECTILE" ],
    "spell_class": "DRUID",
    "energy_source": "HP",
    "difficulty": 6,
    "base_casting_time": 600,
    "base_energy_cost": 25,
    "max_level": 20,
    "min_aoe": 1,
    "max_aoe": 5,
    "aoe_increment": 0.2,
    "min_range": 3,
    "max_range": 6,
    "range_increment": 0.3
  },
  {
    "id": "druidic_healing",
    "type": "SPELL",
    "name": "Sacrificial Healing",
    "description": "Channels some of the user's own life force into healing energy, for the sake of one's allies.",
    "valid_targets": [ "ally" ],
    "effect": "attack",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_LEGS", "NO_HANDS", "NO_PROJECTILE" ],
    "spell_class": "DRUID",
    "energy_source": "HP",
    "difficulty": 5,
    "base_casting_time": 400,
    "base_energy_cost": 35,
    "final_energy_cost": 20,
    "energy_increment": -1.5,
    "max_level": 10,
    "min_damage": -4,
    "max_damage": -12,
    "damage_increment": -0.8,
    "min_aoe": 0,
    "max_aoe": 2,
    "aoe_increment": 0.2,
    "min_range": 2,
    "max_range": 4,
    "range_increment": 0.2
  },
  {
    "id": "druid_tornskin",
    "type": "SPELL",
    "name": "Tornskin",
    "description": "This spell, which resembles Thornskin through the sap & needles covering the page, seemed to involve thorns and bleeding wounds.  The marred words may have altered the function.",
    "valid_targets": [ "hostile", "ground", "ally", "self" ],
    "flags": [ "SOMATIC" ],
    "effect": "attack",
    "effect_str": "tornskin_pain",
    "shape": "blast",
    "affected_body_parts": [ "head", "torso", "mouth", "eyes", "arm_l", "arm_r", "hand_r", "hand_l", "leg_l", "foot_l", "foot_r" ],
    "min_dot": 1,
    "max_dot": 4,
    "dot_increment": 0.3,
    "spell_class": "DRUID",
    "base_casting_time": 300,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 4,
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 4,
    "damage_increment": 0.3,
    "min_aoe": 1,
    "max_aoe": 2,
    "aoe_increment": 0.1,
    "min_range": 1,
    "max_range": 2,
    "range_increment": 0.1,
    "min_duration": 200,
    "max_duration": 600,
    "duration_increment": 40,
    "min_pierce": 0,
    "max_pierce": 3,
    "pierce_increment": 0.3,
    "damage_type": "cut"
  },
  {
    "id": "druid_feralform",
    "type": "SPELL",
    "name": "Feral Form",
    "description": "This spell unleashes your inner beast, growing claws & fangs to rend your foes limb from limb.",
    "valid_targets": [ "self" ],
    "effect": "spawn_item",
    "effect_str": "aura_feral",
    "shape": "blast",
    "flags": [ "SOMATIC", "VERBAL" ],
    "components": "spell_components_feralform",
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "difficulty": 4,
    "base_casting_time": 400,
    "base_energy_cost": 200,
    "max_level": 15,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": 24000,
    "max_duration": 360000,
    "duration_increment": 24000,
    "learn_spells": { "druid_feralform_plus": 15 }
  },
  {
    "id": "druid_feralform_plus",
    "type": "SPELL",
    "name": "Enhanced Feral Form",
    "description": "This spell unleashes your inner beast, growing claws & fangs to rend your foes limb from limb.  Now you know this spell like the back of your hand, and start to design your own version.",
    "valid_targets": [ "self" ],
    "effect": "spawn_item",
    "effect_str": "aura_feral_plus",
    "shape": "blast",
    "flags": [ "SOMATIC" ],
    "components": "spell_components_feralform",
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "difficulty": 6,
    "base_casting_time": 400,
    "final_casting_time": 100,
    "casting_time_increment": -12,
    "base_energy_cost": 200,
    "final_energy_cost": 100,
    "energy_increment": -4,
    "max_level": 25,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": 360000,
    "max_duration": 2160000,
    "duration_increment": 72000
  },
  {
    "id": "summon_wolf_druid",
    "type": "SPELL",
    "name": "Summon Wolf",
    "description": "Call to the wilds for aid from some wolves.",
    "valid_targets": [ "ground" ],
    "min_damage": 1,
    "max_damage": 3,
    "damage_increment": 0.08,
    "min_range": 2,
    "max_range": 7,
    "min_aoe": 2,
    "max_aoe": 2,
    "range_increment": 0.2,
    "spell_class": "DRUID",
    "base_casting_time": 500,
    "energy_source": "MANA",
    "max_level": 30,
    "difficulty": 6,
    "min_duration": 36000,
    "max_duration": 1080000,
    "duration_increment": 36000,
    "base_energy_cost": 400,
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS" ],
    "shape": "blast",
    "effect": "summon",
    "effect_str": "mon_wolf"
  },
  {
    "id": "druid_natures_commune",
    "type": "SPELL",
    "name": "Nature's Commune",
    "description": "You concentrate on the nature around you and commune with it, improving your health and calming nearby wildlife.  This spell may only be cast outdoors.",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_NATURE_COMMUNE",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS", "NO_HANDS" ],
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 4,
    "base_casting_time": 12000,
    "base_energy_cost": 250,
    "final_energy_cost": 400,
    "energy_increment": 10,
    "max_level": 20,
    "min_duration": 30000,
    "max_duration": 360000,
    "duration_increment": 16500
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_NATURE_COMMUNE",
    "condition": {
      "and": [
        "u_is_outside",
        {
          "or": [
            { "u_is_on_terrain_with_flag": "SHRUB" },
            { "u_is_on_terrain_with_flag": "DIGGABLE" },
            { "u_is_on_terrain_with_flag": "YOUNG" }
          ]
        },
        { "not": { "u_near_om_location": "road_curved", "range": 1 } },
        { "not": { "u_near_om_location": "road_four_way", "range": 1 } },
        { "not": { "u_near_om_location": "road_tee", "range": 1 } },
        { "not": { "u_near_om_location": "road_straight", "range": 1 } },
        { "not": { "u_near_om_location": "road_end", "range": 1 } },
        { "not": { "u_near_om_location": "road_sw", "range": 1 } },
        { "not": { "u_near_om_location": "road_ne", "range": 1 } },
        { "not": { "u_near_om_location": "road_ew", "range": 1 } },
        { "not": { "u_near_om_location": "road_ns", "range": 1 } },
        { "not": { "u_near_om_location": "road_nesw", "range": 1 } },
        { "not": { "u_near_om_location": "road", "range": 1 } }
      ]
    },
    "effect": [
      {
        "u_add_effect": "natures_commune",
        "duration": { "math": [ "( 300 + (u_spell_level('druid_natures_commune') * 165)) " ] }
      },
      {
        "u_add_morale": "morale_forest_unity",
        "bonus": 10,
        "max_bonus": 15,
        "duration": { "math": [ "( 300 + (u_spell_level('druid_natures_commune') * 165) )" ] },
        "decay_start": { "math": [ "(( 300 + (u_spell_level('druid_natures_commune') * 165) ) / 2)" ] }
      }
    ],
    "false_effect": [ { "u_message": "You must be surrounded by nature to commune with nature", "type": "bad" } ]
  },
  {
    "id": "druid_growth",
    "type": "SPELL",
    "spell_class": "DRUID",
    "name": "Seed of Growth",
    "description": "Offer some of your life in a ritual to get tokens of growth in return.",
    "valid_targets": [ "self" ],
    "effect": "spawn_item",
    "effect_str": "druid_fertilizer",
    "shape": "blast",
    "base_casting_time": 360000,
    "final_casting_time": 90000,
    "casting_time_increment": -15000,
    "base_energy_cost": 5,
    "energy_source": "HP",
    "difficulty": 4,
    "max_level": 20,
    "min_damage": 5,
    "max_damage": 80,
    "damage_increment": 4,
    "//": "The spell can only be permanent without being at maximum level because of how items with charges work",
    "flags": [ "SOMATIC", "NO_LEGS", "PERMANENT" ]
  },
  {
    "id": "cause_rot",
    "type": "SPELL",
    "name": "Cause Rot",
    "description": "A spell from a darker sect of druidry, created to forcibly begin the circle of life anew.  For without rot, you cannot have growth.  Affects a huge area, but is indiscriminate; even rusting machines into nothing but dust and slow both in casting and effect.  Once lost entirely to the passage of time, this spell was thought to be no more than a myth, the stuff of fairy tales, albeit grim ones.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "SOMATIC", "NO_PROJECTILE", "CONCENTRATE", "VERBAL" ],
    "max_level": 25,
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "difficulty": 8,
    "damage_type": "pure",
    "base_casting_time": 10000,
    "final_casting_time": 500,
    "casting_time_increment": -380,
    "base_energy_cost": 1000,
    "final_energy_cost": 400,
    "energy_increment": -24,
    "min_aoe": 5,
    "max_aoe": 50,
    "aoe_increment": 1.8,
    "min_damage": 1,
    "max_damage": 1,
    "min_dot": 1,
    "max_dot": 5,
    "dot_increment": 0.2,
    "min_duration": 500,
    "max_duration": 5000,
    "duration_increment": 180
  },
  {
    "id": "druid_healing",
    "type": "SPELL",
    "name": "Restoration",
    "description": "Slowly heal your wounds by drawing on the power of nature.\n\nYou must be <color_yellow>outdoors and in a natural area</color> away from civilization to cast Restoration.",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_DRUID_RESTORATION",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 8,
    "base_casting_time": 12000,
    "final_casting_time": 3000,
    "casting_time_increment": -360,
    "base_energy_cost": 800,
    "final_energy_cost": 500,
    "energy_increment": -12,
    "max_level": 25,
    "//": "each 3000 (30 second) heal 1 hp. 5 hp on level 0 (2.5m), 30 hp on level 25 (15 m)",
    "min_duration": 15000,
    "max_duration": 90000,
    "duration_increment": 3000
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DRUID_RESTORATION",
    "condition": {
      "and": [
        "u_is_outside",
        {
          "or": [
            { "u_is_on_terrain_with_flag": "SHRUB" },
            { "u_is_on_terrain_with_flag": "DIGGABLE" },
            { "u_is_on_terrain_with_flag": "YOUNG" }
          ]
        },
        { "not": { "u_near_om_location": "road_curved", "range": 1 } },
        { "not": { "u_near_om_location": "road_four_way", "range": 1 } },
        { "not": { "u_near_om_location": "road_tee", "range": 1 } },
        { "not": { "u_near_om_location": "road_straight", "range": 1 } },
        { "not": { "u_near_om_location": "road_end", "range": 1 } },
        { "not": { "u_near_om_location": "road_sw", "range": 1 } },
        { "not": { "u_near_om_location": "road_ne", "range": 1 } },
        { "not": { "u_near_om_location": "road_ew", "range": 1 } },
        { "not": { "u_near_om_location": "road_ns", "range": 1 } },
        { "not": { "u_near_om_location": "road_nesw", "range": 1 } },
        { "not": { "u_near_om_location": "road", "range": 1 } }
      ]
    },
    "effect": [
      {
        "u_add_effect": "flask_regeneration",
        "duration": { "math": [ "( 15000 + (u_spell_level('druid_healing') * 3000)) " ] }
      }
    ],
    "false_effect": [ { "u_message": "You must be surrounded by nature to use its power to heal.", "type": "bad" } ]
  },
  {
    "id": "druid_healing_herb",
    "type": "SPELL",
    "name": "Floral Healing",
    "description": "Use some magic herbs to heal yourself.",
    "components": "spell_components_healing_herb",
    "valid_targets": [ "self" ],
    "effect": "attack",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "min_damage": -5,
    "max_damage": -20,
    "damage_increment": -1,
    "difficulty": 5,
    "base_casting_time": 800,
    "base_energy_cost": 400,
    "final_energy_cost": 150,
    "energy_increment": -16.7,
    "max_level": 15
  },
  {
    "id": "druid_bandage_heal",
    "type": "SPELL",
    "name": "Vegetative Poultice",
    "description": "This spell turns a mixture of bark and leaves into a powerful salve capable of stopping even grievous wounds from bleeding.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS" ],
    "min_damage": 1,
    "max_damage": 1,
    "effect": "spawn_item",
    "effect_str": "druid_bandages",
    "components": "spell_components_druid_bandage",
    "shape": "blast",
    "base_casting_time": 400,
    "base_energy_cost": 450,
    "min_duration": 48000,
    "max_duration": 720000,
    "duration_increment": 44800,
    "difficulty": 5,
    "max_level": 15,
    "spell_class": "DRUID",
    "energy_source": "MANA"
  },
  {
    "id": "druid_whisper_leaves",
    "type": "SPELL",
    "name": "Whisper of the Leaves",
    "description": "This spell allows you to hear the trees' wisdom in the rustle of the leaves and the creaking of their roots, discerning the layout of the forest.",
    "valid_targets": [ "self" ],
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_GAIN_WHISPER_LEAVES",
    "shape": "blast",
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 6,
    "max_level": 15,
    "base_casting_time": 6000,
    "final_casting_time": 1000,
    "casting_time_increment": -350,
    "base_energy_cost": 800,
    "final_energy_cost": 500,
    "energy_increment": -40,
    "min_duration": 6000,
    "max_duration": 6000
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_GAIN_WHISPER_LEAVES",
    "condition": { "not": { "u_has_trait": "TREE_COMMUNION" } },
    "effect": [
      { "u_message": "You are in tune with the wood and the wilds.  [Check mutations to activate]", "type": "good" },
      { "u_add_trait": "TREE_COMMUNION" },
      { "queue_eocs": "EOC_LOSE_WHISPER_LEAVES", "time_in_future": [ "60 seconds", "60 seconds" ] }
    ],
    "false_effect": [
      {
        "u_message": "You are already in tune with the rhythms of the forest.  Further magic cannot deepen your bond.",
        "type": "good"
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_LOSE_WHISPER_LEAVES",
    "effect": [ { "u_lose_trait": "TREE_COMMUNION" } ]
  },
  {
    "id": "druid_harvest_hunter",
    "type": "SPELL",
    "name": "Harvest of the Hunter",
    "description": "This spell creates a grouping of odd-looking but functional arrows out of forest detritus.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "NO_HANDS", "VERBAL", "NO_LEGS" ],
    "spell_class": "DRUID",
    "difficulty": 4,
    "max_level": 15,
    "effect": "spawn_item",
    "effect_str": "arrow_druid",
    "components": "spell_components_druid_arrow",
    "shape": "blast",
    "min_damage": 5,
    "max_damage": 40,
    "damage_increment": 2.5,
    "base_casting_time": 6000,
    "final_casting_time": 600,
    "casting_time_increment": -360,
    "energy_source": "MANA",
    "base_energy_cost": 250,
    "min_duration": 180000,
    "max_duration": 1440000,
    "duration_increment": 84000
  },
  {
    "id": "druid_summon_tanglevine",
    "type": "SPELL",
    "name": "Summon Tanglevine",
    "description": "This spell causes an animated vine to burst from the ground and attempt to seize a nearby target and hold it fast.",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC" ],
    "effect": "summon",
    "effect_str": "mon_tanglevine",
    "shape": "blast",
    "spell_class": "DRUID",
    "difficulty": 6,
    "max_level": 15,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 5,
    "max_range": 15,
    "range_increment": 0.8,
    "base_casting_time": 250,
    "energy_source": "MANA",
    "min_duration": 12000,
    "max_duration": 42000,
    "duration_increment": 2000,
    "base_energy_cost": 650,
    "final_energy_cost": 400,
    "energy_increment": -16.666
  },
  {
    "id": "druid_beguile_savage_beast",
    "type": "SPELL",
    "name": "Beguiling the Savage Beast",
    "description": "Using your connection to nature, you can sway an animal to your service.  This spell even works on mutated animals.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "SILENT" ],
    "effect": "charm_monster",
    "shape": "blast",
    "spell_class": "DRUID",
    "difficulty": 9,
    "max_level": 15,
    "min_damage": 30,
    "max_damage": 400,
    "damage_increment": 25,
    "min_range": 5,
    "max_range": 30,
    "range_increment": 1.67,
    "base_casting_time": 150,
    "energy_source": "MANA",
    "base_energy_cost": 900,
    "final_energy_cost": 600,
    "energy_increment": -20,
    "min_duration": 30000,
    "max_duration": 90000,
    "duration_increment": 4000,
    "targeted_monster_species": [ "MAMMAL", "BIRD" ]
  },
  {
    "id": "druid_bramble_spear",
    "type": "SPELL",
    "name": "Spear of Brambles",
    "description": "This spell turns a stick into a vicious spear that drips with sticky sap.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "VERBAL", "NO_HANDS" ],
    "//": "NO_HANDS so you can hold on to the stick and cast the spell and then be holding the spear",
    "effect": "spawn_item",
    "effect_str": "druid_bramble_spear_item",
    "components": "spell_components_druid_bramble_spear",
    "shape": "blast",
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 15,
    "base_casting_time": 1000,
    "base_energy_cost": 350,
    "min_duration": 24000,
    "max_duration": 360000,
    "duration_increment": 24000,
    "learn_spells": { "druid_bramble_spear_enhanced": 15 }
  },
  {
    "id": "druid_bramble_spear_enhanced",
    "type": "SPELL",
    "name": "Enhanced Spear of Brambles",
    "description": "This spell turns a bit of bark or a twig into a vicious spear that drips with sticky sap.  You now know this spell like the back of your hand, and no longer need such massive spell components as you did previously.",
    "valid_targets": [ "none" ],
    "flags": [ "CONCENTRATE", "VERBAL", "NO_HANDS" ],
    "effect": "spawn_item",
    "effect_str": "druid_bramble_spear_item",
    "shape": "blast",
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 5,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 15,
    "base_casting_time": 1000,
    "base_energy_cost": 250,
    "min_duration": 360000,
    "max_duration": 2160000,
    "duration_increment": 72000
  },
  {
    "id": "druid_summon_brambles",
    "type": "SPELL",
    "name": "Stranglethorns",
    "description": "Call up thick brambles, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_DRUID_BRAMBLES_SELECTOR",
    "shape": "blast",
    "flags": [ "SOMATIC", "VERBAL" ],
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "difficulty": 5,
    "base_casting_time": 150,
    "base_energy_cost": 550,
    "max_level": 15
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DRUID_BRAMBLES_SELECTOR",
    "effect": [
      {
        "run_eoc_selector": [ "EOC_DRUID_BRAMBLES_SELECTOR_ARC", "EOC_DRUID_BRAMBLES_SELECTOR_LINE" ],
        "names": [ "Thorny Arc", "Wall of Brambles" ],
        "keys": [ "1", "2" ],
        "descriptions": [ "Summon a spray of brambles to entrap an enemy.", "Summon a wall of thorns to fortify a location." ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DRUID_BRAMBLES_SELECTOR_ARC",
    "effect": [ { "u_cast_spell": { "id": "druid_summon_brambles_arc" }, "targeted": true } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_DRUID_BRAMBLES_SELECTOR_LINE",
    "effect": [ { "u_cast_spell": { "id": "druid_summon_brambles_line" }, "targeted": true } ]
  },
  {
    "id": "druid_summon_brambles_arc",
    "type": "SPELL",
    "name": "Summon Brambles Arc",
    "description": "Call up brambles, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "ter_transform",
    "effect_str": "druid_summoned_brambles",
    "shape": "cone",
    "flags": [ "SILENT", "NO_PROJECTILE" ],
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "max_level": 15,
    "min_range": { "math": [ "( (u_spell_level('druid_summon_brambles') * 0.6) + 1)" ] },
    "max_range": { "math": [ "( (u_spell_level('druid_summon_brambles') * 0.6) + 1)" ] },
    "min_aoe": { "math": [ "( (u_spell_level('druid_summon_brambles') * 1.9) + 30)" ] },
    "max_aoe": { "math": [ "( (u_spell_level('druid_summon_brambles') * 1.9) + 30)" ] }
  },
  {
    "id": "druid_summon_brambles_line",
    "type": "SPELL",
    "name": "Summon Brambles Line",
    "description": "Call up brambles, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "ter_transform",
    "effect_str": "druid_summoned_brambles",
    "shape": "line",
    "flags": [ "SILENT", "NO_PROJECTILE" ],
    "spell_class": "DRUID",
    "energy_source": "MANA",
    "max_level": 15,
    "min_range": { "math": [ "( (u_spell_level('druid_summon_brambles') * 1) + 1)" ] },
    "max_range": { "math": [ "( (u_spell_level('druid_summon_brambles') * 1) + 1)" ] }
  },
  {
    "id": "druid_thorn_skin",
    "type": "SPELL",
    "name": "Thornskin",
    "description": "This spell transforms the druid's skin into a bark-like material covered in large thorns.  It provides excellent protection but slightly slows you and makes you vulnerable to fire.",
    "valid_targets": [ "self" ],
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
    "effect": "spawn_item",
    "effect_str": "druid_thorn_skin_item",
    "shape": "blast",
    "energy_source": "MANA",
    "spell_class": "DRUID",
    "difficulty": 8,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 15,
    "base_casting_time": 600,
    "base_energy_cost": 500,
    "min_duration": 24000,
    "max_duration": 360000,
    "duration_increment": 24000
  }
]
