[
  {
    "id": "pyro_photokinetic_combo_flash",
    "type": "SPELL",
    "//": "Requires Pyrokinesis and Photokinesis to learn.",
    "name": "[Ψ]Sunspot",
    "description": "By strongly exciting the air at a particular point and enchancing the resulting photons, you produce an extreme burst of light, capable of blinding anyone who sees it, including your friends.  The sheer energy of this reaction also creates a searing heatwave.",
    "message": "The air erupts into an eye-searing flash!",
    "teachable": false,
    "valid_targets": [ "hostile", "ally", "ground" ],
    "spell_class": "PYROKINETIC",
    "skill": "metaphysics",
    "flags": [ "PSIONIC", "CONCENTRATE", "NO_HANDS", "NO_PROJECTILE", "NO_LEGS", "RANDOM_DURATION" ],
    "difficulty": 4,
    "max_level": { "math": [ "int_to_level(1)" ] },
    "effect": "attack",
    "effect_str": "effect_pyrokinetic_flash",
    "extra_effects": [ { "id": "pyro_photokinetic_combo_fireball" }, { "id": "psionic_drained_difficulty_four", "hit_self": true } ],
    "shape": "blast",
    "affected_body_parts": [ "eyes" ],
    "min_range": {
      "math": [
        "min( (( (u_spell_level('pyro_photokinetic_combo_flash') * 4) + 6) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 50)"
      ]
    },
    "max_range": 80,
    "min_aoe": {
      "math": [
        "min( (( (u_spell_level('pyro_photokinetic_combo_flash') * 1.2) + 6) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 8)"
      ]
    },
    "max_aoe": 30,
    "min_duration": {
      "math": [
        "( (u_spell_level('pyro_photokinetic_combo_flash') * 1000) + 5000) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "max_duration": {
      "math": [
        "( (u_spell_level('pyro_photokinetic_combo_flash') * 1100) + 7000) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "energy_source": "STAMINA",
    "base_energy_cost": 2500,
    "final_energy_cost": 1200,
    "energy_increment": -109,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -8,
    "ignored_monster_species": [ "PSI_NULL" ]
  },
  {
    "id": "pyro_photokinetic_combo_fireball",
    "type": "SPELL",
    "name": "[Ψ]Sunspot Fireball",
    "description": "Cause a burst of flames for Sunspot.  It is a bug if you have this.",
    "valid_targets": [ "hostile", "ground", "ally" ],
    "flags": [ "PSIONIC", "CONCENTRATE", "LOUD", "NO_PROJECTILE", "IGNITE_FLAMMABLE", "RANDOM_DAMAGE", "NO_HANDS", "NO_LEGS" ],
    "max_level": { "math": [ "int_to_level(1)" ] },
    "spell_class": "PYROKINETIC",
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "difficulty": 0,
    "min_damage": {
      "math": [
        "( (u_spell_level('pyro_photokinetic_combo_fireball') * 1.5) + 6) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "max_damage": {
      "math": [
        "( (u_spell_level('pyro_photokinetic_combo_fireball') * 3) + 12) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "min_range": {
      "math": [
        "clamp( ( (u_spell_level('pyro_photokinetic_combo_fireball') + 1) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 1, 5)"
      ]
    },
    "min_aoe": {
      "math": [
        "min( (( (u_spell_level('pyro_photokinetic_combo_flash') * 0.25) + 3) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 8)"
      ]
    },
    "max_aoe": 10,
    "max_range": 12,
    "ignored_monster_species": [ "PSI_NULL" ]
  }
]
