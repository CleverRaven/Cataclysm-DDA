[
  {
    "id": "eoc_gun_kata_check_adjacent_foes",
    "name": "Gun Kata Movement Check for Adjacent enemies",
    "condition": {
      "and": [
        { "u_has_wielded_with_skill": "cutting" },
        { "u_has_flag": "ACTIVE_PRECOG" },
        { "math": [ "u_monsters_nearby('radius': 1)" ] }
      ]
    },
    "effect": [ { "run_eocs": "eoc_gun_kata_melee_onmove" } ]
  },
  {
    "id": "eoc_gun_kata_melee_onmove",
    "name": "Bladed Wind",
    "condition": { "compare_string": [ "run", { "context_val": "movement_mode" } ] },
    "effect": [ { "u_attack": "mom_tec_bladed_wind" } ],
    "false_effect": "eoc_gun_kata_melee_onmove2"
  },
  {
    "id": "eoc_gun_kata_melee_onmove2",
    "name": "En Passant",
    "condition": { "compare_string": [ "walk", { "context_val": "movement_mode" } ] },
    "effect": [ { "u_attack": "mom_tec_en_passant" } ]
  },
  {
    "id": "eoc_gun_kata_fire_onmove",
    "type": "effect_on_condition",
    "effect": [ "u_ranged_attack" ]
  }
]
