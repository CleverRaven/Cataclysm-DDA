[
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_STORM_PSION_AWAKENING_DISTANT",
    "global": true,
    "recurrence": [ "5 minutes", "10 minutes" ],
    "condition": {
      "and": [
        "u_is_outside",
        { "is_weather": "distant_portal_storm" },
        { "not": { "u_has_worn_with_flag": "PORTAL_PROOF" } },
        { "not": { "u_has_effect": "sleep" } }
      ]
    },
    "deactivate_condition": { "not": { "is_weather": "distant_portal_storm" } },
    "effect": {
      "switch": { "global_val": "var", "var_name": "ps_str" },
      "cases": [
        {
          "case": 1,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 100 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 2,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 85 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 3,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 65 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 4,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 55 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 5,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 40 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 6,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 25 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 8,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 20 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 10,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 15 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 15,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 10 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        }
      ]
    }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_STORM_PSION_AWAKENING_MEDIUM",
    "global": true,
    "recurrence": [ "2 minutes", "5 minutes" ],
    "condition": {
      "and": [
        "u_is_outside",
        { "is_weather": "portal_storm" },
        { "not": { "u_has_worn_with_flag": "PORTAL_PROOF" } },
        { "not": { "u_has_effect": "sleep" } }
      ]
    },
    "deactivate_condition": { "not": { "is_weather": "portal_storm" } },
    "effect": {
      "switch": { "global_val": "var", "var_name": "ps_str" },
      "cases": [
        {
          "case": 1,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 100 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 2,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 85 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 3,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 65 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 4,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 55 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 5,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 40 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 6,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 25 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 8,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 20 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 10,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 15 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 15,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 10 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        }
      ]
    }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_STORM_PSION_AWAKENING_CLOSE",
    "global": true,
    "recurrence": [ "1 minutes", "2 minutes" ],
    "condition": {
      "and": [
        "u_is_outside",
        { "is_weather": "close_portal_storm" },
        { "not": { "u_has_worn_with_flag": "PORTAL_PROOF" } },
        { "not": { "u_has_effect": "sleep" } }
      ]
    },
    "deactivate_condition": { "not": { "is_weather": "close_portal_storm" } },
    "effect": {
      "switch": { "global_val": "var", "var_name": "ps_str" },
      "cases": [
        {
          "case": 1,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 100 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 2,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 85 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 3,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 65 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 4,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 55 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 5,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 40 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 6,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 25 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 8,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 20 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 10,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 15 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        },
        {
          "case": 15,
          "effect": {
            "weighted_list_eocs": [
              [ "EOC_PORTAL_NULL_AWAKENING", { "const": 10 } ],
              [ "EOC_PORTAL_BIOKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_CLAIR_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PYRO_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TELEKIN_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_TEEP_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_PORTER_AWAKENING", { "const": 1 } ],
              [ "EOC_PORTAL_VITA_AWAKENING", { "const": 1 } ]
            ]
          }
        }
      ]
    }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_NULL_AWAKENING",
    "effect": [ { "u_message": "" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_BIOKIN_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "BIOKINETIC" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  New strength and vigor suddenly fill you.  You stand up straight and tall, heedless of the wind and the kaleidoscoping sky, and clench your fists.  You feel like you could take on the world, like you could sprint for an hour without stopping, like you could wrestle one of those giant insects to the ground and pin it, like you could dodge bullets.  You unclench your fists and shake your head, but the sense of strength remains.",
        "popup": true
      },
      { "u_add_trait": "BIOKINETIC" },
      { "u_add_trait": "BIOKIN_NEEDS" },
      { "run_eocs": "EOC_TEACH_BIOKIN_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as your muscles begin cramping uncontrollably.  They suddenly seize up and you collapse to the ground, staring up at the sky, unable to move."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "effect_biokin_overload", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 5 s')" ] } },
      { "u_add_effect": "motor_seizure", "duration": { "math": [ "ps_str * u_val('time: 5 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_CLAIR_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "CLAIRSENTIENT" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  You close your eyes but you can still see--at first just a light against your eyelids, then like a train approaching the end of a tunnel, light expands and reveals your surroundings.  You can see in all directions.  You can see behind and beneath every blade of grass around you, illuminated in the storm's witchlight, for a moment until your awareness snaps back into your body and you reel back with the shock of it.  When you open your eyes again, the colors around you are brighter and the sounds are clearer than before.",
        "popup": true
      },
      { "u_add_trait": "CLAIRSENTIENT" },
      { "u_add_trait": "CLAIR_SENSES" },
      { "run_eocs": "EOC_TEACH_CLAIR_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as your vision wavers.  The sky grows bright, and then dark.  Sounds fade away before roaring in your ears, and then the entire world suddenly vanishes, leaving you in silent darkness."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "hallu", "duration": { "math": [ "ps_str * u_val('time: 3 h')" ] } },
      { "u_add_effect": "blind_clair_overload", "duration": { "math": [ "ps_str * u_val('time: 15 s')" ] } },
      { "u_add_effect": "deaf_clair_overload", "duration": { "math": [ "ps_str * u_val('time: 15 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_PYRO_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "PYROKINETIC" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  You stretch out your hand toward the shattering sky and a glow gathers around it as the air itself begins to shine.  The glow brightens and then flames arise, dancing on the open area above your palm.  You move your hand and the flames move with it, swirling around you, and with a final wave they scatter into the air.  The glow fades, but the sensation of heat remains.",
        "popup": true
      },
      { "u_add_trait": "PYROKINETIC" },
      { "u_add_trait": "PYROGLOW_WEAK" },
      { "u_add_trait": "PYROGLOW_STRONG" },
      { "run_eocs": "EOC_TEACH_PYROKIN_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as your skin prickles.  The air grows warm, then hot, and sweat springs from every pore. The air around you takes on a lambent glow as the heat continues to rise, until your muscles give out and you collapse to your knees."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "effect_pyrokin_overload", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 1 s')" ] } },
      { "u_set_field": "fd_hot_air3", "outdoor_only": true },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_TELEKIN_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "TELEKINETIC" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  You look around for shelter, but you're out in the open.  You reach down toward the ground but the ground starts rising--bits of grass and rock and dirt lifting up and swirling around you.  The roar in your head grows louder as you slowly rise off the ground, the debris around you whirling faster and faster, until the your mind suddenly stills and you collapse back to the earth with a thump.  The pebbles around start to fall--but one catches your eye, and as you look at it, it stops and hovers in the air for a moment.",
        "popup": true
      },
      { "u_add_trait": "TELEKINETIC" },
      { "u_add_trait": "TELEKINETIC_LIFTER_1" },
      { "run_eocs": "EOC_TEACH_TELEKIN_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as you stagger.  The very air seems to press down on you, its weight growing steadily more oppressive.  Every step takes more effort than a sprint.  You concentrate on putting one foot in front of the other but it takes almost all of your concentration to do so."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "effect_telekin_overload", "duration": { "math": [ "ps_str * u_val('time: 30 m')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 1 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_TEEP_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "TELEPATH" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  A babble of voices, male, female, neither, both, and some not human at all, speaking to you.  The world is rapidly dying.  The dead and the fungus and the plants will fight over what remains and there will be nothing left for humanity.  Stay out here, where realities converge and walk into a better tomorrow.  As the voices blend together, the volume rising, you reach inside your own mind somehow and twist--and are greeted with blessed silence.  Though the portal storm still rages, internally you are calm.",
        "popup": true
      },
      { "u_add_trait": "TELEPATH" },
      { "u_add_trait": "TELEPATHIC_SUGGESTION" },
      { "run_eocs": "EOC_TEACH_TELEPATH_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as whispers begin.  First only a murmur, steadily growing louder and louder until they grow into a cacophony of voices.  You hear pleas for mercy, screams of agony, cries of rage and sorrow, all mixed together in an avalache of sound that drives you to your knees as you clutch your ears to shut them out.  It doesn't help."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "nightmares", "duration": { "math": [ "ps_str * u_val('time: 4 h')" ] } },
      { "u_add_effect": "disrupted_sleep", "duration": { "math": [ "ps_str * u_val('time: 4 h')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 1 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_PORTER_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "TELEPORTER" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Reality grows thin--you can see the ground beneath your hand. You can see the spaces between molecules, larger by far than the distances at a macro scale.  You see the paths you could take to slip between them, to traverse space in an instant without any obstacles in your path.  As the distances collapse back and reality grows solid once again, that knowledge remains with you.",
        "popup": true
      },
      { "u_add_trait": "TELEPORTER" },
      { "u_add_trait": "TELEPORTER_PROTECT" },
      { "run_eocs": "EOC_TEACH_TELEPORT_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as your vision wavers.  The world seems to grow far away, then close, and you stumble as your legs can't seem to tell where the ground is.  As you recover and look up, you find yourself somewhere else."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "effect_portal_storm_teleport", "duration": { "math": [ "ps_str * u_val('time: 20 s')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 1 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_VITA_AWAKENING",
    "condition": {
      "and": [
        { "not": { "u_has_trait": "VITAKINETIC" } },
        { "not": { "u_has_effect": "psionic_awakened" } },
        { "x_in_y_chance": { "x": { "math": [ "100 - awakening_reducer" ] }, "y": 100 } }
      ]
    },
    "effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  For a moment, you can feel the blood flowing in your veins, every blood cell traveling through your body on its way to your cells.  You can feel the oxygen in your lungs cross through into your blood.  The howling of the portal storm pulses in time with your heartbeat for a moment before your awareness fades, but a lingering trace of it remains in the back of your mind.",
        "popup": true
      },
      { "u_add_trait": "VITAKINETIC" },
      { "u_add_trait": "VITAKINETIC_HEALTH" },
      { "run_eocs": "EOC_TEACH_VITAKIN_CONTEMPLATE_RECIPES" },
      { "u_add_effect": "psionic_awakened", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "math": [ "awakening_countup", "+=", "1" ] },
      { "math": [ "awakening_reducer", "=", "(100 - (100 * (e ^ (awakening_countup / -3) ) ) )" ] }
    ],
    "false_effect": [
      {
        "u_message": "A roar fills your mind, louder even than the screaming madness of the portal storm.  Your head pounds in time with the kaleidoscoping sky as the beating of your heart thuds in your ears.  You can feel the blood rushing through your veins, warmth slowly spreading through your body, and a sensation of heat that gets stronger and stronger until it becomes an feverish itching across your entire body, driving you to your knees."
      },
      { "u_add_effect": "psionic_overload", "duration": { "math": [ "ps_str * u_val('time: 1 h')" ] } },
      { "u_add_effect": "flu", "duration": { "math": [ "ps_str * u_val('time: 4 h')" ] } },
      { "u_add_effect": "effect_vitakin_overload", "duration": { "math": [ "ps_str * u_val('time: 2 h')" ] } },
      { "u_add_effect": "downed", "duration": { "math": [ "ps_str * u_val('time: 3 s')" ] } },
      { "math": [ "u_val('stamina')", "-=", "4000" ] }
    ]
  }
]
