[
  {
    "type": "effect_on_condition",
    "id": "EOC_TELEKINETIC_LIFTER",
    "condition": { "u_has_trait": "TELEKINETIC" },
    "effect": {
      "switch": { "math": [ "u_spell_level_sum('school': 'TELEKINETIC') / 8" ] },
      "cases": [
        {
          "case": 0,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_1" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 1,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_2" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 2,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_3" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 3,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_4" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 4,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_5" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 5,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_6" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 6,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_7" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 7,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_8" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 8,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_9" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 9,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_10" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 10,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_11" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 11,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_12" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 12,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_13" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 13,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_14" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 14,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_15" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 15,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_16" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 16,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_17" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 17,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_18" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 18,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_19" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 19,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_20" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 20,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_21" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 21,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_22" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 22,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_23" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 23,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_24" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 24,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_25" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 25,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_26" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 26,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_27" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 27,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_28" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 28,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_29" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        },
        {
          "case": 29,
          "effect": [
            { "run_eocs": "EOC_TELEKIN_REMOVE_LIFTING_FIELD" },
            { "u_add_trait": "TELEKINETIC_LIFTER_30" },
            { "u_message": "You meditate on your lifting field.", "type": "good" }
          ]
        }
      ]
    }
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_TELEKIN_REMOVE_LIFTING_FIELD",
    "condition": { "u_has_trait": "TELEKINETIC" },
    "effect": [
      { "u_lose_trait": "TELEKINETIC_LIFTER_30" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_29" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_28" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_27" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_26" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_25" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_24" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_23" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_22" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_21" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_20" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_19" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_18" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_17" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_16" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_15" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_14" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_13" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_12" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_11" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_10" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_9" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_8" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_7" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_6" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_5" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_4" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_3" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_2" },
      { "u_lose_trait": "TELEKINETIC_LIFTER_1" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PSI_EXTENDED_CHANNELING_ON",
    "condition": { "not": { "u_has_trait": "PSI_EXTENDED_CHANNELING_active" } },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PSI_EXTENDED_CHANNELING_ON_2",
            "condition": { "u_has_trait": "PSI_TORRENTIAL_CHANNELING_active" },
            "effect": [
              { "u_deactivate_trait": "PSI_TORRENTIAL_CHANNELING" },
              { "u_add_trait": "PSI_EXTENDED_CHANNELING_active" },
              { "u_message": "You begin to take more care in channeling your powers.", "type": "good" }
            ],
            "false_effect": [
              { "u_add_trait": "PSI_EXTENDED_CHANNELING_active" },
              { "u_message": "You begin to take more care in channeling your powers.", "type": "good" }
            ]
          }
        ]
      }
    ],
    "false_effect": [
      { "u_lose_trait": "PSI_EXTENDED_CHANNELING_active" },
      { "u_message": "You return to your previous speed in channeling your powers.", "type": "neutral" }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PSI_TORRENTIAL_CHANNELING_ON",
    "condition": { "not": { "u_has_trait": "PSI_TORRENTIAL_CHANNELING_active" } },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PSI_TORRENTIAL_CHANNELING_ON_2",
            "condition": { "u_has_trait": "PSI_EXTENDED_CHANNELING_active" },
            "effect": [
              { "u_deactivate_trait": "PSI_EXTENDED_CHANNELING" },
              { "u_add_trait": "PSI_TORRENTIAL_CHANNELING_active" },
              { "u_message": "You begin drawing deeply on the Nether.", "type": "good" }
            ],
            "false_effect": [
              { "u_add_trait": "PSI_TORRENTIAL_CHANNELING_active" },
              { "u_message": "You begin drawing deeply on the Nether.", "type": "good" }
            ]
          }
        ]
      }
    ],
    "false_effect": [
      { "u_lose_trait": "PSI_TORRENTIAL_CHANNELING_active" },
      { "u_message": "The cut off the overflow of Nether power.", "type": "neutral" }
    ]
  }
]
