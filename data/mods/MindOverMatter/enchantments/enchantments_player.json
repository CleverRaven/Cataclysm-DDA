[
  {
    "type": "enchantment",
    "id": "enchant_clair_potion",
    "condition": "ALWAYS",
    "has": "HELD",
    "values": [ { "value": "BONUS_DODGE", "add": 1 } ],
    "intermittent_activation": { "effects": [ { "frequency": "2 seconds", "spell_effects": [ { "id": "clair_potion_clairvoyance" } ] } ] }
  },
  {
    "id": "clair_potion_clairvoyance",
    "type": "SPELL",
    "name": "[Ψ]Gray Potion Clairvoyance",
    "description": "The clairvoyance effect from the elixir.  If you have it it's a bug.",
    "valid_targets": [ "hostile" ],
    "flags": [ "CONCENTRATE", "SILENT", "NO_HANDS", "NO_LEGS", "IGNORE_WALLS", "NO_EXPLOSION_SFX" ],
    "effect": "attack",
    "shape": "blast",
    "difficulty": 4,
    "max_level": 1,
    "min_aoe": 20,
    "max_aoe": 20,
    "field_id": "fd_clairvoyant",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_duration": 200,
    "max_duration": 200
  },
  {
    "type": "enchantment",
    "id": "enchant_clair_speed_read",
    "condition": "ALWAYS",
    "has": "HELD",
    "values": [
      {
        "value": "READING_EXP",
        "add": {
          "math": [
            "( ( u_val('spell_level', 'spell: clair_speed_reading') * 0.15) * (scaling_factor(u_val('intelligence') ))) * u_nether_attunement_power_scaling"
          ]
        }
      }
    ]
  },
  {
    "type": "enchantment",
    "id": "ench_clair_group_tactics",
    "condition": "ALWAYS",
    "has": "HELD",
    "values": [ { "value": "BONUS_DODGE", "add": -1 } ],
    "intermittent_activation": { "effects": [ { "frequency": "2 seconds", "spell_effects": [ { "id": "clair_group_tactics_aoe" } ] } ] }
  },
  {
    "id": "clair_group_tactics_aoe",
    "type": "SPELL",
    "name": "[Ψ]Prescient Tactics AoE",
    "description": "This provides the buff to your followers.  It's a bug if you have it directly.",
    "message": "",
    "teachable": false,
    "valid_targets": [ "ally" ],
    "flags": [ "PSIONIC", "CONCENTRATE", "SILENT", "NO_HANDS", "NO_LEGS", "IGNORE_WALLS", "NO_EXPLOSION_SFX" ],
    "effect": "attack",
    "effect_str": "effect_clair_group_tactics_other",
    "shape": "blast",
    "min_aoe": 20,
    "max_aoe": 20,
    "//": "Range here is C conversational range",
    "min_duration": 200,
    "max_duration": 200
  },
  {
    "type": "enchantment",
    "id": "enchant_electrokin_zap_enemies",
    "condition": "ALWAYS",
    "has": "HELD",
    "hit_me_effect": [ { "id": "electrokin_zap_attacked", "hit_self": false, "once_in": 2 } ]
  },
  {
    "id": "electrokin_zap_attacked",
    "type": "SPELL",
    "name": "Electrokinetic aura thorns",
    "description": "Do electrical damage to a monster that attacked you.  If you have this directly its a bug.",
    "valid_targets": [ "hostile" ],
    "flags": [ "RANDOM_DAMAGE" ],
    "shape": "blast",
    "effect": "attack",
    "damage_type": "electric",
    "min_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinesis_zap_enemies') / 4 ) + 1) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "max_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinesis_zap_enemies') / 2 ) + 5) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "min_range": 1,
    "max_range": 1
  },
  {
    "type": "enchantment",
    "id": "enchant_electrokin_electric_strikes",
    "condition": "ALWAYS",
    "has": "HELD",
    "hit_you_effect": [ { "id": "electrokin_zap_attack", "hit_self": false, "once_in": 2 } ],
    "values": [ { "value": "ARMOR_ELEC", "add": { "math": [ "u_val('spell_level', 'spell: electrokinetic_melee_attacks') * -1" ] } } ]
  },
  {
    "id": "electrokin_zap_attack",
    "type": "SPELL",
    "name": "Electrokinetic melee attacks",
    "description": "Do electrical damage to a monster you attack.  If you have this directly its a bug.",
    "valid_targets": [ "hostile" ],
    "flags": [ "RANDOM_DAMAGE", "RANDOM_AOE" ],
    "shape": "blast",
    "effect": "attack",
    "damage_type": "electric",
    "min_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinetic_melee_attacks') / 3 ) + 3) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "max_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinetic_melee_attacks') / 1.5 ) + 10) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling"
      ]
    },
    "min_range": 1,
    "max_range": 1,
    "min_aoe": 0,
    "max_aoe": 1,
    "field_id": "fd_electricity",
    "field_chance": 2,
    "min_field_intensity": 1,
    "max_field_intensity": 4,
    "field_intensity_variance": 10
  },
  {
    "type": "enchantment",
    "id": "enchant_electrokin_lightning_aura",
    "condition": "ALWAYS",
    "has": "HELD",
    "intermittent_activation": { "effects": [ { "frequency": "5 seconds", "spell_effects": [ { "id": "electrokinetic_lightning_aura_attack" } ] } ] },
    "values": [
      { "value": "ARMOR_ELEC", "add": { "math": [ "u_val('spell_level', 'spell: electrokinetic_lightning_aura') * -1" ] } }
    ]
  },
  {
    "id": "electrokinetic_lightning_aura_attack",
    "type": "SPELL",
    "name": "[Ψ]Galvanic Aura Sparks",
    "description": "Galvanic Aura attacks.  It's a bug if you have it.",
    "message": "",
    "teachable": false,
    "valid_targets": [ "hostile", "ally" ],
    "spell_class": "ELECTROKINETIC",
    "skill": "metaphysics",
    "flags": [ "PSIONIC", "LOUD", "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS" ],
    "effect": "emit",
    "effect_str": "emit_shock_cloud_big",
    "shape": "blast",
    "damage_type": "electric",
    "max_level": { "math": [ "int_to_level(1)" ] }
  },
  {
    "id": "electrokinetic_lightning_aura_attack_placeholder",
    "//": "This one doesn't work currently.  Preserved here until it's fixed.",
    "type": "SPELL",
    "name": "[Ψ]Galvanic Aura Bolt",
    "description": "Galvanic Aura attacks.  It's a bug if you have it.",
    "message": "",
    "teachable": false,
    "valid_targets": [ "hostile", "ally" ],
    "spell_class": "ELECTROKINETIC",
    "skill": "metaphysics",
    "flags": [ "CONCENTRATE", "LOUD", "NO_PROJECTILE", "RANDOM_DAMAGE", "RANDOM_CRITTER", "NO_HANDS", "NO_LEGS" ],
    "effect": "attack",
    "shape": "line",
    "damage_type": "electric",
    "max_level": { "math": [ "int_to_level(1)" ] },
    "min_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinetic_lightning_aura') * 1) + 5) * (scaling_factor(u_val('intelligence') ) )"
      ]
    },
    "max_damage": {
      "math": [
        "( (u_val('spell_level', 'spell: electrokinetic_lightning_bolt') * 1.5) + 20) * (scaling_factor(u_val('intelligence') ) )"
      ]
    },
    "min_range": {
      "math": [
        "min( ( (u_val('spell_level', 'spell: electrokinetic_lightning_aura') * 0.33) + 2) * (scaling_factor(u_val('intelligence') ) ), 10)"
      ]
    },
    "max_range": 10,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 4,
    "field_chance": 1
  },
  {
    "type": "enchantment",
    "id": "enchant_pyrokin_cloak",
    "condition": "ALWAYS",
    "has": "HELD",
    "emitter": "emit_pyrokin_cloak",
    "values": [
      {
        "value": "CLIMATE_CONTROL_CHILL",
        "add": {
          "math": [
            "(60 + ( u_val('spell_level', 'spell: pyrokinetic_cloak') * 4) * ( ( u_val('intelligence') + 10) / 20 ) ) * u_nether_attunement_power_scaling"
          ]
        }
      },
      {
        "value": "CLIMATE_CONTROL_HEAT",
        "add": {
          "math": [
            "( ( u_val('spell_level', 'spell: pyrokinetic_cloak') * 10) * ( ( u_val('intelligence') + 10) / 20 ) ) * u_nether_attunement_power_scaling"
          ]
        }
      },
      {
        "value": "ARMOR_HEAT",
        "add": {
          "math": [
            "( ( u_val('spell_level', 'spell: pyrokinetic_cloak') * -10) * ( ( u_val('intelligence') + 10) / 20 ) ) * u_nether_attunement_power_scaling"
          ]
        }
      },
      {
        "value": "ARMOR_COLD",
        "add": {
          "math": [
            "( ( u_val('spell_level', 'spell: pyrokinetic_cloak') * -3) * ( ( u_val('intelligence') + 10) / 20 ) ) * u_nether_attunement_power_scaling"
          ]
        }
      }
    ]
  },
  {
    "type": "enchantment",
    "id": "enchant_clair_sense_rads",
    "condition": "ALWAYS",
    "has": "HELD",
    "intermittent_activation": { "effects": [ { "frequency": "10 seconds", "spell_effects": [ { "id": "clair_sense_rads_outside_spawn_item" } ] } ] }
  },
  {
    "type": "enchantment",
    "id": "enchant_photokin_blinding_glare",
    "condition": "ALWAYS",
    "has": "HELD",
    "hit_you_effect": [ { "id": "photokin_blinding_glare_attack", "hit_self": false, "once_in": 3 } ],
    "hit_me_effect": [ { "id": "photokin_blinding_glare_attack", "hit_self": false, "once_in": 3 } ],
    "values": [ { "value": "LUMINATION", "add": 10001 } ]
  },
  {
    "id": "photokin_blinding_glare_attack",
    "type": "SPELL",
    "name": "Photokinetic Blinding Radiance burst",
    "description": "Blind nearby targets.",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT", "RANDOM_DURATION" ],
    "max_level": { "math": [ "int_to_level(1)" ] },
    "shape": "blast",
    "effect": "attack",
    "effect_str": "blind",
    "min_aoe": {
      "math": [
        "min( (( (u_val('spell_level', 'spell: photokinetic_blinding_glare') * 1.2) + 5) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 40)"
      ]
    },
    "max_aoe": 40,
    "min_range": {
      "math": [
        "min( (( (u_val('spell_level', 'spell: photokinetic_blinding_glare') * 1.2) + 5) * (scaling_factor(u_val('intelligence') ) ) * u_nether_attunement_power_scaling), 40)"
      ]
    },
    "min_duration": 500,
    "max_duration": 2000
  },
  {
    "type": "enchantment",
    "id": "enchant_pyrokinetic_aura",
    "condition": "ALWAYS",
    "has": "HELD",
    "hit_you_effect": [ { "id": "pyro_aura_attack", "hit_self": false } ],
    "hit_me_effect": [ { "id": "pyro_aura_attacked", "hit_self": false } ],
    "emitter": "emit_pyrokin_fever",
    "values": [ { "value": "LUMINATION", "add": 50 }, { "value": "CLIMATE_CONTROL_CHILL", "add": 40 } ]
  },
  {
    "id": "pyro_aura_attack",
    "type": "SPELL",
    "name": "Pyrokinetic aura stabbing",
    "description": "Do fire damage to a monster that you attack.",
    "valid_targets": [ "hostile" ],
    "flags": [ "RANDOM_DAMAGE", "IGNITE_FLAMMABLE" ],
    "shape": "blast",
    "effect": "attack",
    "damage_type": "heat",
    "min_damage": { "math": [ "5 * u_nether_attunement_power_scaling" ] },
    "max_damage": { "math": [ "15 * u_nether_attunement_power_scaling" ] },
    "min_range": 1,
    "max_range": 1
  },
  {
    "id": "pyro_aura_attacked",
    "type": "SPELL",
    "name": "Pyrokinetic aura thorns",
    "description": "Do fire damage to a monster that attacked you.",
    "valid_targets": [ "hostile" ],
    "flags": [ "RANDOM_DAMAGE", "IGNITE_FLAMMABLE" ],
    "shape": "blast",
    "effect": "attack",
    "damage_type": "heat",
    "min_damage": { "math": [ "5 * u_nether_attunement_power_scaling" ] },
    "max_damage": { "math": [ "20 * u_nether_attunement_power_scaling" ] },
    "min_range": 1,
    "max_range": 1
  },
  {
    "type": "enchantment",
    "id": "enchant_pyrokin_potion",
    "condition": "ALWAYS",
    "has": "HELD",
    "values": [ { "value": "ARMOR_HEAT", "add": -50 } ],
    "hit_me_effect": [ { "id": "pyro_aura_attacked", "hit_self": false } ]
  },
  {
    "type": "enchantment",
    "id": "enchant_teleport_potion",
    "condition": "ALWAYS",
    "has": "HELD",
    "hit_you_effect": [
      {
        "id": "teleport_slow_monster",
        "hit_self": false,
        "min_level": 1,
        "message": "The air around your enemy warps slightly."
      }
    ]
  }
]
