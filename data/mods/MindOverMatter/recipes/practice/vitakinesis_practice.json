[
  {
    "id": "vitakinesis_practice",
    "type": "nested_category",
    "activity_level": "LIGHT_EXERCISE",
    "category": "CC_PRACTICE",
    "subcategory": "CSC_PRACTICE_METAPHYSICS",
    "name": "contemplation: vitakinesis",
    "description": "Recipes related to practicing vitakinesis.",
    "skill_used": "metaphysics",
    "nested_category_data": [
      "practice_vita_health_power",
      "practice_vita_slow_bleeding",
      "practice_vita_concentrated_healing",
      "practice_vita_stop_bleeding",
      "practice_vita_healing_touch",
      "practice_vita_remove_poison",
      "practice_vita_hurt_touch",
      "practice_vita_sleeping_trance",
      "practice_vita_cure_disease",
      "practice_vita_stop_infection",
      "practice_vita_purge_rads",
      "practice_vita_healing_trance",
      "practice_vita_attack_touch",
      "practice_vita_blood_purge",
      "practice_vita_banish_illness",
      "practice_vita_super_heal",
      "practice_vita_limb_restore",
      "practice_vita_return_from_death"
    ],
    "difficulty": 1
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: healthy glow",
    "id": "practice_vita_health_power",
    "description": "Contemplate your powers and improve your ability to enhance your overall health.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 0,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_HEALTH",
        "condition": { "math": [ "u_spell_level('vita_health_power')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_health_power", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "1" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: coagulation",
    "id": "practice_vita_slow_bleeding",
    "description": "Contemplate your powers and improve your ability to slow your rate of bleeding.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 0,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_SLOW_BLEEDING",
        "condition": { "math": [ "u_spell_level('vita_slow_bleeding')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_slow_bleeding", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "1" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: leukocyte accumulation",
    "id": "practice_vita_concentrated_healing",
    "description": "Contemplate your powers and improve your ability to direct your body's healing ability to where it is most needed.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_CONCENTRATED_HEALING",
        "condition": { "math": [ "u_spell_level('vita_concentrated_healing')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_concentrated_healing", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "2" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_concentrated_healing", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_CONCENTRATED_HEALING_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(2)" ] }, { "math": [ "learn_new_power_upper_time_bound(2)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_CONCENTRATED_HEALING_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_concentrated_healing", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_CONCENTRATED_HEALING_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 6
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_concentrated_healing')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: staunch wound",
    "id": "practice_vita_stop_bleeding",
    "description": "Contemplate your powers and improve your ability to stop bleeding.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_STAUNCHING",
        "condition": { "math": [ "u_spell_level('vita_stop_bleeding')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_stop_bleeding", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "2" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_stop_bleeding", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_STAUNCHING_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(2)" ] }, { "math": [ "learn_new_power_upper_time_bound(2)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_STAUNCHING_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_stop_bleeding", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_STAUNCHING_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 6
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_stop_bleeding')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: enervating touch",
    "id": "practice_vita_hurt_touch",
    "description": "Contemplate your powers and improve your ability to induce decay.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_HURT",
        "condition": { "math": [ "u_spell_level('vita_hurt_touch')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_hurt_touch", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "3" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_hurt_touch", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_HURT_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_HURT_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_hurt_touch", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_HURT_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_hurt_touch')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: medicinal touch",
    "id": "practice_vita_healing_touch",
    "description": "Contemplate your powers and improve your ability to speed your allies' healing.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_HEAL_TOUCH_ALLY",
        "condition": { "math": [ "u_spell_level('vita_health_power_ally')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_health_power_ally", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "3" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_health_power_ally", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_HEAL_TOUCH_ALLY_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_HEAL_TOUCH_ALLY_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_health_power_ally", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_HEAL_TOUCH_ALLY_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_health_power_ally')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: detoxification",
    "id": "practice_vita_remove_poison",
    "description": "Contemplate your powers and improve your ability to sweat out any dangerous toxins.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_REMOVE_POISON",
        "condition": { "math": [ "u_spell_level('vita_remove_poison')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_remove_poison", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "3" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_remove_poison", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_REMOVE_POISON_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_REMOVE_POISON_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_remove_poison", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_REMOVE_POISON_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_remove_poison')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: wakeful rest",
    "id": "practice_vita_sleeping_trance",
    "description": "Contemplate your powers and develop your ability to forego sleep in favor of meditation.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 3,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_SLEEP",
        "condition": { "math": [ "u_spell_level('vita_sleeping_trance')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_sleeping_trance", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "4" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_sleeping_trance", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_SLEEP_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(4)" ] }, { "math": [ "learn_new_power_upper_time_bound(4)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_SLEEP_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_sleeping_trance", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_SLEEP_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 8
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_sleeping_trance')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: immunostimulus",
    "id": "practice_vita_cure_disease",
    "description": "Contemplate your powers and develop your ability to cure mundane illnesses in yourself.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 3,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_CURE_DISEASE",
        "condition": { "math": [ "u_spell_level('vita_cure_disease')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_cure_disease", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "4" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_cure_disease", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_CURE_DISEASE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(4)" ] }, { "math": [ "learn_new_power_upper_time_bound(4)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_CURE_DISEASE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_cure_disease", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_CURE_DISEASE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 8
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_cure_disease')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: allay infection",
    "id": "practice_vita_stop_infection",
    "description": "Contemplate your powers and improve your ability to use your powers to disinfect.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 4,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_STOP_INFECTION",
        "condition": { "math": [ "u_spell_level('vita_stop_infection')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_stop_infection", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "5" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_stop_infection", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_STOP_INFECTION_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_STOP_INFECTION_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_stop_infection", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_STOP_INFECTION_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_stop_infection')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: revitalizing meditation",
    "id": "practice_vita_healing_trance",
    "description": "Contemplate your powers and improve your ability to speed healing while meditating.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_HEALING_TRANCE",
        "condition": { "math": [ "u_spell_level('vita_healing_trance')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_healing_trance", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "6" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_healing_trance", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_HEALING_TRANCE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(6)" ] }, { "math": [ "learn_new_power_upper_time_bound(6)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_HEALING_TRANCE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_healing_trance", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_HEALING_TRANCE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 10
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_healing_trance')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: radiation decontamination",
    "id": "practice_vita_purge_rads",
    "description": "Contemplate your powers and improve your ability to remove radiation from your body.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_PURGE_RADS",
        "condition": { "math": [ "u_spell_level('vita_purge_rads')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_purge_rads", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "6" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: lacerating touch",
    "id": "practice_vita_attack_touch",
    "description": "Contemplate your powers and improve your ability to cause wounds with a touch.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_ATTACK_TOUCH",
        "condition": { "math": [ "u_spell_level('vita_attack_touch')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_attack_touch", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "6" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_attack_touch", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_ATTACK_TOUCH_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(6)" ] }, { "math": [ "learn_new_power_upper_time_bound(6)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_ATTACK_TOUCH_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_attack_touch", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_ATTACK_TOUCH_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 10
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_attack_touch')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: blood purge",
    "id": "practice_vita_blood_purge",
    "description": "Contemplate your powers and improve your ability to cleanse impurities from your blood.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 6,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_PURGE",
        "condition": { "math": [ "u_spell_level('vita_blood_purge')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_blood_purge", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "7" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_blood_purge", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_PURGE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(7)" ] }, { "math": [ "learn_new_power_upper_time_bound(7)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_PURGE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_blood_purge", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_PURGE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 11
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_blood_purge')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: banish illness",
    "id": "practice_vita_banish_illness",
    "description": "Contemplate your powers and improve your ability to cure permanent or long-term conditions.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 7,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_BANISH_ILLNESS",
        "condition": { "math": [ "u_spell_level('vita_banish_illness')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_banish_illness", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "8" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_banish_illness", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_BANISH_ILLNESS_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(8)" ] }, { "math": [ "learn_new_power_upper_time_bound(8)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_BANISH_ILLNESS_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_banish_illness", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_BANISH_ILLNESS_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 12
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_banish_illness')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 40,80 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 40,80 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: anabolic rejuvenation",
    "id": "practice_vita_super_heal",
    "description": "Contemplate your powers and improve your ability to heal unbelievably quickly, but at a cost.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 8,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_SUPER_HEAL",
        "condition": { "math": [ "u_spell_level('vita_super_heal')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_super_heal", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "9" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_super_heal", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_SUPER_HEAL_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(9)" ] }, { "math": [ "learn_new_power_upper_time_bound(9)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_SUPER_HEAL_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_super_heal", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_SUPER_HEAL_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 13
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_super_heal')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 45,90 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 45,90 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: ameliorate extremity",
    "id": "practice_vita_limb_restore",
    "description": "Contemplate your powers and improve your ability to restore whole limbs, but at an extreme cost.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 9,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_LIMB_RESTORE",
        "condition": { "math": [ "u_spell_level('vita_limb_restore')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_limb_restore", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "9" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: accelerated resuscitation",
    "id": "practice_vita_return_from_death",
    "description": "Contemplate your powers and improve your ability to keep yourself alive in the event of a near-death experience.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 9,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_vitakinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_vitakinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_vitakin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_VITAKIN_RETURN_FROM_DEATH",
        "condition": { "math": [ "u_spell_level('vita_return_from_death')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "vita_return_from_death", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_vitakinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "10" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "vita_return_from_death", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_VITAKIN_RETURN_FROM_DEATH_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(9)" ] }, { "math": [ "learn_new_power_upper_time_bound(9)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_VITAKIN_RETURN_FROM_DEATH_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "vita_return_from_death", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_VITAKIN_RETURN_FROM_DEATH_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_vitakinesis')" ] },
                  "difficulty": 14
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('vita_return_from_death')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 50,100 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 50,100 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  }
]
