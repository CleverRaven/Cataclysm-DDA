[
  {
    "id": "pyrokinesis_practice",
    "type": "nested_category",
    "activity_level": "LIGHT_EXERCISE",
    "category": "CC_PRACTICE",
    "subcategory": "CSC_PRACTICE_METAPHYSICS",
    "name": "contemplation: pyrokinesis",
    "description": "Recipes related to practicing pyrokinesis.",
    "skill_used": "metaphysics",
    "nested_category_data": [
      "practice_pyrokinetic_flash",
      "practice_pyrokinetic_eruption",
      "practice_pyrokinetic_cauterize",
      "practice_pyrokinetic_call_flames",
      "practice_pyrokinetic_quell_flames",
      "practice_pyrokinetic_cloak",
      "practice_pyrokinetic_thermogenesis",
      "practice_pyrokinetic_lance",
      "practice_pyrokinetic_flamethrower",
      "practice_pyrokinetic_aura",
      "practice_pyrokinetic_flame_immunity",
      "practice_pyrokinetic_blast",
      "practice_pyrokinetic_aoe_blast",
      "practice_pyrokinetic_incineration"
    ],
    "difficulty": 1
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: brilliant flash",
    "id": "practice_pyrokinetic_flash",
    "description": "Contemplate your powers and improve your ability to create light.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 0,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_FLASH",
        "condition": { "math": [ "u_spell_level('pyrokinetic_flash')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_flash", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "1" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: fountain of flames",
    "id": "practice_pyrokinetic_eruption",
    "description": "Contemplate your powers and improve your ability to summon flames.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_FLAMES",
        "condition": { "math": [ "u_spell_level('pyrokinetic_eruption')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_eruption", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "2" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: cauterize",
    "id": "practice_pyrokinetic_cauterize",
    "description": "Contemplate your powers and improve your ability to close your wounds with precisely-directed fire.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_CAUTERIZE",
        "condition": { "math": [ "u_spell_level('pyrokinetic_cauterize')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_cauterize", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "2" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_cauterize", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_CAUTERIZE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(2)" ] }, { "math": [ "learn_new_power_upper_time_bound(2)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_CAUTERIZE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_cauterize", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_CAUTERIZE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 6
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_cauterize')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: quell fire",
    "id": "practice_pyrokinetic_quell_flames",
    "description": "Contemplate your powers and improve your ability to douse flames.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_QUELL_FIRE",
        "condition": { "math": [ "u_spell_level('pyrokinetic_quell_flames')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_quell_flames", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "3" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_quell_flames", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_QUELL_FIRE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_QUELL_FIRE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_quell_flames", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_QUELL_FIRE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_quell_flames')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: banked flames",
    "id": "practice_pyrokinetic_call_flames",
    "description": "Contemplate your powers and improve your ability to summon a controlled flame.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_CALL_FLAMES",
        "condition": { "math": [ "u_spell_level('pyrokinetic_call_flames')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_call_flames", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "3" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_call_flames", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_CALL_FLAMES_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_CALL_FLAMES_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_call_flames", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_CALL_FLAMES_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_call_flames')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: cloak of warmth",
    "id": "practice_pyrokinetic_cloak",
    "description": "Contemplate your powers and improve your control of nearby temperatures.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 3,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_CLOAK",
        "condition": { "math": [ "u_spell_level('pyrokinetic_cloak')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_cloak", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "4" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_cloak", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_CLOAK_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(4)" ] }, { "math": [ "learn_new_power_upper_time_bound(4)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_CLOAK_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_cloak", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_CLOAK_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 8
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_cloak')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: flamethrower",
    "id": "practice_pyrokinetic_flamethrower",
    "description": "Contemplate your powers and improve your ability to direct a spray of flame.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 4,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_FLAMETHROWER",
        "condition": { "math": [ "u_spell_level('pyrokinetic_flamethrower')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_flamethrower", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "5" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_flamethrower", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_FLAMETHROWER_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_FLAMETHROWER_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_flamethrower", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_FLAMETHROWER_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_flamethrower')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: incandescent lance",
    "id": "practice_pyrokinetic_lance",
    "description": "Contemplate your powers and improve your ability to focus heat into a searing point.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 4,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_LANCE",
        "condition": { "math": [ "u_spell_level('pyrokinetic_lance')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_lance", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "5" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_lance", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_LANCE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_LANCE_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_lance", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_LANCE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_lance')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: thermogenesis",
    "id": "practice_pyrokinetic_thermogenesis",
    "description": "Contemplate your powers and improve your ability to warm the air to produce lasting heat.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_THERMOGENESIS",
        "condition": { "math": [ "u_spell_level('pyrokinetic_thermogenesis')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_thermogenesis", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "6" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_thermogenesis", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_THERMOGENESIS_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_THERMOGENESIS_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_thermogenesis", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_THERMOGENESIS_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_thermogenesis')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: blazing aura",
    "id": "practice_pyrokinetic_aura",
    "description": "Contemplate your powers and improve your ability to heat the surrounding air to dangerous temperatures.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_AURA",
        "condition": { "math": [ "u_spell_level('pyrokinetic_aura')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_aura", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "6" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_aura", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_AURA_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(6)" ] }, { "math": [ "learn_new_power_upper_time_bound(6)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_AURA_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_aura", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_AURA_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 10
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_aura')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: flameshield",
    "id": "practice_pyrokinetic_flame_immunity",
    "description": "Contemplate your powers and improve your immunity to fire.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 6,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_FLAME_IMMUNITY",
        "condition": { "math": [ "u_spell_level('pyrokinetic_flame_immunity')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_flame_immunity", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "7" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_flame_immunity", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_FLAME_IMMUNITY_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(7)" ] }, { "math": [ "learn_new_power_upper_time_bound(7)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_FLAME_IMMUNITY_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_flame_immunity", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_FLAME_IMMUNITY_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 11
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_flame_immunity')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: conflagration",
    "id": "practice_pyrokinetic_blast",
    "description": "Contemplate your powers and improve your manifestation of explosions.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 6,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_BLAST",
        "condition": { "math": [ "u_spell_level('pyrokinetic_blast')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_blast", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "7" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_blast", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_BLAST_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(7)" ] }, { "math": [ "learn_new_power_upper_time_bound(7)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_BLAST_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_blast", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_BLAST_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 11
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_blast')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: hellfire",
    "id": "practice_pyrokinetic_aoe_blast",
    "description": "Contemplate your powers and improve your ability to call down sheets of fire on everything around you.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 8,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_AOE_BLAST",
        "condition": { "math": [ "u_spell_level('pyrokinetic_aoe_blast')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_aoe_blast", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "9" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_aoe_blast", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_AOE_BLAST_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(9)" ] }, { "math": [ "learn_new_power_upper_time_bound(9)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_AOE_BLAST_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_aoe_blast", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_AOE_BLAST_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 13
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_aoe_blast')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 45,90 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 45,90 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: crucible",
    "id": "practice_pyrokinetic_incineration",
    "description": "Contemplate your powers and improve your ability to completely incinerate your target.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 9,
    "time": "0 s",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_pyrokinesis", "required": false } ],
    "tools": [
      [ [ "matrix_crystal_drained", -1 ], [ "black_nether_crystal_pseudo_tool", -1 ], [ "matrix_crystal_pyrokinesis", -1 ] ]
    ],
    "components": [ [ [ "matrix_crystal_pyrokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_EASY", "NO_MANIP", "AFFECTED_BY_PAIN", "NO_BENCH", "NO_ENCHANTMENT" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PYROKIN_INCINERATION",
        "condition": { "math": [ "u_spell_level('pyrokinetic_incineration')", ">=", "1" ] },
        "effect": [
          { "set_string_var": "pyrokinetic_incineration", "target_var": { "u_val": "latest_studied_power_name" } },
          {
            "set_string_var": "prof_contemplation_pyrokinesis",
            "target_var": { "u_val": "latest_studied_power_proficiency" }
          },
          { "math": [ "u_latest_studied_power_difficulty", "=", "10" ] },
          { "run_eocs": [ "EOC_PSI_STUDYING_POWER_BEGIN", "EOC_PSI_STUDYING_POWER_SIDE_EFFECTS" ] }
        ],
        "false_effect": [
          { "set_string_var": "pyrokinetic_incineration", "target_var": { "u_val": "latest_studied_power_name" } },
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PYROKIN_INCINERATION_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(10)" ] }, { "math": [ "learn_new_power_upper_time_bound(10)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PYROKIN_INCINERATION_LEARNING",
    "condition": {
      "and": [
        { "compare_string": [ "pyrokinetic_incineration", { "u_val": "latest_studied_power_name" } ] },
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PYROKIN_INCINERATION_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_pyrokinesis')" ] },
                  "difficulty": 14
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked: <spell_name:<u_val:latest_studied_power_name>>.",
                "popup": true
              },
              { "math": [ "u_spell_level('pyrokinetic_incineration')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 50,100 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 50,100 )" ] },
              { "u_lose_effect": "effect_psi_learning_new_power" }
            ]
          }
        ]
      }
    ]
  }
]
