[
  {
    "id": "photokinesis_practice",
    "type": "nested_category",
    "//": "XP for level 12 is 49417, for level 10 is 35279, for level 7 is 20514",
    "activity_level": "LIGHT_EXERCISE",
    "category": "CC_PRACTICE",
    "subcategory": "CSC_PRACTICE_METAPHYSICS",
    "name": "contemplation: photokinesis",
    "description": "Recipes related to practicing photokinesis.",
    "skill_used": "metaphysics",
    "nested_category_data": [
      "practice_photokinetic_light_local",
      "practice_photokinetic_create_light",
      "practice_photokinetic_snuff_light",
      "practice_photokinetic_light_dodge",
      "practice_photokinetic_light_beam",
      "practice_photokinetic_camouflage",
      "practice_photokinetic_rad_immunity",
      "practice_photokinetic_light_arms",
      "practice_photokinetic_hide_ugly",
      "practice_photokinetic_light_image",
      "practice_photokinetic_radio",
      "practice_photokinetic_invisibility",
      "practice_photokinetic_light_flash",
      "practice_photokinetic_light_blinding_glare",
      "practice_photokinetic_light_disintegrate"
    ],
    "difficulty": 1
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: candle's glow",
    "id": "practice_photokinetic_light_local",
    "description": "Contemplate your powers and improve your ability to create a small amount of light.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 0,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_LOCAL",
        "condition": { "math": [ "u_spell_level('photokinetic_light_local')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_local')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(1)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: field of light",
    "id": "practice_photokinetic_create_light",
    "description": "Contemplate your powers and improve your ability to create light at a distance.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_CREATE_LIGHT",
        "condition": { "math": [ "u_spell_level('photokinetic_create_light')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_create_light')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(2)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: blackout",
    "id": "practice_photokinetic_snuff_light",
    "description": "Contemplate your powers and improve your ability to snuff the light of an area.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_SNUFF_LIGHT",
        "condition": { "math": [ "u_spell_level('photokinetic_snuff_light')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_snuff_light')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(2)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_SNUFF_LIGHT_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(2)" ] }, { "math": [ "learn_new_power_upper_time_bound(2)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_SNUFF_LIGHT_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_SNUFF_LIGHT_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 6
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Blackout power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_snuff_light')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: trick of the light",
    "id": "practice_photokinetic_light_dodge",
    "description": "Contemplate your powers and improve your ability to create illusionary forms around yourself.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 1,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DODGE",
        "condition": { "math": [ "u_spell_level('photokinetic_light_dodge')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_dodge')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(2)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_DODGE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(2)" ] }, { "math": [ "learn_new_power_upper_time_bound(2)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DODGE_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DODGE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 6
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Trick of the Light power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_light_dodge')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 10,20 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: photon beam",
    "id": "practice_photokinetic_light_beam",
    "description": "Contemplate your powers and improve your ability to focus photons into a high-energy beam.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_BEAM",
        "condition": { "math": [ "u_spell_level('photokinetic_light_beam')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_beam')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(3)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_BEAM_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_BEAM_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_BEAM_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Photon Beam power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_light_beam')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: chameleoflage",
    "id": "practice_photokinetic_camouflage",
    "description": "Contemplate your powers and improve your ability to hide your presence from distance observers.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_CAMOUFLAGE",
        "condition": { "math": [ "u_spell_level('photokinetic_camouflage')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_camouflage')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(3)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_CAMOUFLAGE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_CAMOUFLAGE_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_CAMOUFLAGE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Chameleoflage power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_camouflage')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: lucent barrier",
    "id": "practice_photokinetic_rad_immunity",
    "description": "Contemplate your powers and improve your ability to create a barrier of light around you.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 2,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_RAD_IMMUNITY",
        "condition": { "math": [ "u_spell_level('photokinetic_rad_immunity')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_rad_immunity')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(3)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_RAD_IMMUNITY_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(3)" ] }, { "math": [ "learn_new_power_upper_time_bound(3)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_RAD_IMMUNITY_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_RAD_IMMUNITY_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 7
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Lucent Barrier power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_rad_immunity')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 15,30 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: refracted arms",
    "id": "practice_photokinetic_light_arms",
    "description": "Contemplate your powers and improve your ability to create illusions of extra arms.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 3,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_ARMS",
        "condition": { "math": [ "u_spell_level('photokinetic_light_arms')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_arms')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(4)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_ARMS_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(4)" ] }, { "math": [ "learn_new_power_upper_time_bound(4)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_ARMS_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_ARMS_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 8
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Refracted Arms power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_light_arms')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: mirror-mask",
    "id": "practice_photokinetic_hide_ugly",
    "description": "Contemplate your powers and improve your ability to create illusions of extra arms.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 3,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_HIDE_UGLY",
        "condition": { "math": [ "u_spell_level('photokinetic_hide_ugly')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_hide_ugly')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(4)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_HIDE_UGLY_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(4)" ] }, { "math": [ "learn_new_power_upper_time_bound(4)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_HIDE_UGLY_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_HIDE_UGLY_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 8
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Refracted Arms power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_hide_ugly')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 20,40 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: lucid shadows",
    "id": "practice_photokinetic_light_image",
    "description": "Contemplate your powers and improve your ability to create light clones.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 4,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_IMAGE",
        "condition": { "math": [ "u_spell_level('photokinetic_light_image')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_image')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(5)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_IMAGE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_IMAGE_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_IMAGE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Lucid Shadows power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_light_image')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: radio transception",
    "id": "practice_photokinetic_radio",
    "description": "Contemplate your powers and improve your ability to see, interpret, and transmit radio waves.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 4,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_RADIO",
        "condition": { "math": [ "u_spell_level('photokinetic_radio')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_radio')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(5)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_RADIO_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(5)" ] }, { "math": [ "learn_new_power_upper_time_bound(5)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_RADIO_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_RADIO_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 9
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Radio Transception power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_radio')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 25,50 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: veil of light",
    "id": "practice_photokinetic_invisibility",
    "description": "Contemplate your powers and improve your ability to refract light in a way that makes you invisible.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_INVISIBILITY",
        "condition": { "math": [ "u_spell_level('photokinetic_invisibility')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_invisibility')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(6)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_INVISIBILITY_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(6)" ] }, { "math": [ "learn_new_power_upper_time_bound(6)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_INVISIBILITY_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_INVISIBILITY_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 10
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Veil of Light power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_invisibility')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: star flash",
    "id": "practice_photokinetic_light_flash",
    "description": "Contemplate your powers and improve your ability to create a destructive flash of light towards a target.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 5,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_FLASH",
        "condition": { "math": [ "u_spell_level('photokinetic_light_flash')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_flash')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(7)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_FLASH_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(6)" ] }, { "math": [ "learn_new_power_upper_time_bound(6)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_FLASH_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_FLASH_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 10
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Star Flash power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_light_flash')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 30,60 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: blinding radiance",
    "id": "practice_photokinetic_light_blinding_glare",
    "description": "Contemplate your powers and improve your ability to glow so brightly you can blind your enemies.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 6,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_BLINDING_GLARE",
        "condition": { "math": [ "u_spell_level('photokinetic_blinding_glare')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_blinding_glare')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(7)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_BLINDING_GLARE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(7)" ] }, { "math": [ "learn_new_power_upper_time_bound(7)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_BLINDING_GLARE_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_BLINDING_GLARE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 11
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Blinding Radiance power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_blinding_glare')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 35,70 )" ] }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "recipe",
    "activity_level": "LIGHT_EXERCISE",
    "name": "contemplation: luminous disintegration",
    "id": "practice_photokinetic_light_disintegrate",
    "description": "Contemplate your powers and improve your ability to disintegrate matter with light.",
    "category": "CC_*",
    "subcategory": "CSC_*_NESTED",
    "skill_used": "metaphysics",
    "difficulty": 7,
    "time": "30 m",
    "autolearn": false,
    "proficiencies": [ { "proficiency": "prof_contemplation_photokinesis", "required": false } ],
    "tools": [ [ [ "matrix_crystal_drained", -1 ], [ "matrix_crystal_photokinesis", -1 ] ] ],
    "components": [ [ [ "matrix_crystal_photokin_dust", 1 ] ] ],
    "flags": [ "SECRET", "BLIND_HARD" ],
    "result_eocs": [
      {
        "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DISINTEGRATE",
        "condition": { "math": [ "u_spell_level('photokinetic_light_disintegrate')", ">=", "1" ] },
        "effect": [
          { "u_message": "You spend some time meditating and contemplating your powers and emerge with new knowledge." },
          { "math": [ "u_spell_exp('photokinetic_light_disintegrate')", "+=", "(contemplation_factor(1))" ] },
          { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 1,10 )" ] },
          { "math": [ "u_val('stored_kcal')", "-=", "psionics_contemplation_kcal_cost(8)" ] },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" }
        ],
        "false_effect": [
          { "u_message": "You attempt to unlock new capabilities within your mind." },
          { "u_assign_activity": "ACT_PSI_LEARNING_NEW_POWER", "duration": "16 hours" },
          { "u_add_effect": "effect_psi_learning_new_power", "duration": "16 hours" },
          { "run_eocs": "EOC_PSI_PRACTICE_FOCUS_MOD" },
          {
            "queue_eocs": "EOC_PRACTICE_PHOTOKIN_LIGHT_DISINTEGRATE_LEARNING",
            "time_in_future": [ { "math": [ "learn_new_power_lower_time_bound(8)" ] }, { "math": [ "learn_new_power_upper_time_bound(8)" ] } ]
          }
        ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DISINTEGRATE_LEARNING",
    "condition": {
      "and": [
        { "u_has_effect": "effect_psi_learning_new_power" },
        {
          "not": { "u_has_any_effect": [ "sleep", "effect_vitakin_wakeful_resting", "lack_sleep", "sleep_deprived", "under_operation" ] }
        }
      ]
    },
    "effect": [
      {
        "run_eocs": [
          {
            "id": "EOC_PRACTICE_PHOTOKIN_LIGHT_DISINTEGRATE_LEARNING_2",
            "condition": {
              "and": [
                {
                  "roll_contested": { "math": [ "u_skill('metaphysics') + u_has_proficiency('prof_contemplation_photokinesis')" ] },
                  "difficulty": 12
                }
              ]
            },
            "effect": [
              {
                "u_message": "As you meditate, all the pieces suddenly come together.  You've unlocked the Luminous Disintegration power.",
                "popup": true
              },
              { "math": [ "u_spell_level('photokinetic_blinding_glare')", "=", "1" ] },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 40,80)" ] }
            ],
            "false_effect": [
              { "u_message": "You just couldn't manage to grasp the technique.  You'll have to try again.", "popup": true },
              { "math": [ "u_vitamin('vitamin_psionic_drain')", "+=", "rng( 40,80 )" ] }
            ]
          }
        ]
      }
    ]
  }
]
