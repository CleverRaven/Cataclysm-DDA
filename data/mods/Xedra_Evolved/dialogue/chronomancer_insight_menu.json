[
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN",
    "dynamic_line": "Current Insight: <u_val:xedra_chronomancer_insight_count>",
    "//": "Insight cost is difficulty x 10 for all chronomancy spells.",
    "responses": [
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_bubble') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_time_bubble>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_time_bubble')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_bubble",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_time_bubble') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_time_bubble') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_time_bubble>]",
        "//": "Insight cost is difficulty x spell level for all chronomancy spells.",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_time_bubble') * u_spell_difficulty('xedra_chronomancer_time_bubble')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_time_bubble')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_bubble",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_entropic_burst') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_entropic_burst>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 80" ] },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          {
            "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_entropic_burst')" ]
          },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_entropic_burst>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_entropic_burst>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_entropic_burst",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 16 <spell_name:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_bubble') >= 16" ] }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_entropic_burst') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_entropic_burst') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_entropic_burst>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_entropic_burst') * u_spell_difficulty('xedra_chronomancer_entropic_burst')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_entropic_burst')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_entropic_burst>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_entropic_burst>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_entropic_burst",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_revert_wound') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_revert_wound>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_revert_wound')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 4" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_revert_wound')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_revert_wound",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_revert_wound') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_revert_wound') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_revert_wound>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_revert_wound') * u_spell_difficulty('xedra_chronomancer_revert_wound')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 4" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_revert_wound')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_revert_wound",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_loop') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_time_loop>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_time_loop')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 5" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_loop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_time_loop') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_time_loop') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_time_loop>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_time_loop') * u_spell_difficulty('xedra_chronomancer_time_lo')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 5" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_time_loop')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_loop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_stop') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_time_stop>]",
        "//": "Difficulty 10 spells will have normal insight costs multiplied by 1.5.",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 15 * u_spell_difficulty('xedra_chronomancer_time_stop')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 10" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_stop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_stop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_stop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 20 <spell_name:xedra_chronomancer_time_freeze_target>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_freeze_target') >= 20" ] }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_time_stop') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_time_stop') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_time_stop>]",
        "//": "Difficulty 10 spells will have normal insight costs multiplied by 1.5.",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_time_stop') * u_spell_difficulty('xedra_chronomancer_time_stop') * 1.5"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 10" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_time_stop')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_time_stop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_time_stop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_time_stop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_revert_location') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_revert_location>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_revert_location')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_revert_location>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_revert_location>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_revert_location",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 16 <spell_name:xedra_chronomancer_stable_loop> + Level 16 <spell_name:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": {
              "and": [
                { "math": [ "u_spell_level('xedra_chronomancer_stable_loop') >= 16" ] },
                { "math": [ "u_spell_level('xedra_chronomancer_revert_wound') >= 16" ] }
              ]
            }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_revert_location') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_revert_location') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_revert_location>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_revert_location') * u_spell_difficulty('xedra_chronomancer_revert_location')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_revert_location')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_revert_location>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_revert_location>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_revert_location",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_cement_time') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_cement_time>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 15 * u_spell_difficulty('xedra_chronomancer_cement_time')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 10" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_cement_time>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_cement_time>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_cement_time",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 16 <spell_name:xedra_chronomancer_time_freeze_target> + Level 16 <spell_name:xedra_chronomancer_time_bubble>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": {
              "and": [
                { "math": [ "u_spell_level('xedra_chronomancer_time_freeze_target') >= 16" ] },
                { "math": [ "u_spell_level('xedra_chronomancer_time_bubble') >= 16" ] }
              ]
            }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_cement_time') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_cement_time') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_cement_time>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_cement_time') * u_spell_difficulty('xedra_chronomancer_cement_time') * 1.5"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 10" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_cement_time')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_cement_time>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_cement_time>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_revert_location",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_chronal_acceleration') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_chronal_acceleration>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_chronal_acceleration')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_chronal_acceleration>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_chronal_acceleration>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_chronal_acceleration",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_chronal_acceleration') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_chronal_acceleration') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_chronal_acceleration>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_chronal_acceleration') * u_spell_difficulty('xedra_chronomancer_chronal_acceleration')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 8" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_chronal_acceleration')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_chronal_acceleration>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_chronal_acceleration>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_chronal_acceleration",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_stable_loop') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_stable_loop>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_stable_loop')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 5" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_stable_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_stable_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_stable_loop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 16 <spell_name:xedra_chronomancer_time_loop>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": { "math": [ "u_spell_level('xedra_chronomancer_time_loop') >= 16" ] }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_stable_loop') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_stable_loop') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_stable_loop>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_stable_loop') * u_spell_difficulty('xedra_chronomancer_stable_loop')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 5" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_stable_loop')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_stable_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_stable_loop>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_stable_loop",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_destabilizing_strikes') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_destabilizing_strikes>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_destabilizing_strikes')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_destabilizing_strikes>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_destabilizing_strikes>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_destabilizing_strikes",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_destabilizing_strikes') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_destabilizing_strikes') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_destabilizing_strikes>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_destabilizing_strikes') * u_spell_difficulty('xedra_chronomancer_destabilizing_strikes')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_destabilizing_strikes')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_destabilizing_strikes>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_destabilizing_strikes>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_destabilizing_strikes",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_stabilize_timeline') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_stabilize_timeline>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_stabilize_timeline')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_stabilize_timeline>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_stabilize_timeline>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_stabilize_timeline",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_destabilizing_strikes') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_destabilizing_strikes') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_stabilize_timeline>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_stabilize_timeline') * u_spell_difficulty('xedra_chronomancer_stabilize_timeline')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_stabilize_timeline')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_stabilize_timeline>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_stabilize_timeline>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_stabilize_timeline",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_reverse_entropy') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_reverse_entropy>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_reverse_entropy')" ] },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_reverse_entropy>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_reverse_entropy>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_reverse_entropy",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_reverse_entropy') > 0" ] },
            { "math": [ "u_spell_level('xedra_chronomancer_reverse_entropy') < xedra_chronomancer_level(1) " ] }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_reverse_entropy>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_reverse_entropy') * u_spell_difficulty('xedra_chronomancer_reverse_entropy')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 3" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_reverse_entropy')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_reverse_entropy>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_reverse_entropy>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_reverse_entropy",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_rewrite_wound_causality') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_rewrite_wound_causality>]",
        "effect": [
          {
            "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_rewrite_wound_causality')" ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_rewrite_wound_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_rewrite_wound_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_rewrite_wound_causality",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 10 <spell_name:xedra_chronomancer_revert_wound>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": { "math": [ "u_spell_level('xedra_chronomancer_revert_wound') >= 10" ] }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_rewrite_wound_causality') > 0" ] },
            {
              "math": [ "u_spell_level('xedra_chronomancer_rewrite_wound_causality') < xedra_chronomancer_level(1) " ]
            }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_rewrite_wound_causality>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_rewrite_wound_causality') * u_spell_difficulty('xedra_chronomancer_rewrite_wound_causality')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          { "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_rewrite_wound_causality')" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_rewrite_wound_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_rewrite_wound_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_rewrite_wound_causality",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_spell_level('xedra_chronomancer_rewrite_equipment_causality') <= 0" ] },
        "text": "Learn [<spell_name:xedra_chronomancer_rewrite_equipment_causality>]",
        "effect": [
          {
            "math": [ "u_chronomancer_menu_insight_cost = 10 * u_spell_difficulty('xedra_chronomancer_rewrite_equipment_causality')" ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_rewrite_equipment_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_rewrite_equipment_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_rewrite_equipment_causality",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight and Level 10 <spell_name:xedra_chronomancer_reverse_entropy>",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          {
            "set_condition": "chronomancer_menu_spell_conditions",
            "condition": { "math": [ "u_spell_level('xedra_chronomancer_reverse_entropy') >= 10" ] }
          }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_MENU_SELECT"
      },
      {
        "condition": {
          "and": [
            { "math": [ "u_spell_level('xedra_chronomancer_rewrite_equipment_causality') > 0" ] },
            {
              "math": [ "u_spell_level('xedra_chronomancer_rewrite_equipment_causality') < xedra_chronomancer_level(1) " ]
            }
          ]
        },
        "text": "Level [<spell_name:xedra_chronomancer_rewrite_equipment_causality>]",
        "effect": [
          {
            "math": [
              "u_chronomancer_menu_insight_cost = u_spell_level('xedra_chronomancer_rewrite_equipment_causality') * u_spell_difficulty('xedra_chronomancer_rewrite_equipment_causality')"
            ]
          },
          { "math": [ "_chronomancer_menu_difficulty = 6" ] },
          {
            "math": [ "_chronomancer_spell_level = u_spell_level('xedra_chronomancer_rewrite_equipment_causality')" ]
          },
          {
            "set_string_var": "<spell_name:xedra_chronomancer_rewrite_equipment_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<spell_description:xedra_chronomancer_rewrite_equipment_causality>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "xedra_chronomancer_rewrite_equipment_causality",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT"
      },
      {
        "condition": { "math": [ "u_has_trait('XEDRA_CHRONOMANCER_LOOPING_WOUND')" ] },
        "text": "Resolve [<trait_name:XEDRA_CHRONOMANCER_LOOPING_WOUND>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 50" ] },
          {
            "set_string_var": "<trait_name:XEDRA_CHRONOMANCER_LOOPING_WOUND>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<trait_description:XEDRA_CHRONOMANCER_LOOPING_WOUND>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "XEDRA_CHRONOMANCER_LOOPING_WOUND",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_TRAIT_MENU_SELECT"
      },
      {
        "condition": { "math": [ "u_has_trait('XEDRA_CHRONOMANCER_TIME_SLOWDOWN')" ] },
        "text": "Resolve [<trait_name:XEDRA_CHRONOMANCER_TIME_SLOWDOWN>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 50" ] },
          {
            "set_string_var": "<trait_name:XEDRA_CHRONOMANCER_TIME_SLOWDOWN>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<trait_description:XEDRA_CHRONOMANCER_TIME_SLOWDOWN>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "XEDRA_CHRONOMANCER_TIME_SLOWDOWN",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_TRAIT_MENU_SELECT"
      },
      {
        "condition": { "math": [ "u_has_trait('XEDRA_CHRONOMANCER_UNSTABLE_POWERS')" ] },
        "text": "Resolve [<trait_name:XEDRA_CHRONOMANCER_UNSTABLE_POWERS>]",
        "effect": [
          { "math": [ "u_chronomancer_menu_insight_cost = 50" ] },
          {
            "set_string_var": "<trait_name:XEDRA_CHRONOMANCER_UNSTABLE_POWERS>",
            "target_var": { "context_val": "chronomancer_menu_choice_name" }
          },
          {
            "set_string_var": "<trait_description:XEDRA_CHRONOMANCER_UNSTABLE_POWERS>",
            "target_var": { "context_val": "chronomancer_menu_choice_description" }
          },
          {
            "set_string_var": "XEDRA_CHRONOMANCER_UNSTABLE_POWERS",
            "target_var": { "context_val": "chronomancer_menu_choice_id" }
          },
          {
            "set_string_var": "<u_val:chronomancer_menu_insight_cost> Insight",
            "target_var": { "context_val": "chronomancer_menu_requirement_description" }
          },
          { "set_condition": "chronomancer_menu_spell_conditions", "condition": { "math": [ "0 == 0" ] } }
        ],
        "topic": "TALK_CHRONOMANCER_TRAIT_MENU_SELECT"
      },
      { "text": "Quit.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_SPELL_MENU_FAIL",
    "dynamic_line": "You either don't have enough insight or you fail to meet the prerequisites for this power.",
    "responses": [ { "text": "Go Back.", "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN" }, { "text": "Quit.", "topic": "TALK_DONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_TRAIT_MENU_FAIL",
    "dynamic_line": "You either don't have enough insight or you fail to meet the prerequisites to resolve this issue.",
    "responses": [ { "text": "Go Back.", "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN" }, { "text": "Quit.", "topic": "TALK_DONE" } ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_SPELL_MENU_SELECT",
    "dynamic_line": "<context_val:chronomancer_menu_choice_name>: \"<context_val:chronomancer_menu_choice_description>\"\nSpell Difficulty:<context_val:chronomancer_menu_difficulty>\n<context_val:chronomancer_menu_requirement_description>.\n<context_val:chronomancer_menu_additional_details>",
    "responses": [
      {
        "text": "Learn Power.",
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN",
        "condition": {
          "and": [
            { "math": [ "u_vitamin('xedra_chronomancer_insight') >= u_chronomancer_menu_insight_cost" ] },
            { "get_condition": "chronomancer_menu_spell_conditions" }
          ]
        },
        "failure_explanation": "Requirements Not Met",
        "failure_topic": "TALK_CHRONOMANCER_SPELL_MENU_FAIL",
        "effect": [
          {
            "set_string_var": { "context_val": "chronomancer_menu_choice_id" },
            "target_var": { "u_val": "chronomancer_menu_learn_id" }
          },
          { "math": [ "u_spell_level(u_chronomancer_menu_learn_id) = 1" ] },
          { "math": [ "u_vitamin('xedra_chronomancer_insight') -= u_chronomancer_menu_insight_cost" ] },
          { "math": [ "u_xedra_chronomancer_insight_count=u_vitamin('xedra_chronomancer_insight')" ] }
        ]
      },
      {
        "text": "Go Back.",
        "effect": [ { "set_string_var": "", "target_var": { "context_val": "chronomancer_menu_additional_details" } } ],
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN"
      },
      { "text": "Quit.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_SPELL_LEVEL_SELECT",
    "dynamic_line": "<context_val:chronomancer_menu_choice_name>: \"<context_val:chronomancer_menu_choice_description>\"\nSpell Level:<context_val:chronomancer_spell_level>\n<context_val:chronomancer_menu_requirement_description>.\n<context_val:chronomancer_menu_additional_details>",
    "responses": [
      {
        "text": "Level Power.",
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN",
        "condition": {
          "and": [
            { "math": [ "u_vitamin('xedra_chronomancer_insight') >= u_chronomancer_menu_insight_cost" ] },
            { "get_condition": "chronomancer_menu_spell_conditions" }
          ]
        },
        "failure_explanation": "Requirements Not Met",
        "failure_topic": "TALK_CHRONOMANCER_SPELL_MENU_FAIL",
        "effect": [
          {
            "set_string_var": { "context_val": "chronomancer_menu_choice_id" },
            "target_var": { "u_val": "chronomancer_menu_learn_id" }
          },
          { "math": [ "u_spell_level(u_chronomancer_menu_learn_id) += 1" ] },
          { "math": [ "u_vitamin('xedra_chronomancer_insight') -= u_chronomancer_menu_insight_cost" ] },
          { "math": [ "u_xedra_chronomancer_insight_count=u_vitamin('xedra_chronomancer_insight')" ] },
          { "u_message": "You improve the spell!", "type": "good" }
        ]
      },
      {
        "text": "Go Back.",
        "effect": [ { "set_string_var": "", "target_var": { "context_val": "chronomancer_menu_additional_details" } } ],
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN"
      },
      { "text": "Quit.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_CHRONOMANCER_TRAIT_MENU_SELECT",
    "dynamic_line": "<context_val:chronomancer_menu_choice_name>: \"<context_val:chronomancer_menu_choice_description>\"\n<context_val:chronomancer_menu_requirement_description>.\n<context_val:chronomancer_menu_additional_details>",
    "responses": [
      {
        "text": "Resolve Problem.",
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN",
        "condition": {
          "and": [
            { "math": [ "u_vitamin('xedra_chronomancer_insight') >= u_chronomancer_menu_insight_cost" ] },
            { "get_condition": "chronomancer_menu_spell_conditions" }
          ]
        },
        "failure_explanation": "Requirements Not Met",
        "failure_topic": "TALK_CHRONOMANCER_TRAIT_MENU_FAIL",
        "effect": [
          {
            "set_string_var": { "context_val": "chronomancer_menu_choice_id" },
            "target_var": { "u_val": "chronomancer_menu_learn_id" }
          },
          { "u_lose_trait": { "u_val": "chronomancer_menu_learn_id" } },
          { "math": [ "u_vitamin('xedra_chronomancer_insight') -= u_chronomancer_menu_insight_cost" ] },
          { "math": [ "u_xedra_chronomancer_insight_count=u_vitamin('xedra_chronomancer_insight')" ] }
        ]
      },
      {
        "text": "Go Back.",
        "effect": [ { "set_string_var": "", "target_var": { "context_val": "chronomancer_menu_additional_details" } } ],
        "topic": "TALK_CHRONOMANCER_INSIGHT_MENU_MAIN"
      },
      { "text": "Quit.", "topic": "TALK_DONE" }
    ]
  }
]
