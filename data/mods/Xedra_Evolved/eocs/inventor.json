[
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_BASE_1",
    "//": "Check, do player has enough processed sparks to beat the difficulty. If true, substract difficulty from vitamin, increase difficulty for 5, roll_remainder recipe, process sparks, print success message. If false, give 1 processed spark, process sparks, print a fail message.",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "base_difficulty_1" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "base_difficulty_1" ] },
      { "math": [ "base_difficulty_1", "+=", "5" ] },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "1" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_BASE_2",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "base_difficulty_2" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "base_difficulty_2" ] },
      { "math": [ "base_difficulty_2", "+=", "10" ] },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "2" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_BASE_3",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "base_difficulty_3" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "base_difficulty_3" ] },
      { "math": [ "base_difficulty_3", "+=", "15" ] },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "3" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_ENERGY_1",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "energy_difficulty_1" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "energy_difficulty_1" ] },
      { "math": [ "energy_difficulty_1", "+=", "7" ] },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "1" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_ENERGY_2",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "energy_difficulty_2" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "energy_difficulty_2" ] },
      { "math": [ "energy_difficulty_2", "+=", "13" ] },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "2" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_ENERGY_3",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "energy_difficulty_3" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "energy_difficulty_3" ] },
      { "math": [ "energy_difficulty_3", "+=", "20" ] },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "3" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_AI_1",
    "condition": {
      "and": [
        { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "base_difficulty_3" ] },
        { "math": [ "AI_sparks", ">=", "AI_difficulty_1" ] }
      ]
    },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "base_difficulty_3" ] },
      { "math": [ "AI_sparks", "+=", "AI_difficulty_1" ] },
      { "math": [ "base_difficulty_3", "+=", "10" ] },
      { "math": [ "AI_difficulty_1", "+=", "10" ] },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "4" ] },
      { "math": [ "AI_sparks", "+=", "4" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_RESEARCH_DIMENSION_1",
    "condition": {
      "and": [
        { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">=", "base_difficulty_3" ] },
        { "math": [ "dimension_sparks", ">=", "dimension_difficulty_1" ] }
      ]
    },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "-=", "base_difficulty_3" ] },
      { "math": [ "dimension_sparks", "+=", "dimension_difficulty_1" ] },
      { "math": [ "base_difficulty_3", "+=", "10" ] },
      { "math": [ "dimension_difficulty_1", "+=", "10" ] },
      { "run_eocs": "EOC_INVENTOR_PROCESS_SPARKS" },
      { "u_roll_remainder": [ "battery_gun" ], "type": "recipe" },
      { "u_message": "inventor_success", "snippet": true, "type": "good" }
    ],
    "false_effect": [
      { "u_message": "inventor_fail", "snippet": true, "type": "bad" },
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", "+=", "5" ] },
      { "math": [ "dimension_sparks", "+=", "4" ] }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_INVENTOR_PROCESS_SPARKS",
    "condition": { "math": [ "u_val('vitamin', 'name:creative_spark')", ">", "0" ] },
    "effect": [
      { "math": [ "u_val('vitamin', 'name:creative_spark_research')", ">", "u_val('vitamin', 'name:creative_spark')" ] },
      {
        "u_message": "creative_spark_research = <u_val:creative_spark_research>,\n base_difficulty_1 = <u_val:base_difficulty_1>,\n base_difficulty_2 = <u_val:base_difficulty_2>,\n base_difficulty_3 = <u_val:base_difficulty_3>,\n energy_difficulty_1 = <u_val:energy_difficulty_1>,\n energy_difficulty_2 = <u_val:energy_difficulty_2>,\n energy_difficulty_3 = <u_val:energy_difficulty_3>,\n dimension_sparks = <u_val:dimension_sparks>,\n dimension_difficulty_1 = <u_val:dimension_difficulty_1>.",
        "type": "debug"
      }
    ],
    "false_effect": [
      {
        "u_message": "creative_spark_research = <u_val:creative_spark_research>,\n base_difficulty_1 = <u_val:base_difficulty_1>,\n base_difficulty_2 = <u_val:base_difficulty_2>,\n base_difficulty_3 = <u_val:base_difficulty_3>,\n energy_difficulty_1 = <u_val:energy_difficulty_1>,\n energy_difficulty_2 = <u_val:energy_difficulty_2>,\n energy_difficulty_3 = <u_val:energy_difficulty_3>,\n dimension_sparks = <u_val:dimension_sparks>,\n dimension_difficulty_1 = <u_val:dimension_difficulty_1>.",
        "type": "debug"
      }
    ]
  }
]
