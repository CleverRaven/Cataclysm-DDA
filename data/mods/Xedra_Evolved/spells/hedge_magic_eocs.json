[
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_MAGIC_REMOVE_EFFECTS",
    "effect": [ { "u_remove_item_with": "hedge_witchlight" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_MAGIC_MELEE_MONSTER_CANCEL",
    "eoc_type": "EVENT",
    "required_event": "character_melee_attacks_monster",
    "condition": { "or": [ { "u_has_item": "hedge_witchlight" } ] },
    "effect": [ { "run_eocs": [ "EOC_HEDGE_MAGIC_REMOVE_EFFECTS" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_MAGIC_MELEE_CHARACTER_CANCEL",
    "eoc_type": "EVENT",
    "required_event": "character_melee_attacks_character",
    "condition": { "or": [ { "u_has_item": "hedge_witchlight" } ] },
    "effect": [ { "run_eocs": [ "EOC_HEDGE_MAGIC_REMOVE_EFFECTS" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_MAGIC_RANGED_MONSTER_CANCEL",
    "eoc_type": "EVENT",
    "required_event": "character_ranged_attacks_monster",
    "condition": { "or": [ { "u_has_item": "hedge_witchlight" } ] },
    "effect": [ { "run_eocs": [ "EOC_HEDGE_MAGIC_REMOVE_EFFECTS" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_MAGIC_RANGED_CHARACTER_CANCEL",
    "eoc_type": "EVENT",
    "required_event": "character_ranged_attacks_character",
    "condition": { "or": [ { "u_has_item": "hedge_witchlight" } ] },
    "effect": [ { "run_eocs": [ "EOC_HEDGE_MAGIC_REMOVE_EFFECTS" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_HEDGE_RAIN_WARD_FAIL",
    "eoc_type": "EVENT",
    "required_event": "avatar_moves",
    "condition": {
      "and": [
        { "u_has_item": "aura_ward_off_rain" },
        {
          "or": [
            "u_is_underwater",
            { "u_is_on_terrain": "t_water_dp" },
            { "u_is_on_terrain": "t_water_sh" },
            { "u_is_on_terrain": "t_swater_dp" },
            { "u_is_on_terrain": "t_swater_dp_underground" },
            { "u_is_on_terrain": "t_water_dp_underground" },
            { "u_is_on_terrain": "t_swater_dp_underground" },
            { "u_is_on_terrain": "t_water_hot" },
            { "u_is_on_terrain": "t_water_murky" },
            { "u_is_on_terrain": "t_water_sh_underground" },
            { "u_is_on_terrain": "t_swater_dp_underground" },
            { "u_is_on_terrain": "t_swater_sh_underground" },
            { "u_is_on_terrain": "t_swater_sh" },
            { "u_is_on_terrain": "t_water_moving_dp" },
            { "u_is_on_terrain": "t_water_moving_dp_underground" },
            { "u_is_on_terrain": "t_water_sh_murky_underground" }
          ]
        }
      ]
    },
    "effect": [ { "u_remove_item_with": "aura_ward_off_rain" } ]
  }
]
