[
  {
    "type": "effect_on_condition",
    "id": "EOC_SYLPH_SPELL_EXPERIENCE_INCREASER",
    "//": "Must be outside above ground level or anywhere the wind is blowing strongly",
    "recurrence": [ "6 h", "36 h" ],
    "condition": {
      "and": [
        { "u_has_trait": "SYLPH" },
        {
          "u_has_any_trait": [
            "CLAP_OF_THUNDER",
            "OMINOUS_WIND",
            "PUSHING_WIND",
            "ELECTRICAL_EMISSIONS",
            "ELECTRICAL_FIELD",
            "air_sprite",
            "CLOUD_OF_STEAM_SYLPH",
            "CREATE_LIGHT_SYLPH",
            "WIND_BLOWS_WILLOW_BENDS",
            "SYLPH_CULTIVATE_GOBLIN_FRUIT",
            "PARACLESIAN_MAKE_GOSSAMER"
          ]
        },
        {
          "or": [
            { "and": [ { "math": [ "u_val('pos_z')", ">=", "1" ] }, "u_is_outside" ] },
            { "and": [ { "math": [ "weather('windpower')", ">=", "15" ] }, "u_is_outside" ] },
            { "u_at_om_location": "sylph_genius_loci_NW" },
            { "u_at_om_location": "sylph_genius_loci_NE" },
            { "u_at_om_location": "sylph_genius_loci_SW" },
            { "u_at_om_location": "sylph_genius_loci_SE" }
          ]
        }
      ]
    },
    "deactivate_condition": { "not": { "u_has_trait": "SYLPH" } },
    "effect": [ { "run_eocs": "EOC_SYLPH_SPELL_EXPERIENCE_INCREASER_SELECTOR" } ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_SYLPH_SPELL_EXPERIENCE_INCREASER_SELECTOR",
    "//": "This is a separate EoC to allow looping through until it finds a spell the Ierde knows. Probability is [11-Difficulty]",
    "condition": {
      "or": [
        { "math": [ "u_spell_level('ierde_stomp_ground_smash_spell')", "<", "str_to_level(1)" ] },
        { "math": [ "u_spell_level('ierde_create_pits_spell')", "<", "str_to_level(1)" ] },
        { "math": [ "u_spell_level('sylph_cultivate_goblin_fruit')", "<", "str_to_level(1)" ] }
      ]
    },
    "effect": {
      "weighted_list_eocs": [ [ "EOC_LEVELER_ARVORE_WIND_BLOWS_WILLOW_BENDS", 6 ], [ "EOC_LEVELER_SYLPH_MAKE_GOSSAMER", 4 ] ]
    }
  }
]
