[
  {
    "type": "enchantment",
    "id": "arvore_resist_chill",
    "condition": "ALWAYS",
    "//": "No cold armor here--trees are very vulnerable to ice breaking their limbs",
    "values": [ { "value": "CLIMATE_CONTROL_HEAT", "add": 40 } ]
  },
  {
    "type": "enchantment",
    "id": "arvore_forest_detect_enemies",
    "condition": "ALWAYS",
    "values": [ { "value": "MOTION_VISION_RANGE", "add": { "math": [ "( u_val('perception') + u_val('intelligence'))" ] } } ]
  },
  {
    "type": "enchantment",
    "id": "arvore_ignore_chill",
    "condition": "ALWAYS",
    "values": [ { "value": "CLIMATE_CONTROL_HEAT", "add": 150 } ]
  },
  {
    "type": "enchantment",
    "id": "ench_arvore_thorns_mut",
    "condition": "ALWAYS",
    "hit_me_effect": [ { "id": "spell_arvore_thorns_mut_counter", "hit_self": false, "once_in": 3 } ]
  },
  {
    "type": "enchantment",
    "id": "ench_arvore_sun_foods_on",
    "condition": "ALWAYS",
    "intermittent_activation": { "effects": [ { "frequency": "1 minutes", "spell_effects": [ { "id": "arvore_sun_foods_on_spell" } ] } ] },
    "values": [ { "value": "HUNGER", "multiply": -0.95 } ]
  },
  {
    "id": "spell_arvore_thorns_mut_counter",
    "type": "SPELL",
    "name": { "str": "Arvore Thorns Damage" },
    "description": "Sometimes, when an enemy punches your thorns, they hurt themselves.",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 8,
    "min_range": 1,
    "damage_type": "stab",
    "flags": [ "RANDOM_DAMAGE" ]
  },
  {
    "id": "arvore_commune_with_nature",
    "type": "SPELL",
    "name": "Commune with Nature",
    "description": "You concentrate on nature around you and commune with it, improving your health and calming the nearby wildlife.  This spell may only be cast outdoors in natural surroundings.",
    "valid_targets": [ "self" ],
    "skill": "deduction",
    "effect": "effect_on_condition",
    "effect_str": "EOC_COMMUNE_WITH_NATURE",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS", "NO_HANDS", "NO_EXPLOSION_SFX" ],
    "max_level": { "math": [ "per_to_level(1)" ] },
    "difficulty": 4,
    "base_casting_time": 12000,
    "energy_source": "MANA",
    "base_energy_cost": 500,
    "final_energy_cost": 250,
    "energy_increment": -12,
    "min_duration": 30000,
    "max_duration": 1080000,
    "duration_increment": 16500
  },
  {
    "id": "arvore_cultivate_goblin_fruit",
    "type": "SPELL",
    "name": "Cultivate Goblin Fruit",
    "description": "You may spin a bit of fae magic into a plant, bringing forth a goblin fruit.  Goblin fruit have a variety of effects, never predictable but always at least somewhat beneficial.  This spell may only be cast outdoors in natural surroundings.",
    "valid_targets": [ "self" ],
    "skill": "deduction",
    "effect": "effect_on_condition",
    "effect_str": "EOC_ARVORE_GOBLIN_FRUIT",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_LEGS", "NO_HANDS" ],
    "max_level": { "math": [ "per_to_level(1)" ] },
    "difficulty": 8,
    "base_casting_time": 180000,
    "final_casting_time": 100,
    "casting_time_increment": -6000,
    "energy_source": "MANA",
    "base_energy_cost": 450
  },
  {
    "id": "arvore_verdant_infusion",
    "type": "SPELL",
    "name": "Verdant Infusion",
    "description": "You draw on your own connection to nature and infuse some of its power into one of your allies, healing them for a small amount and increasing their overall health.",
    "valid_targets": [ "ally" ],
    "skill": "deduction",
    "effect": "attack",
    "effect_str": "arvore_verdant_infusion",
    "shape": "blast",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "NO_PROJECTILE", "RANDOM_DAMAGE", "NO_LEGS", "NO_HANDS" ],
    "max_level": { "math": [ "per_to_level(1)" ] },
    "difficulty": 5,
    "min_damage": -1,
    "max_damage": {
      "math": [ "( (u_val('spell_level', 'spell: arvore_verdant_infusion') * -1) * (scaling_factor(u_val('perception') ) ) ) " ]
    },
    "min_range": 1,
    "max_range": 20,
    "range_increment": 0.4,
    "base_casting_time": 6000,
    "energy_source": "MANA",
    "base_energy_cost": 750,
    "final_energy_cost": 500,
    "energy_increment": -10,
    "min_duration": 30000,
    "max_duration": 1080000,
    "duration_increment": 16500
  },
  {
    "id": "arvore_roots_crack_the_foundation",
    "type": "SPELL",
    "name": "Roots Crack the Foundation",
    "description": "You draw on your own connection to nature and infuse some of its power into one of your allies, healing them for a small amount and increasing their overall health.",
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "effect": "bash",
    "shape": "cone",
    "flags": [ "CONCENTRATE", "SOMATIC", "VERBAL", "IGNORE_WALLS", "RANDOM_DAMAGE", "NO_LEGS", "NO_HANDS" ],
    "max_level": { "math": [ "per_to_level(1)" ] },
    "difficulty": 7,
    "min_damage": {
      "math": [ "( (u_val('spell_level', 'spell: arvore_verdant_infusion') * 2.5) * (scaling_factor(u_val('perception') ) ) )" ]
    },
    "max_damage": {
      "math": [ "( (u_val('spell_level', 'spell: arvore_verdant_infusion') * 7.5) * (scaling_factor(u_val('perception') ) ) )" ]
    },
    "min_range": 2,
    "max_range": 8,
    "min_aoe": 30,
    "max_aoe": 50,
    "aoe_increment": 0.7,
    "range_increment": 0.4,
    "energy_source": "MANA",
    "base_energy_cost": 450,
    "base_casting_time": 150
  },
  {
    "id": "arvore_summon_wood_spirit",
    "type": "SPELL",
    "name": "Call the Children of the Boughs",
    "description": "A lesser wood spirit is summoned to support you.",
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE", "SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 35,
    "difficulty": 3,
    "effect": "summon",
    "effect_str": "GROUP_GENIUS_ARVORE",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 8,
    "damage_increment": 0.5,
    "energy_source": "MANA",
    "base_energy_cost": 200,
    "base_casting_time": 3000,
    "min_duration": 36000,
    "max_duration": 1080000,
    "duration_increment": 36000
  },
  {
    "id": "arvore_summon_briars",
    "type": "SPELL",
    "name": "Briarwall",
    "description": "Call up thick briars and thorns, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "self" ],
    "skill": "deduction",
    "effect": "effect_on_condition",
    "effect_str": "EOC_ARVORE_BRIARS_SELECTOR",
    "shape": "blast",
    "flags": [ "SOMATIC", "VERBAL" ],
    "energy_source": "MANA",
    "difficulty": 5,
    "base_casting_time": 150,
    "base_energy_cost": 550,
    "max_level": 15
  },
  {
    "id": "arvore_summon_briars_arc",
    "type": "SPELL",
    "name": "Summon Briars Arc",
    "description": "Call up briars and thorns, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "ter_transform",
    "effect_str": "ter_arvore_summoned_brambles",
    "shape": "cone",
    "flags": [ "SILENT", "NO_PROJECTILE" ],
    "max_level": 15,
    "min_range": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 0.6) + 1)" ] },
    "max_range": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 0.6) + 1)" ] },
    "min_aoe": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 1.9) + 30)" ] },
    "max_aoe": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 1.9) + 30)" ] }
  },
  {
    "id": "arvore_summon_briars_line",
    "type": "SPELL",
    "name": "Summon Briars Line",
    "description": "Call up briars and thorns, either in a line to form a wall or an arc to trap an enemy.  They will grow to full size in moments.",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "ter_transform",
    "effect_str": "ter_arvore_summoned_brambles",
    "shape": "line",
    "flags": [ "SILENT", "NO_PROJECTILE" ],
    "max_level": 15,
    "min_range": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 1) + 1)" ] },
    "max_range": { "math": [ "( (u_val('spell_level', 'spell: arvore_summon_briars') * 1) + 1)" ] }
  },
  {
    "id": "arvore_nurture_the_green",
    "type": "SPELL",
    "name": "Nurturing the Green",
    "description": "You can greatly speed plant growth.  Grass can grow from seed in moments, crops can be brought to ripeness, and even young trees will reach their full bloom.",
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 20,
    "energy_source": "MANA",
    "shape": "blast",
    "difficulty": 4,
    "effect": "ter_transform",
    "effect_str": "ter_arvore_plant_growth",
    "base_casting_time": 6000,
    "final_casting_time": 1500,
    "casting_time_increment": -225,
    "base_energy_cost": 1000,
    "final_energy_cost": 500,
    "energy_increment": -40,
    "min_range": 1,
    "//": "Energy cost and lack of AoE so that Arvore can't just have infinite food through crop growth"
  },
  {
    "id": "paraclesian_spell_dodge_bonus",
    "type": "SPELL",
    "name": "The Wind Blows, the Willow Bends",
    "description": "Like the flitting wind or the flexible willow, the spell allows you to avoid attacks much more easily.",
    "flags": [ "SOMATIC", "VERBAL", "NO_EXPLOSION_SFX" ],
    "valid_targets": [ "self" ],
    "skill": "deduction",
    "max_level": 15,
    "effect": "effect_on_condition",
    "effect_str": "EOC_APPLY_PARACLESIAN_DODGE_BONUS",
    "shape": "blast",
    "difficulty": 5,
    "min_duration": {
      "math": [
        "( ( (u_val('spell_level', 'spell: paraclesian_spell_dodge_bonus') * 3000) + 30000) * (scaling_factor(u_val('perception') ) ) )"
      ]
    },
    "max_duration": {
      "math": [
        "( ( (u_val('spell_level', 'spell: paraclesian_spell_dodge_bonus') * 3000) + 30000) * (scaling_factor(u_val('perception') ) ) )"
      ]
    },
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "final_energy_cost": 400,
    "energy_increment": -12,
    "base_casting_time": 150
  },
  {
    "id": "arvore_growing_wood_walls",
    "type": "SPELL",
    "name": "The Forest Offers Shelter",
    "description": "In natural surroundings, you can create structures out of living wood--walls, floors, doors, and roofs all together.",
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE" ],
    "valid_targets": [ "self" ],
    "skill": "deduction",
    "max_level": 20,
    "shape": "blast",
    "difficulty": 6,
    "effect": "effect_on_condition",
    "effect_str": "EOC_GROWING_WOOD_WALLS_SELECTOR",
    "base_casting_time": 30000,
    "final_casting_time": 12000,
    "casting_time_increment": -900,
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "final_energy_cost": 350,
    "energy_increment": -15
  },
  {
    "id": "arvore_growing_wood_walls_wall",
    "type": "SPELL",
    "name": "The Forest Offers Shelter (Wall)",
    "description": "The walls part of the Forest Offers Shelter spell.  It's a bug if you have it directly.",
    "flags": [ "SILENT" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 20,
    "difficulty": 6,
    "effect": "ter_transform",
    "effect_str": "ter_arvore_wood_wall",
    "shape": "blast",
    "min_range": 1,
    "max_range": 4,
    "range_increment": 0.25
  },
  {
    "id": "arvore_growing_wood_walls_floor",
    "type": "SPELL",
    "name": "The Forest Offers Shelter (Floor)",
    "description": "The floor part of the Forest Offers Shelter spell.  It's a bug if you have it directly.",
    "flags": [ "SILENT" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 20,
    "difficulty": 6,
    "effect": "ter_transform",
    "effect_str": "ter_arvore_wood_floor",
    "shape": "blast",
    "min_range": 1,
    "max_range": 4,
    "range_increment": 0.25
  },
  {
    "id": "arvore_growing_wood_walls_branch",
    "type": "SPELL",
    "name": "The Forest Offers Shelter (Branches)",
    "description": "The branches part of the Forest Offers Shelter spell.  It's a bug if you have it directly.",
    "flags": [ "SILENT" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 20,
    "difficulty": 6,
    "effect": "ter_transform",
    "effect_str": "ter_arvore_wood_branches",
    "shape": "blast",
    "min_range": 1,
    "max_range": 4,
    "range_increment": 0.25
  },
  {
    "id": "arvore_growing_wood_walls_door",
    "type": "SPELL",
    "name": "The Forest Offers Shelter (Door)",
    "description": "The doors part of the Forest Offers Shelter spell.  It's a bug if you have it directly.",
    "flags": [ "SILENT" ],
    "valid_targets": [ "ground" ],
    "skill": "deduction",
    "max_level": 20,
    "difficulty": 6,
    "effect": "ter_transform",
    "effect_str": "ter_arvore_wood_door",
    "shape": "blast",
    "min_range": 1,
    "max_range": 4,
    "range_increment": 0.25
  },
  {
    "id": "arvore_roots_spell",
    "type": "SPELL",
    "name": "Hungry Thirsty Roots",
    "//~": "The name is a reference to the poem \"Goblin Market\" by Christina Rossetti.",
    "//": "Experience with the druid spell Vegetative Grasp shows that at high levels it's a horde-killer with a single cast, so this is a greatly toned-down version with less predictability.",
    "description": "Your command over plants allows you to call forth roots from the earth to clutch and grasp at your enemies.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "NO_PROJECTILE", "NO_HANDS", "NO_LEGS", "RANDOM_DURATION" ],
    "max_level": { "math": [ "per_to_level(1)" ] },
    "skill": "deduction",
    "difficulty": 3,
    "effect": "attack",
    "effect_str": "effect_hungry_roots",
    "shape": "blast",
    "damage_type": "bash",
    "min_aoe": 0,
    "max_aoe": 3,
    "aoe_increment": 0.25,
    "min_range": 2,
    "max_range": 70,
    "range_increment": 0.65,
    "min_dot": 0,
    "max_dot": 5,
    "dot_increment": 0.1,
    "min_duration": {
      "math": [ "( ( (u_val('spell_level', 'spell: arvore_roots_spell') * 50) + 300) * (scaling_factor(u_val('perception') ) ) )" ]
    },
    "max_duration": {
      "math": [ "( ( (u_val('spell_level', 'spell: arvore_roots_spell') * 100) + 1000) * (scaling_factor(u_val('perception') ) ) )" ]
    },
    "energy_source": "MANA",
    "base_casting_time": 150,
    "final_casting_time": 50,
    "casting_time_increment": -4,
    "base_energy_cost": 225
  },
  {
    "id": "arvore_forest_mapping_spell",
    "type": "SPELL",
    "name": "Commune with the Ancient Oaks",
    "description": "This spell allows you to speak to the trees and discern the layout of the forest.",
    "valid_targets": [ "self" ],
    "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC", "NO_EXPLOSION_SFX" ],
    "skill": "deduction",
    "effect": "effect_on_condition",
    "effect_str": "EOC_GAIN_COMMUNE_OAKS",
    "shape": "blast",
    "energy_source": "MANA",
    "difficulty": 6,
    "max_level": 15,
    "base_casting_time": 6000,
    "final_casting_time": 1000,
    "casting_time_increment": -350,
    "base_energy_cost": 800,
    "final_energy_cost": 500,
    "energy_increment": -40,
    "min_duration": 6000,
    "max_duration": 6000
  },
  {
    "id": "arvore_perennial_rebirth_spell",
    "type": "SPELL",
    "name": "Perennial Rebirth",
    "description": "Bind your soul to the heart of the forest, rebirthing yourself if you should die.  You may only perform this in thick forests or at an arvore altar, you may be reborn no more than once in a lunar month.",
    "flags": [ "SOMATIC", "VERBAL", "CONCENTRATE", "NO_FAIL" ],
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_PERENNIAL_REBIRTH_INITIAL_CHECK",
    "shape": "blast",
    "max_level": 1,
    "difficulty": 10,
    "base_casting_time": 2160000,
    "energy_source": "MANA",
    "base_energy_cost": 2000
  },
  {
    "id": "arvore_sun_foods_on_spell",
    "type": "SPELL",
    "name": "Solar Repast Spell",
    "description": "The spell that provides the effects when your Solar Repast is active.  It's a bug if you have it directly.",
    "flags": [ "SILENT", "NO_EXPLOSION_SFX" ],
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "EOC_SUN_FOODS_ON_KCAL",
    "shape": "blast"
  }
]
