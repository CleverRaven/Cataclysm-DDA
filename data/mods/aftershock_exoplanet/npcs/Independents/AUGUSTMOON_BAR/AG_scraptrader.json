[
  {
    "type": "npc_class",
    "id": "NC_AG_SCRAPTRADER",
    "name": { "str": "Scrap trader" },
    "job_description": "A spacer who trades in scrap and salvage.",
    "common": false,
    "traits": [ [ "TRADER_INVENTORY", 100 ], { "group": "NPC_starting_traits" }, { "group": "Appearance_demographics" } ],
    "bonus_str": { "rng": [ 0, 1 ] },
    "bonus_dex": { "rng": [ 0, 2 ] },
    "bonus_int": { "rng": [ -2, 0 ] },
    "bonus_per": { "rng": [ 0, 2 ] },
    "worn_override": "NC_INDEPENDENT_CREW_worn",
    "weapon_override": "EMPTY_GROUP",
    "skills": [
      { "skill": "ALL", "level": { "sum": [ { "dice": [ 3, 2 ] }, { "constant": -3 } ] } },
      { "skill": "gun", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "pistol", "bonus": { "rng": [ 2, 4 ] } },
      { "skill": "rifle", "bonus": { "rng": [ 2, 4 ] } }
    ],
    "shopkeeper_price_rules": [ { "group": "afs_any_scrapgroup", "premium": 3.5 } ]
  },
  {
    "id": [ "AG_SCRAPTRADER_VOSTOK_1" ],
    "type": "talk_topic",
    "dynamic_line": {
      "math": [ "afs_spacer_lore(1) >= 10" ],
      "yes": "&You notice that the spacer's ragged clothing is actually an old Forge Fleet Vostok flight suit.  They call out to you as you approach, \"You look like you know your way planetside, if you are carrying any valuable scrap, I can get you a good price for it, far better than these corp vendors will.\"  You could probably do more than swap scrap if you knew how to gain their trust.",
      "no": "An old spacer sits in the corner, their ragged clothing and unkempt hair a testament to their years of hard living.  They call out to you as you approach, \"You look like you know your way planetside, if you are carrying any valuable scrap, I can get you a good price for it, far better than these corp vendors will.\""
    },
    "responses": [
      { "text": "Might have a thing or two to sell.", "topic": "TALK_DONE", "effect": "start_trade" },
      { "text": "What I need is contact with Vostok.", "topic": "AG_scraptrader_VOSTOK_2" },
      { "text": "I don't have anything to sell, actually.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": [ "AG_SCRAPTRADER" ],
    "type": "talk_topic",
    "dynamic_line": "An independent trader sits in the corner, swapping scrap and salvage for small bundles of chits.  <mypronouns> invites you over as you approach.",
    "responses": [
      { "text": "Might have some scrap to sell.", "topic": "TALK_DONE", "effect": "start_trade" },
      { "text": "I don't have anything to sell, actually.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "AG_scraptrader_VOSTOK_2",
    "type": "talk_topic",
    "dynamic_line": "The spacer continues to eye you carefully, even after recieving the proper handshakes.  \"Can't be done, not from here.  Dirtboots all around, any comms will be heard by half the sector over.  Someone would need to hack a packet ship to slip you a line and I dont see anyone around here with that kind of skill.",
    "responses": [
      {
        "condition": { "math": [ "u_skill('computer') >= 8" ] },
        "text": "What if I could get you that kind of skill?",
        "topic": "AG_scraptrader_VOSTOK_3"
      },
      { "text": "Thanks for the info.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "AG_scraptrader_VOSTOK_3",
    "type": "talk_topic",
    "dynamic_line": "The spacer raises an eyebrow at you, \"Now that's interesting.  If you could get me some serious computer skills, I know just the place where you stand a chance of pulling it off.\" <mypronouns> flips a bit of scrap in <mypronouns> hand thoughtfully.  \"Old stratoscomm point down there on the surface, UICA set it up but it goes unchecked most of the time...  Careful work and you might be able to rig up a link without anyone noticing.  Mess it up and the Firelight will blast you back into orbit for sure.  Now either trade some scrap or get to work on that.\"",
    "responses": [
      { "text": "I'll see what I can do.", "topic": "TALK_DONE", "effect": "" },
      { "text": "I'll see what I can do.  Not for free, though.", "topic": "AG_scraptrader_vostok_payment" }
    ]
  },
  {
    "id": "AG_scraptrader_vostok_payment",
    "type": "talk_topic",
    "dynamic_line": {
      "yes": "The spacer nods, \"Fair enough, 10k if you come through.  Sound good?\"",
      "no": "The spacer frowns, \"I put a good word in Vostok for you, you land me a comms link.  I figure we are more than even then.\""
    },
    "responses": [ { "text": "Deal.", "topic": "TALK_DONE", "effect": "" } ]
  }
]
