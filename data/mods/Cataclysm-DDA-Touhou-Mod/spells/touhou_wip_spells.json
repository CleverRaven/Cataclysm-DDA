[
  {
    "id": "aa_notespell",
    "type": "SPELL",
    "name": "Note spell",
    "description": "These spells don't work, there's a critical component missing or they just don't work at all",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "effect": "attack",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA"
  },
  {
    "id": "dash_mokou_OLD",
    "type": "SPELL",
    "name": "Dash",
    "description": "Quickly ignite the air around you, causing the air pressure to rapidly increase to impulse yourself forward.  This lits nearby terrain on fire and deals a small amount of fire damage.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "dash",
    "extra_effects": [ { "id": "dash_mokou2_OLD" } ],
    "shape": "line",
    "min_range": 5,
    "max_range": 5,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 80,
    "base_energy_cost": 2500,
    "energy_source": "STAMINA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "LOUD", "NO_HANDS", "NO_LEGS" ]
  },
  {
    "id": "dash_mokou2_OLD",
    "type": "SPELL",
    "name": "Dash",
    "description": "AoE fire effect for dash_mokou ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": 25,
    "max_damage": 25,
    "min_range": 5,
    "max_range": 5,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "STAMINA",
    "flags": [ "IGNITE_FLAMMABLE" ],
    "//": "This doesn't work as intended: the aoe is cast *before* the dash regardless of the spell-subspell order (including the EXTRA_EFFECTS_FIRST flag). Also, sometimes the aoe is cast at min_range distance away in front of the landing spot... which would be interesting for other spells if it were replicable"
  },
  {
    "id": "iku_batteryrestore1",
    "type": "SPELL",
    "name": "Restore battery (ultra light)",
    "description": "Use a small amount of electric power to restore ultra light batteries.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "components": "spell_components_battery_ultralight",
    "effect": "spawn_item",
    "effect_str": "light_minus_battery_cell",
    "shape": "blast",
    "min_duration": 100,
    "max_duration": 100,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 1000,
    "base_energy_cost": 50,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_LEGS", "PERMANENT" ],
    "//": "These spells don't work because batteries are spawned with zero energy, instead of full"
  },
  {
    "id": "iku_batteryrestore2",
    "type": "SPELL",
    "name": "Restore battery (light)",
    "description": "Use a small amount of electric power to restore light batteries.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "components": "spell_components_battery_light",
    "effect": "spawn_item",
    "effect_str": "light_battery_cell",
    "shape": "blast",
    "min_duration": 100,
    "max_duration": 100,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 1000,
    "base_energy_cost": 75,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_LEGS", "PERMANENT" ]
  },
  {
    "id": "iku_batteryrestore3",
    "type": "SPELL",
    "name": "Restore battery (medium)",
    "description": "Use a small amount of electric power to restore medium batteries.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "components": "spell_components_battery_medium",
    "effect": "spawn_item",
    "effect_str": "medium_battery_cell",
    "shape": "blast",
    "min_duration": 100,
    "max_duration": 100,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 1000,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_LEGS", "PERMANENT" ]
  },
  {
    "id": "iku_batteryrestore4",
    "type": "SPELL",
    "name": "Restore battery (heavy)",
    "description": "Use your electric power to restore heavy batteries.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "components": "spell_components_battery_heavy",
    "effect": "spawn_item",
    "effect_str": "heavy_battery_cell",
    "shape": "blast",
    "min_duration": 100,
    "max_duration": 100,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 1000,
    "base_energy_cost": 125,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_LEGS", "PERMANENT" ]
  },
  {
    "id": "kaenbyou_dismissfire",
    "type": "SPELL",
    "name": "Dismiss fire",
    "description": "Extinguish the targeted fire.",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground" ],
    "effect": "remove_field",
    "effect_str": "fd_fire",
    "extra_effects": [ { "id": "kaenbyou_dismissfire2" }, { "id": "kaenbyou_dismissfire3" } ],
    "shape": "blast",
    "min_range": 8,
    "max_range": 8,
    "min_aoe": 2,
    "max_aoe": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 133,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX" ],
    "//": "See yamame_webdismiss "
  },
  {
    "id": "kaenbyou_dismissfire2",
    "type": "SPELL",
    "name": "Dismiss fire (subspell)",
    "description": "Subspell for kaenbyou_dismissfire ",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground" ],
    "effect": "remove_field",
    "effect_str": "fd_incendiary",
    "shape": "blast",
    "min_range": 8,
    "max_range": 8,
    "min_aoe": 2,
    "max_aoe": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX" ]
  },
  {
    "id": "kaenbyou_dismissfire3",
    "type": "SPELL",
    "name": "Dismiss fire (subspell)",
    "description": "Subspell for kaenbyou_dismissfire ",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground" ],
    "effect": "remove_field",
    "effect_str": "fd_flame_burst",
    "shape": "blast",
    "min_range": 8,
    "max_range": 8,
    "min_aoe": 2,
    "max_aoe": 2,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX" ]
  },
  {
    "id": "mokou_fireball",
    "type": "SPELL",
    "name": "Create fire ball",
    "description": "Create a fiery ball on your hand.  The sphere is metastable, meaning you can trigger it into a fiery explosion, or focus the flames on a target so it works as a fire source.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "spawn_item",
    "effect_str": "mokou_fireball2",
    "shape": "blast",
    "min_duration": 0,
    "max_duration": 0,
    "difficulty": -10,
    "max_level": 1,
    "base_casting_time": 66,
    "base_energy_cost": 366,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SILENT", "PERMANENT" ],
    "//": "Barely based on Indiscriminate Ignition Cards",
    "//2": "This spell doesn't work because: adding duration without the PERMANENT flag allows using the fireball as firestarter but when activated doesn't explode, just disappears; if the duration is set as zero with the PERMANENT flag, the item can just be continuously spammed, which is not good"
  },
  {
    "id": "sakuya_knifepull",
    "type": "SPELL",
    "name": { "str": "Knife retrieval" },
    "description": "Stop time to retrieve nearby knives (without anyone noticing it).",
    "valid_targets": [ "self", "item" ],
    "effect": "area_pull",
    "effect_str": "KNIVES",
    "extra_effects": [ { "id": "sakuya_knifepull2" } ],
    "shape": "blast",
    "message": "You elegantly retrieve nearby knives.",
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 6,
    "max_aoe": 26,
    "aoe_increment": 2,
    "max_level": 10,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_PROJECTILE", "SILENT", "WONDER" ],
    "//": "This is deactivated: there's currently no way to pull *only* knives, any 'item' in the aoe is pulled, which is not good. Also, the WONDER + x50 spell repeats as area_pull seems hardcoded to 1 tile per action, which works good enough for this spell specially but it's something to keep in mind"
  },
  {
    "id": "sakuya_knifepull2",
    "type": "SPELL",
    "name": { "str": "Knife retrieval" },
    "description": "Stop time to retrieve nearby knives (without anyone noticing it).",
    "valid_targets": [ "self", "item" ],
    "effect": "area_pull",
    "effect_str": "KNIVES",
    "shape": "blast",
    "message": "You elegantly retrieve nearby knives.",
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 6,
    "max_aoe": 26,
    "aoe_increment": 2,
    "max_level": 10,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "yamame_damnedrope",
    "type": "SPELL",
    "name": "Damned's rope",
    "description": "Entangle a target and pull it towards your position, stunning it for a short time.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "pull_target",
    "extra_effects": [ { "id": "yamame_damnedrope2" }, { "id": "yamame_damnedrope3" } ],
    "shape": "line",
    "min_damage": 70,
    "max_damage": 270,
    "damage_increment": 20,
    "min_range": 11,
    "max_range": 24,
    "range_increment": 1.3,
    "field_id": "fd_web2",
    "field_chance": 1,
    "min_field_intensity": 2,
    "max_field_intensity": 3,
    "max_level": 10,
    "difficulty": -10,
    "base_casting_time": 66,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_LEGS", "SOMATIC" ],
    "//": "See yamame_damnedrope2 "
  },
  {
    "id": "yamame_damnedrope2",
    "type": "SPELL",
    "name": "Damned's rope (bonus STR)",
    "description": "The pull_target spell effect is currently hardcoded to pull according to the caster's STR (exact values and formula are at #52155). This subspell temporarely buffs the PC with damnedrope_str so they can actually pull zombies and whatnot",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_damnedrope_start",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SILENT" ],
    "//": "The mutation is not being applied before the main spell is cast, so base STR is used to pull, which is not enough due how pull_target works and it fails",
    "//2": "The mutation itself works, either by copying it inside the profession (profession and valid fields as true!) or by testing this subspell to see if yamame_damnedrope_start works (it does). However, the EOC is activating 1 turn or so after using the spell which again makes it not work"
  },
  {
    "id": "yamame_damnedrope3",
    "type": "SPELL",
    "name": "Damned's rope (stun)",
    "description": "Stun component of yamame_damnedrope ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "mod_moves",
    "shape": "blast",
    "min_damage": -300,
    "max_damage": -600,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DURATION", "SILENT" ]
  },
  {
    "id": "yamame_webdismiss",
    "type": "SPELL",
    "name": "Dismiss webs",
    "description": "Dismiss all summoned webs.",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground", "item", "self" ],
    "effect": "ter_transform",
    "effect_str": "web_dismiss_fur",
    "extra_effects": [ { "id": "yamame_webdismiss2" } ],
    "shape": "blast",
    "min_range": 6,
    "max_range": 6,
    "min_aoe": 3,
    "max_aoe": 3,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT", "SOMATIC" ],
    "//": "This can be replaced by EOCs automatically disabling the summoned terrain... eventually",
    "//2": "Doesn't work: seems the remove_field subspell removes a single field intensity in the entire aoe, even chaining the x99 repeat subspell and using it 15 times or so isn't enough to clear the 3-radius aoe, and it also floods the P message window"
  },
  {
    "id": "yamame_webdismiss2",
    "type": "SPELL",
    "name": "Dismiss webs",
    "description": "Subspell repeater for yamame_webdismiss ",
    "spell_class": "NONE",
    "valid_targets": [ "field", "ground", "item", "self" ],
    "effect": "attack",
    "extra_effects": [ { "id": "yamame_webdismiss3" } ],
    "shape": "blast",
    "min_damage": 99,
    "max_damage": 99,
    "min_range": 6,
    "max_range": 6,
    "min_aoe": 3,
    "max_aoe": 3,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "SILENT", "WONDER" ]
  },
  {
    "id": "yamame_webdismiss3",
    "type": "SPELL",
    "name": "Dismiss webs (fields)",
    "description": "Field removal component of yamame_webdismiss ",
    "spell_class": "NONE",
    "valid_targets": [ "field" ],
    "effect": "remove_field",
    "effect_str": "fd_web",
    "shape": "blast",
    "min_damage": 999,
    "max_damage": 999,
    "min_range": 6,
    "max_range": 6,
    "min_aoe": 3,
    "max_aoe": 3,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "SILENT" ]
  }
]
