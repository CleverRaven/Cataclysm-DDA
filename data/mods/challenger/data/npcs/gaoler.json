[
  {
    "id": "EOC_GAOLER_COMPUTER",
    "type": "effect_on_condition",
    "effect": [ "open_dialogue" ]
  },
  {
    "type": "talk_topic",
    "id": "GAOLER_MAIN",
    "dynamic_line": "Challenger, input command.",
    "responses": [
      {
        "text": "> WHERE",
        "condition": { "u_has_var": "seen_welcome_note", "type": "dialogue", "context": "gaoler", "value": "yes" },
        "topic": "GAOLER_WHERE"
      },
      {
        "text": "> WHY",
        "condition": { "u_has_var": "seen_welcome_note", "type": "dialogue", "context": "gaoler", "value": "yes" },
        "topic": "GAOLER_WHY"
      },
      {
        "text": "> I WANT TO FIGHT",
        "condition": { "u_has_var": "seen_welcome_note", "type": "dialogue", "context": "gaoler", "value": "yes" },
        "effect": [
          { "u_location_variable": { "global_val": "teleport_loc"}, "target_params": { "om_special": "the_compound", "om_terrain": "compound_arena", "reveal_radius": 0, "search_range": 20 } },
          { "u_location_variable": { "global_val": "original_loc" } }
                ],
        "topic": "GAOLER_FIGHT"
      },
      { "text": "> LOG OFF", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "GAOLER_WHERE",
    "dynamic_line": "You are at the end.  I have been instructed to congratulate you on making it here, so many have not.  I have been directed to provide you what you need, for a price.  As they say nothing in life is free.",
    "responses": [ { "text": "> BACK", "topic": "GAOLER_MAIN" } ]
  },
  {
    "type": "talk_topic",
    "id": "GAOLER_WHY",
    "dynamic_line": "Insuficient specificity.  Please use more percice command.",
    "responses": [ { "text": "> BACK", "topic": "GAOLER_MAIN" } ]
  },
  {
    "type": "talk_topic",
    "id": "GAOLER_FIGHT",
    "dynamic_line": "Very good challenger, let us find you a challenge.",
    "responses": [ { "text": "> FIND FIGHT",
      "effect": [
         { "u_teleport": { "global_val": "teleport_loc" }, "fail_message": "your body doesn't move", "success_message": "All at once your body feels like it's beeing pulled in 1000 different directions." },
         { "assign_mission": "Fighting"}
      ],
      "topic": "TALK_DONE" } ]
  }
]
