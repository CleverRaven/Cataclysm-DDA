[
  {
    "//": "Remember for all casting times and energy costs below that without the Blackstaff, casting time is doubled and energy cost is increased by 50%!",
    "id": "iso_eldritch_sorcery",
    "type": "magic_type",
    "energy_source": "MANA",
    "failure_cost_percent": 0.5,
    "cannot_cast_flags": "NO_SPELLCASTING",
    "cannot_cast_message": "Your powers do not come as you call them!",
    "get_level_formula_id": "iso_eldritch_sorcery_formula_get_level",
    "exp_for_level_formula_id": "iso_eldritch_sorcery_formula_exp_for_level",
    "casting_xp_formula_id": "iso_eldritch_sorcery_formula_exp_per_cast",
    "failure_chance_formula_id": "iso_eldritch_sorcery_failure_chance"
  },
  {
    "id": "iso_eldritch_basic_attack",
    "type": "SPELL",
    "name": "Baleful Flames of Abhorrach",
    "description": "Summon up a bolt of black flame from the Outer Dark that alternately burns and freezes its target.",
    "valid_targets": [ "hostile" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 1,
    "max_level": 30,
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [ { "id": "iso_eldritch_basic_attack_cold_damage" } ],
    "damage_type": "heat",
    "min_damage": { "math": [ "((u_spell_level('iso_eldritch_basic_attack') * 1.8) + 5) / 2" ] },
    "max_damage": { "math": [ "((u_spell_level('iso_eldritch_basic_attack') * 3.6) + 10) / 2" ] },
    "min_range": 8,
    "range_increment": 0.25,
    "max_range": 25,
    "base_energy_cost": 40,
    "base_casting_time": 100
  },
  {
    "id": "iso_eldritch_basic_attack_cold_damage",
    "type": "SPELL",
    "name": { "str": "Baleful Flames of Abhorrach Cold Damage", "//~": "NO_I18N" },
    "description": { "str": "The cold damage part.  IT's a bug if you have it", "//~": "NO_I18N" },
    "valid_targets": [ "hostile" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 1,
    "max_level": 30,
    "effect": "attack",
    "shape": "blast",
    "damage_type": "cold",
    "min_damage": { "math": [ "((u_spell_level('iso_eldritch_basic_attack') * 1.8) + 5) / 2" ] },
    "max_damage": { "math": [ "((u_spell_level('iso_eldritch_basic_attack') * 3.6) + 10) / 2" ] },
    "min_range": 8,
    "range_increment": 0.25,
    "max_range": 25
  },
  {
    "id": "iso_eldritch_stun_blind_deaf",
    "type": "SPELL",
    "name": "Inescapable Tesseract of Thought",
    "description": "Lock the target's mind away from its senses, leaving it incapable of perceiving the outside world in any way.",
    "valid_targets": [ "hostile" ],
    "flags": [ "ENERVATION_SPELL", "RANDOM_DAMAGE", "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 1,
    "max_level": 30,
    "effect": "effect_on_condition",
    "effect_str": "EOC_ISO_ELDRITCH_STUN_BLIND_DEAF",
    "shape": "blast",
    "min_duration": { "math": [ "(u_spell_level('iso_eldritch_stun_blind_deaf') * 150) + 300" ] },
    "max_duration": { "math": [ "(u_spell_level('iso_eldritch_stun_blind_deaf') * 375) + 900" ] },
    "min_range": 4,
    "range_increment": 0.33,
    "max_range": 20,
    "base_energy_cost": 150,
    "base_casting_time": 125
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_ISO_ELDRITCH_STUN_BLIND_DEAF",
    "effect": [
      { "math": [ "u_iso_spell_lower_duration = ((u_spell_level('iso_eldritch_stun_blind_deaf') * 1.50) + 3.00)" ] },
      { "math": [ "u_iso_spell_upper_duration = ((u_spell_level('iso_eldritch_stun_blind_deaf') * 3.75) + 9.00)" ] },
      {
        "u_add_effect": "blind",
        "duration": { "math": [ "rng(u_iso_spell_lower_duration,u_iso_spell_upper_duration)" ] }
      },
      {
        "u_add_effect": "deaf",
        "duration": { "math": [ "rng(u_iso_spell_lower_duration,u_iso_spell_upper_duration)" ] }
      },
      {
        "u_add_effect": "stunned",
        "duration": { "math": [ "rng(u_iso_spell_lower_duration,u_iso_spell_upper_duration)" ] }
      }
    ]
  },
  {
    "id": "iso_eldritch_summon_hindering_darkness",
    "type": "SPELL",
    "name": "The Crawling Tendrils of Utternight",
    "description": "Summon a darkness so thick as to be tangible, wrapping around the limbs of those in the target area and hindering their movements.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "CONJURATION_SPELL", "VERBAL", "SOMATIC", "NO_LEGS", "IGNORE_WALLS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 4,
    "max_level": 30,
    "effect": "attack",
    "shape": "blast",
    "min_range": 5,
    "range_increment": 0.25,
    "max_range": 15,
    "min_aoe": 3,
    "max_aoe": 10,
    "aoe_increment": 0.2,
    "base_energy_cost": 250,
    "base_casting_time": 150,
    "field_id": "fd_crawling_darkness",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "field_intensity_increment": 1,
    "field_chance": 1
  },
  {
    "id": "iso_eldritch_line_biting_acid",
    "type": "SPELL",
    "name": "The Thousandfold Maws of the Black Goat",
    "description": "Weaken the fabric of reality in a small area, allowing the Black Goat to smell any prey within.  Its terrible mouths will manifest, biting and slavering its caustic juices over all unfortunate targets.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "RANDOM_DURATION", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 3,
    "max_level": 30,
    "effect": "attack",
    "shape": "line",
    "damage_type": "cut",
    "min_damage": { "math": [ "(u_spell_level('iso_eldritch_line_biting_acid') * 1.4) + 14" ] },
    "max_damage": { "math": [ "(u_spell_level('iso_eldritch_line_biting_acid') * 3.3) + 35" ] },
    "min_range": 5,
    "range_increment": 0.25,
    "max_range": 15,
    "base_energy_cost": 200,
    "base_casting_time": 150,
    "field_id": "fd_acid",
    "min_field_intensity": 1,
    "max_field_intensity": 2,
    "field_intensity_increment": 1,
    "field_chance": 2
  },
  {
    "id": "iso_eldritch_cone_lightning",
    "type": "SPELL",
    "name": "Stormtenders' Fulminating Fury",
    "description": "Unleash a cone of lashing lightnings that scourge your enemies.  This enchantment also briefly stuns robotic enemies.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "RANDOM_DURATION", "VERBAL", "SOMATIC", "NO_LEGS", "LOUD" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 4,
    "max_level": 30,
    "effect": "attack",
    "effect_str": "sensor_stun",
    "shape": "cone",
    "damage_type": "electric",
    "min_damage": { "math": [ "(u_spell_level('iso_eldritch_cone_lightning') * 1.1) + 8" ] },
    "max_damage": { "math": [ "(u_spell_level('iso_eldritch_cone_lightning') * 2.7) + 20" ] },
    "min_duration": 200,
    "max_duration": 500,
    "min_range": 4,
    "range_increment": 0.2,
    "max_range": 8,
    "min_aoe": 40,
    "max_aoe": 75,
    "aoe_increment": 0.9,
    "base_energy_cost": 150,
    "base_casting_time": 120,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 2,
    "field_chance": 1
  },
  {
    "id": "iso_eldritch_cold_damage_blast",
    "type": "SPELL",
    "name": "The Frozen Heart of R'shothai",
    "description": "Summon the pure chill of the Outer Dark into a target location, freezing and slowing all enemies within.  Be careful not to be caught in the blast.  This enchantment has no effects on the creatures of the Nether.",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "EVOCATION_SPELL", "RANDOM_DAMAGE", "RANDOM_DURATION", "SPLIT_DAMAGE", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 6,
    "max_level": 30,
    "effect": "attack",
    "effect_str": "effect_iso_eldritch_cold_damage_blast",
    "shape": "blast",
    "damage_type": "cold",
    "min_damage": { "math": [ "(u_spell_level('iso_eldritch_cone_lightning') * 1.9) + 20" ] },
    "max_damage": { "math": [ "(u_spell_level('iso_eldritch_cone_lightning') * 4.1) + 45" ] },
    "min_duration": 600,
    "max_duration": 2000,
    "min_range": 5,
    "range_increment": 0.2,
    "max_range": 12,
    "min_aoe": 1,
    "max_aoe": 6,
    "aoe_increment": 0.4,
    "base_energy_cost": 450,
    "base_casting_time": 250,
    "ignored_monster_species": [ "NETHER" ]
  },
  {
    "id": "iso_eldritch_blink",
    "type": "SPELL",
    "name": "The Transportations of Immenar",
    "description": "Discorporates your body and reconstitutes it a short distance nearby.",
    "valid_targets": [ "none" ],
    "flags": [ "CONVEYANCE_SPELL", "VERBAL", "RANDOM_AOE", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 3,
    "max_level": 30,
    "effect": "short_range_teleport",
    "shape": "blast",
    "min_range": 5,
    "max_range": 15,
    "range_increment": 0.25,
    "min_aoe": 2,
    "max_aoe": 4,
    "aoe_increment": 0.2,
    "base_energy_cost": 100,
    "base_casting_time": 75
  },
  {
    "id": "iso_eldritch_damage_shield",
    "type": "SPELL",
    "name": "Impenetrable Coruscating Scales of Vishkan",
    "description": "Summon the power of an elder wyrm, creating a shell of impenetrable dragon scales around your body.  The scales will withstand a number of blows before the enchant collapse, though their lambent glow will give away your position in the dark.  The enchantment will last several blows before collapsing, and may be canceled at any time.",
    "valid_targets": [ "self" ],
    "flags": [ "ENHANCEMENT_SPELL", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 6,
    "max_level": 30,
    "effect": "effect_on_condition",
    "effect_str": "EOC_ISO_ELDRITCH_DAMAGE_SHIELD_INITIATE",
    "shape": "blast",
    "base_energy_cost": { "math": [ "u_effect_intensity('effect_iso_eldritch_damage_shield') > -1 ? 0 : 500" ] },
    "base_casting_time": { "math": [ "u_effect_intensity('effect_iso_eldritch_damage_shield') > -1 ? 10 : 350" ] }
  },
  {
    "id": "iso_eldritch_destroy_nether",
    "type": "SPELL",
    "name": "Thricefold Abjuration of the Outside",
    "description": "Sever the bonds that tie a single Nether creature to this world, instantly forcing it back from whence it came.",
    "valid_targets": [ "hostile" ],
    "flags": [ "CONVEYANCE_SPELL", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 9,
    "max_level": 30,
    "effect": "banishment",
    "shape": "blast",
    "min_damage": 5000,
    "max_damage": 5000,
    "min_range": 5,
    "max_range": 15,
    "range_increment": 0.25,
    "base_energy_cost": 350,
    "base_casting_time": 150,
    "targeted_monster_species": [ "NETHER" ]
  },
  {
    "id": "iso_eldritch_polymorph",
    "type": "SPELL",
    "name": "Tsath's Horrific Metamorphosis",
    "description": "Twist the target's body, mutating them into a stumbling mass of flesh whose many mouths can only keen out the song of their suffering.",
    "valid_targets": [ "hostile" ],
    "flags": [ "TRANSFORMATION_SPELL", "RANDOM_DAMAGE", "VERBAL", "SOMATIC", "NO_LEGS" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 8,
    "max_level": 30,
    "effect": "targeted_polymorph",
    "effect_str": "mon_fleshy_shambler",
    "shape": "blast",
    "min_damage": { "math": [ "(u_spell_level('iso_eldritch_polymorph') * 3.1) + 30" ] },
    "max_damage": { "math": [ "(u_spell_level('iso_eldritch_polymorph') * 7.1) + 70" ] },
    "min_range": 6,
    "max_range": 25,
    "range_increment": 0.33,
    "base_energy_cost": 600,
    "base_casting_time": 200,
    "ignored_monster_species": [ "ROBOT", "ROBOT_FLYING" ]
  },
  {
    "id": "iso_eldritch_imprisonment",
    "type": "SPELL",
    "name": "The Adamantine Gaol of Emthys",
    "description": "Create an impenetrable shell of force around the target, preventing them from moving or acting for the enchantment's duration.  The shell works in two directions and the target is also immune to all harm.",
    "valid_targets": [ "hostile" ],
    "flags": [ "ENERVATION_SPELL", "VERBAL", "SOMATIC", "RANDOM_DURATION" ],
    "spell_class": "iso_eldritch_sorcery",
    "magic_type": "iso_eldritch_sorcery",
    "difficulty": 10,
    "max_level": 30,
    "effect": "attack",
    "effect_str": "effect_iso_eldritch_imprisonment",
    "shape": "blast",
    "min_range": 5,
    "max_range": 30,
    "range_increment": 1,
    "min_duration": { "math": [ "(u_spell_level('iso_eldritch_basic_attack') * 75) + 300" ] },
    "max_duration": { "math": [ "(u_spell_level('iso_eldritch_basic_attack') * 150) + 1200" ] },
    "base_energy_cost": 750,
    "base_casting_time": 75
  }
]
